{
    "13": {
        "0": {
            "req_id": 13,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 780,
                "out_toks": 14,
                "id": "chatcmpl-BgYeBQNVvqItwWp0WnIcFCC9k7kLq",
                "created": 1749482659,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table aliases and references, ensuring the subquery is correctly integrated\n -- Retrieve all SNe with first detection between December 1, 2022 (mjd 59914.0) and September 1, 2023 (mjd 60217.0)\n\nSELECT o.firstmjd,\n       o.lastmjd,\n       o.oid,\n       p.class_name AS probability_class\nFROM OBJECT o -- Join with probability table to get class probabilities\nJOIN probability p ON o.oid = p.oid -- Filter for objects where the most probable class is 'SN' (Supernova)\n\nWHERE p.class_name = 'SN'\n  AND p.ranking = 1 -- Filter objects with first detection date in the specified range\n\n  AND o.firstmjd BETWEEN 59914.0 AND 60217.0;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table aliases and references, ensuring the subquery is correctly integrated\n -- Retrieve all SNe with first detection between December 1, 2022 (mjd 59914.0) and September 1, 2023 (mjd 60217.0)\n\nSELECT o.firstmjd,\n       o.lastmjd,\n       o.oid,\n       p.class_name AS probability_class\nFROM OBJECT o -- Join with probability table to get class probabilities\nJOIN probability p ON o.oid = p.oid -- Filter for objects where the most probable class is 'SN' (Supernova)\n\nWHERE p.class_name = 'SN'\n  AND p.ranking = 1 -- Filter objects with first detection date in the specified range\n\n  AND o.firstmjd BETWEEN 59914.0 AND 60217.0;"
                },
                "in_toks": 1469,
                "out_toks": 179,
                "id": "chatcmpl-BgZW7prfjlontbM2JVYNoUBdwCXxQ",
                "created": 1749486003,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all SNe with first detection between December 1, 2022 (mjd 59914.0) and September 1, 2023 (mjd 60217.0)\n\nSELECT p.class_name AS probability_class,\n       o.lastmjd,\n       o.firstmjd,\n       o.oid\nFROM OBJECT o\nWHERE o.firstmjd BETWEEN 59914.0 AND 60217.0\n  AND o.oid IN\n    (-- Subquery to select OIDs with the most probable class as 'SN' (Supernova)\n SELECT oid\n     FROM\n       (SELECT p.oid,\n               p.ranking\n        FROM probability p\n        WHERE p.class_name = 'SN' -- Assuming 'SN' is the class name for Supernova\n\n          AND p.classifier_name = 'stamp_classifier'\n        ORDER BY p.oid,\n                 p.ranking) sub\n     WHERE ranking = 1 );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all SNe with first detection between December 1, 2022 (mjd 59914.0) and September 1, 2023 (mjd 60217.0)\n\nSELECT p.class_name AS probability_class,\n       o.lastmjd,\n       o.firstmjd,\n       o.oid\nFROM OBJECT o\nWHERE o.firstmjd BETWEEN 59914.0 AND 60217.0\n  AND o.oid IN\n    (-- Subquery to select OIDs with the most probable class as 'SN' (Supernova)\n SELECT oid\n     FROM\n       (SELECT p.oid,\n               p.ranking\n        FROM probability p\n        WHERE p.class_name = 'SN' -- Assuming 'SN' is the class name for Supernova\n\n          AND p.classifier_name = 'stamp_classifier'\n        ORDER BY p.oid,\n                 p.ranking) sub\n     WHERE ranking = 1 );"
                },
                "in_toks": 2160,
                "out_toks": 213,
                "id": "chatcmpl-BgYeCOLQ9JhUXguBWqoxaZEjWwlqY",
                "created": 1749482660,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 13,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 780,
                "out_toks": 14,
                "id": "chatcmpl-BgYeBQNVvqItwWp0WnIcFCC9k7kLq",
                "created": 1749482659,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table references and syntax, including table aliasing for clarity\n -- Retrieve all SNe with first detection between December 1, 2022 (mjd 59914.0) and September 1, 2023 (mjd 60217.0)\n\nSELECT prob.class_name AS probability_class,\n       o.lastmjd,\n       o.firstmjd,\n       o.oid\nFROM OBJECT o -- Join with probability table to filter objects classified as SNe with highest probability ranking\nJOIN probability prob ON prob.oid = o.oid\nWHERE o.firstmjd BETWEEN 59914.0 AND 60217.0\n  AND prob.class_name IN ('SNII',\n                          'SNIa',\n                          'SNIbc',\n                          'SLSN') -- All SNe classes\n\n  AND prob.classifier_name = 'lc_classifier'\n  AND prob.ranking = 1;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table references and syntax, including table aliasing for clarity\n -- Retrieve all SNe with first detection between December 1, 2022 (mjd 59914.0) and September 1, 2023 (mjd 60217.0)\n\nSELECT prob.class_name AS probability_class,\n       o.lastmjd,\n       o.firstmjd,\n       o.oid\nFROM OBJECT o -- Join with probability table to filter objects classified as SNe with highest probability ranking\nJOIN probability prob ON prob.oid = o.oid\nWHERE o.firstmjd BETWEEN 59914.0 AND 60217.0\n  AND prob.class_name IN ('SNII',\n                          'SNIa',\n                          'SNIbc',\n                          'SLSN') -- All SNe classes\n\n  AND prob.classifier_name = 'lc_classifier'\n  AND prob.ranking = 1;"
                },
                "in_toks": 1459,
                "out_toks": 196,
                "id": "chatcmpl-BgZWAM3sNYMRiu0hAIkaZojkgJgh5",
                "created": 1749486006,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all SNe with first detection between December 1, 2022 (mjd 59914.0) and September 1, 2023 (mjd 60217.0)\n\nSELECT p.class_name AS probability_class,\n       o.lastmjd,\n       o.firstmjd,\n       o.oid\nFROM OBJECT o\nWHERE o.firstmjd BETWEEN 59914.0 AND 60217.0\n  AND EXISTS\n    (-- Check if the object has a probability of being a supernova (SNe) with ranking=1\n SELECT 1\n     FROM probability p\n     WHERE p.oid = o.oid\n       AND p.class_name IN ('SNII',\n                            'SNIa',\n                            'SNIbc',\n                            'SLSN') -- All SNe classes\n\n       AND p.classifier_name = 'lc_classifier'\n       AND p.ranking = 1 );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all SNe with first detection between December 1, 2022 (mjd 59914.0) and September 1, 2023 (mjd 60217.0)\n\nSELECT p.class_name AS probability_class,\n       o.lastmjd,\n       o.firstmjd,\n       o.oid\nFROM OBJECT o\nWHERE o.firstmjd BETWEEN 59914.0 AND 60217.0\n  AND EXISTS\n    (-- Check if the object has a probability of being a supernova (SNe) with ranking=1\n SELECT 1\n     FROM probability p\n     WHERE p.oid = o.oid\n       AND p.class_name IN ('SNII',\n                            'SNIa',\n                            'SNIbc',\n                            'SLSN') -- All SNe classes\n\n       AND p.classifier_name = 'lc_classifier'\n       AND p.ranking = 1 );"
                },
                "in_toks": 2160,
                "out_toks": 199,
                "id": "chatcmpl-BgYeGZ1j57dqXk8C6Dv8ML6oLAaYe",
                "created": 1749482664,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "10": {
        "0": {
            "req_id": 10,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 816,
                "out_toks": 14,
                "id": "chatcmpl-BgYeKciqOOcTT8fd6U56uUvSEpwf1",
                "created": 1749482668,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object identifiers and probabilities for specific classes with ranking conditions and probability difference\n\nSELECT p1.oid,\n       p1.probability AS SN_prob,\n       p2.probability AS CV_prob\nFROM -- Subquery for SNIa with ranking=1\n\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'SNIa'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1) p1\nJOIN -- Subquery for CV/Nova with ranking=2\n\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'CV/Nova'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 2) p2 ON p1.oid = p2.oid\nWHERE ABS(p1.probability - p2.probability) < 0.1;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object identifiers and probabilities for specific classes with ranking conditions and probability difference\n\nSELECT p1.oid,\n       p1.probability AS SN_prob,\n       p2.probability AS CV_prob\nFROM -- Subquery for SNIa with ranking=1\n\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'SNIa'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1) p1\nJOIN -- Subquery for CV/Nova with ranking=2\n\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'CV/Nova'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 2) p2 ON p1.oid = p2.oid\nWHERE ABS(p1.probability - p2.probability) < 0.1;"
                },
                "in_toks": 2150,
                "out_toks": 189,
                "id": "chatcmpl-BgYeLKrQ5XF4q59JkGwXGP8k7t8wL",
                "created": 1749482669,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 10,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 816,
                "out_toks": 14,
                "id": "chatcmpl-BgYeKciqOOcTT8fd6U56uUvSEpwf1",
                "created": 1749482668,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object identifiers and probabilities for specific classes with ranking and probability difference constraints\n\nSELECT p1.oid,\n       p1.probability AS SN_prob,\n       p2.probability AS CV_prob\nFROM -- Subquery for SNIa with ranking=1\n\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'SNIa'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1) p1\nJOIN -- Subquery for CV/Nova with ranking=2\n\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'CV/Nova'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 2) p2 ON p1.oid = p2.oid\nWHERE ABS(p1.probability - p2.probability) < 0.1;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object identifiers and probabilities for specific classes with ranking and probability difference constraints\n\nSELECT p1.oid,\n       p1.probability AS SN_prob,\n       p2.probability AS CV_prob\nFROM -- Subquery for SNIa with ranking=1\n\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'SNIa'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1) p1\nJOIN -- Subquery for CV/Nova with ranking=2\n\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'CV/Nova'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 2) p2 ON p1.oid = p2.oid\nWHERE ABS(p1.probability - p2.probability) < 0.1;"
                },
                "in_toks": 2150,
                "out_toks": 189,
                "id": "chatcmpl-BgYeOoiDuSjTOnbO0bInpQbBNhttz",
                "created": 1749482672,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "15": {
        "0": {
            "req_id": 15,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'magstat']",
                    "1": "['object', 'probability', 'detection', 'magstat']"
                },
                "in_toks": 831,
                "out_toks": 30,
                "id": "chatcmpl-BgYeQ5SAmj9npoQm86TeJPaIVvMPz",
                "created": 1749482674,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Define the date range for the first 2 days of September 2023 in MJD\nWITH date_range AS\n  (SELECT 60188.0 AS start_mjd,\n          60190.0 AS end_mjd), -- Select objects with their highest probability in the stamp classifier being 'SN'\nobjects_with_sn AS\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'SN'\n     AND p.classifier_name = 'stamp_classifier'\n     AND p.ranking = 1 ), -- Filter objects with first detection within the first 2 days of September 2023\nobjects_first_detection AS\n  (SELECT o.oid\n   FROM OBJECT o\n   WHERE o.firstmjd >=\n       (SELECT start_mjd\n        FROM date_range)\n     AND o.firstmjd <\n       (SELECT end_mjd\n        FROM date_range) ), -- Identify objects that are fast risers based on their first detection and initial rise rate\nfast_risers AS\n  (SELECT o.oid,\n          pmag.dmdt_first AS initial_rise\n   FROM objects_with_sn o\n   JOIN magstat pmag ON pmag.oid = o.oid -- Ensure the magstat record corresponds to the same filter as the first detection\n\n   WHERE pmag.fid =\n       (SELECT magstat.fid\n        FROM magstat\n        WHERE magstat.oid = o.oid\n          AND magstat.firstmjd = o.firstmjd\n        LIMIT 1)\n     AND pmag.dmdt_first >= 0.25 -- initial rise rate condition\n), -- Retrieve detections for these objects\ndetections AS\n  (SELECT d.oid,\n          d.candid,\n          d.fid\n   FROM detection d\n   WHERE d.oid IN\n       (SELECT oid\n        FROM fast_risers) ), -- Retrieve magstat fid for these objects\nmagstat_fid AS\n  (SELECT o.oid,\n          pmag.fid AS magstat_fid\n   FROM OBJECT o\n   JOIN magstat pmag ON pmag.oid = o.oid\n   WHERE o.oid IN\n       (SELECT oid\n        FROM fast_risers) ) -- Final selection: object id, probability in stamp classifier, detections, magstat fid, initial rise, ordered by oid\n\nSELECT o.oid,\n       p.probability AS stamp_classifier_probability,\n       d.candid,\n       d.fid AS detection_fid,\n       mf.magstat_fid,\n       fr.initial_rise\nFROM fast_risers fr\nJOIN OBJECT o ON o.oid = fr.oid\nJOIN probability p ON p.oid = o.oid\nAND p.class_name = 'SN'\nAND p.classifier_name = 'stamp_classifier'\nAND p.ranking = 1\nJOIN detections d ON d.oid = o.oid\nJOIN magstat_fid mf ON mf.oid = o.oid\nORDER BY o.oid;",
            "sql_response": {
                "responses": {
                    "0": "-- Define the date range for the first 2 days of September 2023 in MJD\nWITH date_range AS\n  (SELECT 60188.0 AS start_mjd,\n          60190.0 AS end_mjd), -- Select objects with their highest probability in the stamp classifier being 'SN'\nobjects_with_sn AS\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'SN'\n     AND p.classifier_name = 'stamp_classifier'\n     AND p.ranking = 1 ), -- Filter objects with first detection within the first 2 days of September 2023\nobjects_first_detection AS\n  (SELECT o.oid\n   FROM OBJECT o\n   WHERE o.firstmjd >=\n       (SELECT start_mjd\n        FROM date_range)\n     AND o.firstmjd <\n       (SELECT end_mjd\n        FROM date_range) ), -- Identify objects that are fast risers based on their first detection and initial rise rate\nfast_risers AS\n  (SELECT o.oid,\n          pmag.dmdt_first AS initial_rise\n   FROM objects_with_sn o\n   JOIN magstat pmag ON pmag.oid = o.oid -- Ensure the magstat record corresponds to the same filter as the first detection\n\n   WHERE pmag.fid =\n       (SELECT magstat.fid\n        FROM magstat\n        WHERE magstat.oid = o.oid\n          AND magstat.firstmjd = o.firstmjd\n        LIMIT 1)\n     AND pmag.dmdt_first >= 0.25 -- initial rise rate condition\n), -- Retrieve detections for these objects\ndetections AS\n  (SELECT d.oid,\n          d.candid,\n          d.fid\n   FROM detection d\n   WHERE d.oid IN\n       (SELECT oid\n        FROM fast_risers) ), -- Retrieve magstat fid for these objects\nmagstat_fid AS\n  (SELECT o.oid,\n          pmag.fid AS magstat_fid\n   FROM OBJECT o\n   JOIN magstat pmag ON pmag.oid = o.oid\n   WHERE o.oid IN\n       (SELECT oid\n        FROM fast_risers) ) -- Final selection: object id, probability in stamp classifier, detections, magstat fid, initial rise, ordered by oid\n\nSELECT o.oid,\n       p.probability AS stamp_classifier_probability,\n       d.candid,\n       d.fid AS detection_fid,\n       mf.magstat_fid,\n       fr.initial_rise\nFROM fast_risers fr\nJOIN OBJECT o ON o.oid = fr.oid\nJOIN probability p ON p.oid = o.oid\nAND p.class_name = 'SN'\nAND p.classifier_name = 'stamp_classifier'\nAND p.ranking = 1\nJOIN detections d ON d.oid = o.oid\nJOIN magstat_fid mf ON mf.oid = o.oid\nORDER BY o.oid;"
                },
                "in_toks": 3623,
                "out_toks": 606,
                "id": "chatcmpl-BgZWD15rhRetcuGvuQFgHUtEAJZeE",
                "created": 1749486009,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Define the date range for the first 2 days of September 2023 in MJD\nWITH date_range AS\n  (SELECT 60188.0 AS start_mjd,\n          60190.0 AS end_mjd), -- Select objects with their highest probability in the stamp classifier being 'SN'\nobjects_with_sn AS\n  (SELECT o.oid\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'SN'\n          AND p.classifier_name = 'stamp_classifier'\n          AND p.ranking = 1 ) ), -- Filter objects with first detection within the first 2 days of September\nobjects_first_detection AS\n  (SELECT o.oid\n   FROM OBJECT o,\n               date_range dr\n   WHERE o.firstmjd >= dr.start_mjd\n     AND o.firstmjd < dr.end_mjd ), -- Identify objects that are fast risers based on their first detection and last non-detection in the same filter\nfast_risers AS\n  (SELECT o.oid,\n          pmag.dmdt_first AS initial_rise\n   FROM objects_with_sn o\n   JOIN OBJECT o2 ON o2.oid = o.oid\n   JOIN magstat pmag ON pmag.oid = o.oid\n   WHERE pmag.fid =\n       (SELECT magstat.fid\n        FROM magstat\n        WHERE magstat.oid = o.oid\n          AND magstat.firstmjd = o.firstmjd\n        LIMIT 1)\n     AND pmag.dmdt_first >= 0.25 -- initial rise rate condition\n), -- Retrieve detections for these objects\ndetections AS\n  (SELECT d.oid,\n          d.candid,\n          d.fid\n   FROM detection d\n   WHERE d.oid IN\n       (SELECT oid\n        FROM fast_risers) ), -- Retrieve magstat fid for these objects\nmagstat_fid AS\n  (SELECT o.oid,\n          pmag.fid AS magstat_fid\n   FROM OBJECT o\n   JOIN magstat pmag ON pmag.oid = o.oid\n   WHERE o.oid IN\n       (SELECT oid\n        FROM fast_risers) ) -- Final selection: object id, probability in stamp classifier, detections, magstat fid, initial rise, ordered by oid\n\nSELECT o.oid,\n       p.probability AS stamp_classifier_probability,\n       d.candid,\n       d.fid AS detection_fid,\n       m.magstat_fid,\n       fr.initial_rise\nFROM fast_risers fr\nJOIN OBJECT o ON o.oid = fr.oid\nJOIN probability p ON p.oid = o.oid\nAND p.class_name = 'SN'\nAND p.classifier_name = 'stamp_classifier'\nAND p.ranking = 1\nJOIN detections d ON d.oid = o.oid\nJOIN magstat m ON m.oid = o.oid\nORDER BY o.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Define the date range for the first 2 days of September 2023 in MJD\nWITH date_range AS\n  (SELECT 60188.0 AS start_mjd,\n          60190.0 AS end_mjd), -- Select objects with their highest probability in the stamp classifier being 'SN'\nobjects_with_sn AS\n  (SELECT o.oid\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'SN'\n          AND p.classifier_name = 'stamp_classifier'\n          AND p.ranking = 1 ) ), -- Filter objects with first detection within the first 2 days of September\nobjects_first_detection AS\n  (SELECT o.oid\n   FROM OBJECT o,\n               date_range dr\n   WHERE o.firstmjd >= dr.start_mjd\n     AND o.firstmjd < dr.end_mjd ), -- Identify objects that are fast risers based on their first detection and last non-detection in the same filter\nfast_risers AS\n  (SELECT o.oid,\n          pmag.dmdt_first AS initial_rise\n   FROM objects_with_sn o\n   JOIN OBJECT o2 ON o2.oid = o.oid\n   JOIN magstat pmag ON pmag.oid = o.oid\n   WHERE pmag.fid =\n       (SELECT magstat.fid\n        FROM magstat\n        WHERE magstat.oid = o.oid\n          AND magstat.firstmjd = o.firstmjd\n        LIMIT 1)\n     AND pmag.dmdt_first >= 0.25 -- initial rise rate condition\n), -- Retrieve detections for these objects\ndetections AS\n  (SELECT d.oid,\n          d.candid,\n          d.fid\n   FROM detection d\n   WHERE d.oid IN\n       (SELECT oid\n        FROM fast_risers) ), -- Retrieve magstat fid for these objects\nmagstat_fid AS\n  (SELECT o.oid,\n          pmag.fid AS magstat_fid\n   FROM OBJECT o\n   JOIN magstat pmag ON pmag.oid = o.oid\n   WHERE o.oid IN\n       (SELECT oid\n        FROM fast_risers) ) -- Final selection: object id, probability in stamp classifier, detections, magstat fid, initial rise, ordered by oid\n\nSELECT o.oid,\n       p.probability AS stamp_classifier_probability,\n       d.candid,\n       d.fid AS detection_fid,\n       m.magstat_fid,\n       fr.initial_rise\nFROM fast_risers fr\nJOIN OBJECT o ON o.oid = fr.oid\nJOIN probability p ON p.oid = o.oid\nAND p.class_name = 'SN'\nAND p.classifier_name = 'stamp_classifier'\nAND p.ranking = 1\nJOIN detections d ON d.oid = o.oid\nJOIN magstat m ON m.oid = o.oid\nORDER BY o.oid;"
                },
                "in_toks": 3509,
                "out_toks": 621,
                "id": "chatcmpl-BgYeRloukkluDJ49PYdrXCfDjZbHn",
                "created": 1749482675,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 15,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'magstat']",
                    "1": "['object', 'probability', 'detection', 'magstat']"
                },
                "in_toks": 831,
                "out_toks": 30,
                "id": "chatcmpl-BgYeQ5SAmj9npoQm86TeJPaIVvMPz",
                "created": 1749482674,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Optimized and corrected SQL query with nested subqueries to improve performance and ensure proper filtering\nWITH stamp_max_sn AS\n  (-- Select object OIDs where the highest probability in stamp_classifier is for class 'SN' with ranking=1\n SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'SN'\n     AND p.classifier_name = 'stamp_classifier'\n     AND p.ranking = 1 ),\n     first_detections AS\n  (-- Get objects with first detection within the first 2 days of September (mjd 60188.0 and 60189.0)\n SELECT o.oid,\n        o.firstmjd\n   FROM OBJECT o\n   WHERE o.firstmjd BETWEEN 60188.0 AND 60189.0 ),\n     detection_min_candid AS\n  (-- For each object, find the earliest detection candid\n SELECT d.oid,\n        MIN(d.candid) AS min_candid\n   FROM detection d\n   GROUP BY d.oid),\n     fast_risers AS\n  (-- Identify objects with detections indicating a fast rise\n SELECT d.oid,\n        d.candid,\n        d.fid,\n        d.mjd,\n        d.magpsf,\n        m.magmean,\n        m.magfirst,\n        m.firstmjd\n   FROM detection d\n   JOIN magstat m ON d.oid = m.oid\n   AND d.fid = m.fid\n   JOIN detection_min_candid dm ON d.oid = dm.oid\n   AND d.candid = dm.min_candid\n   WHERE d.mjd > m.firstmjd -- detection after first detection\n\n     AND (d.magpsf - m.magmean) <= -0.25 -- brightness increase threshold\n),\n     initial_rise AS\n  (-- Calculate the initial rise rate for each fast riser object\n SELECT fr.oid,\n        fr.candid,\n        fr.fid,\n        fr.mjd,\n        fr.magpsf,\n        m.magmean,\n        m.magfirst,\n        m.firstmjd,\n        CASE\n            WHEN (fr.mjd - m.firstmjd) > 0 THEN (fr.magpsf - m.magmean) / (fr.mjd - m.firstmjd)\n            ELSE NULL\n        END AS rise_rate\n   FROM fast_risers fr\n   JOIN magstat m ON fr.oid = m.oid\n   AND fr.fid = m.fid)\nSELECT o.oid,\n       p.probability AS stamp_classifier_probability,\n       d.candid,\n       d.fid,\n       m.fid AS magstat_fid,\n       ir.rise_rate AS initial_rise_estimate\nFROM stamp_max_sn s\nJOIN OBJECT o ON o.oid = s.oid\nJOIN probability p ON p.oid = o.oid\nAND p.class_name = 'SN'\nAND p.classifier_name = 'stamp_classifier'\nAND p.ranking = 1\nJOIN detection d ON d.oid = o.oid\nJOIN detection_min_candid dm ON d.oid = dm.oid\nAND d.candid = dm.min_candid\nJOIN magstat m ON m.oid = o.oid\nAND m.fid = d.fid\nJOIN first_detections fd ON fd.oid = o.oid\nJOIN initial_rise ir ON ir.oid = o.oid\nAND ir.candid = d.candid\nAND ir.fid = d.fid\nWHERE o.oid IN\n    (-- Ensure object first detection is within first 2 days of September\n SELECT o2.oid\n     FROM OBJECT o2\n     WHERE o2.firstmjd BETWEEN 60188.0 AND 60189.0 )\nORDER BY o.oid;",
            "sql_response": {
                "responses": {
                    "0": "-- Optimized and corrected SQL query with nested subqueries to improve performance and ensure proper filtering\nWITH stamp_max_sn AS\n  (-- Select object OIDs where the highest probability in stamp_classifier is for class 'SN' with ranking=1\n SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'SN'\n     AND p.classifier_name = 'stamp_classifier'\n     AND p.ranking = 1 ),\n     first_detections AS\n  (-- Get objects with first detection within the first 2 days of September (mjd 60188.0 and 60189.0)\n SELECT o.oid,\n        o.firstmjd\n   FROM OBJECT o\n   WHERE o.firstmjd BETWEEN 60188.0 AND 60189.0 ),\n     detection_min_candid AS\n  (-- For each object, find the earliest detection candid\n SELECT d.oid,\n        MIN(d.candid) AS min_candid\n   FROM detection d\n   GROUP BY d.oid),\n     fast_risers AS\n  (-- Identify objects with detections indicating a fast rise\n SELECT d.oid,\n        d.candid,\n        d.fid,\n        d.mjd,\n        d.magpsf,\n        m.magmean,\n        m.magfirst,\n        m.firstmjd\n   FROM detection d\n   JOIN magstat m ON d.oid = m.oid\n   AND d.fid = m.fid\n   JOIN detection_min_candid dm ON d.oid = dm.oid\n   AND d.candid = dm.min_candid\n   WHERE d.mjd > m.firstmjd -- detection after first detection\n\n     AND (d.magpsf - m.magmean) <= -0.25 -- brightness increase threshold\n),\n     initial_rise AS\n  (-- Calculate the initial rise rate for each fast riser object\n SELECT fr.oid,\n        fr.candid,\n        fr.fid,\n        fr.mjd,\n        fr.magpsf,\n        m.magmean,\n        m.magfirst,\n        m.firstmjd,\n        CASE\n            WHEN (fr.mjd - m.firstmjd) > 0 THEN (fr.magpsf - m.magmean) / (fr.mjd - m.firstmjd)\n            ELSE NULL\n        END AS rise_rate\n   FROM fast_risers fr\n   JOIN magstat m ON fr.oid = m.oid\n   AND fr.fid = m.fid)\nSELECT o.oid,\n       p.probability AS stamp_classifier_probability,\n       d.candid,\n       d.fid,\n       m.fid AS magstat_fid,\n       ir.rise_rate AS initial_rise_estimate\nFROM stamp_max_sn s\nJOIN OBJECT o ON o.oid = s.oid\nJOIN probability p ON p.oid = o.oid\nAND p.class_name = 'SN'\nAND p.classifier_name = 'stamp_classifier'\nAND p.ranking = 1\nJOIN detection d ON d.oid = o.oid\nJOIN detection_min_candid dm ON d.oid = dm.oid\nAND d.candid = dm.min_candid\nJOIN magstat m ON m.oid = o.oid\nAND m.fid = d.fid\nJOIN first_detections fd ON fd.oid = o.oid\nJOIN initial_rise ir ON ir.oid = o.oid\nAND ir.candid = d.candid\nAND ir.fid = d.fid\nWHERE o.oid IN\n    (-- Ensure object first detection is within first 2 days of September\n SELECT o2.oid\n     FROM OBJECT o2\n     WHERE o2.firstmjd BETWEEN 60188.0 AND 60189.0 )\nORDER BY o.oid;"
                },
                "in_toks": 3660,
                "out_toks": 760,
                "id": "chatcmpl-BgZWUUmJRHmG6jwMLVeldS4Fx4QL1",
                "created": 1749486026,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "WITH stamp_max_sn AS\n  (-- Select object OIDs where the highest probability in stamp_classifier is for class 'SN'\n SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'SN'\n     AND p.classifier_name = 'stamp_classifier'\n     AND p.ranking = 1 ),\n     first_detections AS\n  (-- Get objects with first detection within the first 2 days of September (mjd 60188.0 and 60189.0)\n SELECT o.oid,\n        o.firstmjd\n   FROM OBJECT o\n   WHERE o.firstmjd BETWEEN 60188.0 AND 60189.0 ),\n     fast_risers AS\n  (-- Identify objects that qualify as fast risers based on their detection history\n SELECT d.oid,\n        d.candid,\n        d.fid,\n        d.mjd,\n        d.magpsf,\n        m.magmean,\n        m.magfirst,\n        m.firstmjd\n   FROM detection d\n   JOIN magstat m ON d.oid = m.oid\n   AND d.fid = m.fid\n   WHERE d.mjd =\n       (SELECT MIN(mjd)\n        FROM detection\n        WHERE oid = d.oid\n          AND candid = d.candid)\n     AND m.firstmjd =\n       (SELECT MIN(firstmjd)\n        FROM magstat\n        WHERE oid = d.oid\n          AND fid = d.fid)\n     AND d.mjd > m.firstmjd -- ensure detection is after first detection\n\n     AND (d.magpsf - m.magmean) <= -0.25 -- initial rise estimate: brightness increase of at least 0.25 mag/day\n),\n     initial_rise AS\n  (-- Calculate the initial rise rate for each object\n SELECT fr.oid,\n        fr.candid,\n        fr.fid,\n        fr.mjd,\n        fr.magpsf,\n        m.magmean,\n        m.magfirst,\n        m.firstmjd,\n        (fr.magpsf - m.magmean) / (fr.mjd - m.firstmjd) AS rise_rate\n   FROM fast_risers fr\n   JOIN magstat m ON fr.oid = m.oid\n   AND fr.fid = m.fid\n   WHERE (fr.mjd - m.firstmjd) > 0 -- avoid division by zero\n)\nSELECT o.oid,\n       p.probability AS stamp_classifier_probability,\n       d.candid,\n       d.fid,\n       m.fid AS magstat_fid,\n       ir.rise_rate AS initial_rise_estimate\nFROM stamp_max_sn s\nJOIN OBJECT o ON o.oid = s.oid\nJOIN probability p ON p.oid = o.oid\nAND p.class_name = 'SN'\nAND p.classifier_name = 'stamp_classifier'\nAND p.ranking = 1\nJOIN first_detections fd ON fd.oid = o.oid\nJOIN detection d ON d.oid = o.oid\nAND d.candid =\n  (SELECT MIN(candid)\n   FROM detection\n   WHERE oid = o.oid)\nJOIN magstat m ON m.oid = o.oid\nAND m.fid = d.fid\nJOIN initial_rise ir ON ir.oid = o.oid\nAND ir.candid = d.candid\nAND ir.fid = d.fid\nORDER BY o.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "WITH stamp_max_sn AS\n  (-- Select object OIDs where the highest probability in stamp_classifier is for class 'SN'\n SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'SN'\n     AND p.classifier_name = 'stamp_classifier'\n     AND p.ranking = 1 ),\n     first_detections AS\n  (-- Get objects with first detection within the first 2 days of September (mjd 60188.0 and 60189.0)\n SELECT o.oid,\n        o.firstmjd\n   FROM OBJECT o\n   WHERE o.firstmjd BETWEEN 60188.0 AND 60189.0 ),\n     fast_risers AS\n  (-- Identify objects that qualify as fast risers based on their detection history\n SELECT d.oid,\n        d.candid,\n        d.fid,\n        d.mjd,\n        d.magpsf,\n        m.magmean,\n        m.magfirst,\n        m.firstmjd\n   FROM detection d\n   JOIN magstat m ON d.oid = m.oid\n   AND d.fid = m.fid\n   WHERE d.mjd =\n       (SELECT MIN(mjd)\n        FROM detection\n        WHERE oid = d.oid\n          AND candid = d.candid)\n     AND m.firstmjd =\n       (SELECT MIN(firstmjd)\n        FROM magstat\n        WHERE oid = d.oid\n          AND fid = d.fid)\n     AND d.mjd > m.firstmjd -- ensure detection is after first detection\n\n     AND (d.magpsf - m.magmean) <= -0.25 -- initial rise estimate: brightness increase of at least 0.25 mag/day\n),\n     initial_rise AS\n  (-- Calculate the initial rise rate for each object\n SELECT fr.oid,\n        fr.candid,\n        fr.fid,\n        fr.mjd,\n        fr.magpsf,\n        m.magmean,\n        m.magfirst,\n        m.firstmjd,\n        (fr.magpsf - m.magmean) / (fr.mjd - m.firstmjd) AS rise_rate\n   FROM fast_risers fr\n   JOIN magstat m ON fr.oid = m.oid\n   AND fr.fid = m.fid\n   WHERE (fr.mjd - m.firstmjd) > 0 -- avoid division by zero\n)\nSELECT o.oid,\n       p.probability AS stamp_classifier_probability,\n       d.candid,\n       d.fid,\n       m.fid AS magstat_fid,\n       ir.rise_rate AS initial_rise_estimate\nFROM stamp_max_sn s\nJOIN OBJECT o ON o.oid = s.oid\nJOIN probability p ON p.oid = o.oid\nAND p.class_name = 'SN'\nAND p.classifier_name = 'stamp_classifier'\nAND p.ranking = 1\nJOIN first_detections fd ON fd.oid = o.oid\nJOIN detection d ON d.oid = o.oid\nAND d.candid =\n  (SELECT MIN(candid)\n   FROM detection\n   WHERE oid = o.oid)\nJOIN magstat m ON m.oid = o.oid\nAND m.fid = d.fid\nJOIN initial_rise ir ON ir.oid = o.oid\nAND ir.candid = d.candid\nAND ir.fid = d.fid\nORDER BY o.oid;"
                },
                "in_toks": 3509,
                "out_toks": 668,
                "id": "chatcmpl-BgYeZwZabvmRfZO0J8swvh5Nh7aFU",
                "created": 1749482683,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "4": {
        "0": {
            "req_id": 4,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'magstat']",
                    "1": "['object', 'probability', 'detection', 'magstat']"
                },
                "in_toks": 817,
                "out_toks": 30,
                "id": "chatcmpl-BgYehV1N7eJoVuNWsoWXbltN6iiL6",
                "created": 1749482691,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select relevant object and detection information for SN II objects classified with high confidence and specific light curve properties\n\nSELECT o.oid,\n       d.candid,\n       d.magpsf,\n       d.sigmapsf,\n       m.dmdt_first AS initial_rise_estimate,\n       d.fid AS band_id\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN magstat m ON o.oid = m.oid\nAND m.fid = d.fid\nWHERE -- Filter for detections in the specified bands (g and r)\n d.fid IN (1,\n           2) -- Filter for detections within the date range 2019-2022\n\n  AND d.mjd BETWEEN (2458600) AND (2459900)-- Approximate MJD for 2019-2022\n -- Filter for objects classified as SN II with probability > 0.6\n\n  AND o.oid IN\n    (SELECT oid\n     FROM\n       (SELECT p.oid,\n               p.probability\n        FROM probability p\n        WHERE p.class_name = 'SNII'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.6\n        ORDER BY p.oid,\n                 p.ranking) sub\n     GROUP BY sub.oid) -- Filter for objects with number of detections > 50\n\n  AND o.ndet > 50 -- Filter for initial rise rate > 0.5 mag/day\n\n  AND m.dmdt_first > 0.5;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select relevant object and detection information for SN II objects classified with high confidence and specific light curve properties\n\nSELECT o.oid,\n       d.candid,\n       d.magpsf,\n       d.sigmapsf,\n       m.dmdt_first AS initial_rise_estimate,\n       d.fid AS band_id\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN magstat m ON o.oid = m.oid\nAND m.fid = d.fid\nWHERE -- Filter for detections in the specified bands (g and r)\n d.fid IN (1,\n           2) -- Filter for detections within the date range 2019-2022\n\n  AND d.mjd BETWEEN (2458600) AND (2459900)-- Approximate MJD for 2019-2022\n -- Filter for objects classified as SN II with probability > 0.6\n\n  AND o.oid IN\n    (SELECT oid\n     FROM\n       (SELECT p.oid,\n               p.probability\n        FROM probability p\n        WHERE p.class_name = 'SNII'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.6\n        ORDER BY p.oid,\n                 p.ranking) sub\n     GROUP BY sub.oid) -- Filter for objects with number of detections > 50\n\n  AND o.ndet > 50 -- Filter for initial rise rate > 0.5 mag/day\n\n  AND m.dmdt_first > 0.5;"
                },
                "in_toks": 3416,
                "out_toks": 341,
                "id": "chatcmpl-BgYelnuLNJWpZOAS9kY7Bwls3YjDc",
                "created": 1749482695,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 4,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'magstat']",
                    "1": "['object', 'probability', 'detection', 'magstat']"
                },
                "in_toks": 817,
                "out_toks": 30,
                "id": "chatcmpl-BgYehV1N7eJoVuNWsoWXbltN6iiL6",
                "created": 1749482691,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper schema references and syntax adjustments\n\nSELECT o.oid,\n       d.candid,\n       d.magpsf,\n       d.sigmapsf,\n       m.dmdt_first AS initial_rise_estimate,\n       d.fid AS band_id\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN magstat m ON o.oid = m.oid\nAND m.fid = d.fid\nWHERE -- Filter detections within the date range for 2019-2022 (approximate MJDs)\n d.mjd BETWEEN\n    (SELECT MIN(mjd)\n     FROM detection\n     WHERE mjd >= 2458549.5\n       AND mjd <= 2459870.5) AND\n    (SELECT MAX(mjd)\n     FROM detection\n     WHERE mjd >= 2458549.5\n       AND mjd <= 2459870.5)-- Filter objects classified as SN II with probability > 0.6 and top ranking\n\n  AND o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6\n       AND p.ranking = 1 ) -- Filter objects with more than 50 detections\n\n  AND o.ndet > 50 -- Filter for initial rise rate > 0.5 mag/day in g (fid=1) and r (fid=2) bands\n\n  AND ((m.fid IN (1,\n                  2)\n        AND m.dmdt_first > 0.5));",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper schema references and syntax adjustments\n\nSELECT o.oid,\n       d.candid,\n       d.magpsf,\n       d.sigmapsf,\n       m.dmdt_first AS initial_rise_estimate,\n       d.fid AS band_id\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN magstat m ON o.oid = m.oid\nAND m.fid = d.fid\nWHERE -- Filter detections within the date range for 2019-2022 (approximate MJDs)\n d.mjd BETWEEN\n    (SELECT MIN(mjd)\n     FROM detection\n     WHERE mjd >= 2458549.5\n       AND mjd <= 2459870.5) AND\n    (SELECT MAX(mjd)\n     FROM detection\n     WHERE mjd >= 2458549.5\n       AND mjd <= 2459870.5)-- Filter objects classified as SN II with probability > 0.6 and top ranking\n\n  AND o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6\n       AND p.ranking = 1 ) -- Filter objects with more than 50 detections\n\n  AND o.ndet > 50 -- Filter for initial rise rate > 0.5 mag/day in g (fid=1) and r (fid=2) bands\n\n  AND ((m.fid IN (1,\n                  2)\n        AND m.dmdt_first > 0.5));"
                },
                "in_toks": 2877,
                "out_toks": 347,
                "id": "chatcmpl-BgZWffAqxoAH40U1W1Ms8C11Owoj0",
                "created": 1749486037,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object and detection information for objects classified as SN II with specified conditions\n\nSELECT o.oid,\n       d.candid,\n       d.magpsf,\n       d.sigmapsf,\n       m.dmdt_first AS initial_rise_estimate,\n       d.fid AS band_id\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN magstat m ON o.oid = m.oid\nAND m.fid = d.fid\nWHERE -- Filter by detection date in 2019-2022\n d.mjd BETWEEN\n    (SELECT MIN(mjd)\n     FROM detection\n     WHERE mjd >= 2458549.5\n       AND mjd <= 2459870.5)-- approximate MJDs for 2019-2022\n AND\n    (SELECT MAX(mjd)\n     FROM detection\n     WHERE mjd >= 2458549.5\n       AND mjd <= 2459870.5)-- Filter objects classified as SN II with probability > 0.6\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6\n       AND p.ranking = 1 ) -- Filter for objects with more than 50 detections\n\n  AND o.ndet > 50 -- Filter for initial rise rate > 0.5 mag/day in g and r bands\n\n  AND ((m.fid IN (1,\n                  2)\n        AND m.dmdt_first > 0.5))",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object and detection information for objects classified as SN II with specified conditions\n\nSELECT o.oid,\n       d.candid,\n       d.magpsf,\n       d.sigmapsf,\n       m.dmdt_first AS initial_rise_estimate,\n       d.fid AS band_id\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN magstat m ON o.oid = m.oid\nAND m.fid = d.fid\nWHERE -- Filter by detection date in 2019-2022\n d.mjd BETWEEN\n    (SELECT MIN(mjd)\n     FROM detection\n     WHERE mjd >= 2458549.5\n       AND mjd <= 2459870.5)-- approximate MJDs for 2019-2022\n AND\n    (SELECT MAX(mjd)\n     FROM detection\n     WHERE mjd >= 2458549.5\n       AND mjd <= 2459870.5)-- Filter objects classified as SN II with probability > 0.6\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6\n       AND p.ranking = 1 ) -- Filter for objects with more than 50 detections\n\n  AND o.ndet > 50 -- Filter for initial rise rate > 0.5 mag/day in g and r bands\n\n  AND ((m.fid IN (1,\n                  2)\n        AND m.dmdt_first > 0.5))"
                },
                "in_toks": 3416,
                "out_toks": 349,
                "id": "chatcmpl-BgYepQQn2TIrEoiOF58BWJxUC4Q1F",
                "created": 1749482699,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "25": {
        "0": {
            "req_id": 25,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 826,
                "out_toks": 14,
                "id": "chatcmpl-BgYet5cc5ImYDotNJQScQaJNtDNPf",
                "created": 1749482703,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects within 10 degrees of specified positions\nWITH spatial_objects AS\n  (SELECT oid\n   FROM OBJECT\n   WHERE (q3c_radial_query(meanra, meandec, 160.18301441363647, 33.0164673528409, 10)\n          OR q3c_radial_query(meanra, meandec, 174.21524897555543, 44.83789535222221, 10)) ),\n     first_detection_window AS\n  (SELECT oid\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 59976.0 AND 59983.0 ),\n     sn_probabilities AS\n  (SELECT oid\n   FROM probability\n   WHERE class_name = 'SN'\n     AND probability > 0.4\n     AND ranking = 1\n     AND classifier_name = 'stamp_classifier' )\nSELECT *\nFROM OBJECT\nWHERE oid IN\n    (SELECT oid\n     FROM spatial_objects)\n  AND oid IN\n    (SELECT oid\n     FROM first_detection_window)\n  AND oid IN\n    (SELECT oid\n     FROM sn_probabilities);",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects within 10 degrees of specified positions\nWITH spatial_objects AS\n  (SELECT oid\n   FROM OBJECT\n   WHERE (q3c_radial_query(meanra, meandec, 160.18301441363647, 33.0164673528409, 10)\n          OR q3c_radial_query(meanra, meandec, 174.21524897555543, 44.83789535222221, 10)) ),\n     first_detection_window AS\n  (SELECT oid\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 59976.0 AND 59983.0 ),\n     sn_probabilities AS\n  (SELECT oid\n   FROM probability\n   WHERE class_name = 'SN'\n     AND probability > 0.4\n     AND ranking = 1\n     AND classifier_name = 'stamp_classifier' )\nSELECT *\nFROM OBJECT\nWHERE oid IN\n    (SELECT oid\n     FROM spatial_objects)\n  AND oid IN\n    (SELECT oid\n     FROM first_detection_window)\n  AND oid IN\n    (SELECT oid\n     FROM sn_probabilities);"
                },
                "in_toks": 2188,
                "out_toks": 219,
                "id": "chatcmpl-BgYeuHojermoIffnGFZ5B2nsvMjzJ",
                "created": 1749482704,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 25,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 826,
                "out_toks": 14,
                "id": "chatcmpl-BgYet5cc5ImYDotNJQScQaJNtDNPf",
                "created": 1749482703,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects within 10 degrees of specified positions and with first detection within the first 7 days of February 2023\n\nSELECT *\nFROM OBJECT\nWHERE (q3c_radial_query(meanra, meandec, 160.18301441363647, 33.0164673528409, 10)\n       OR q3c_radial_query(meanra, meandec, 174.21524897555543, 44.83789535222221, 10))\n  AND (-- First detection between Feb 1 (MJD 59976.0) and Feb 7 (MJD 59982.0)\n firstmjd BETWEEN 59976.0 AND 59982.0)\n  AND (-- SN probability > 0.4 from stamp_classifier\n EXISTS\n         (SELECT 1\n          FROM probability p\n          WHERE p.oid = object.oid\n            AND p.class_name = 'SN'\n            AND p.classifier_name = 'stamp_classifier'\n            AND p.probability > 0.4\n            AND p.ranking = 1 ));",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects within 10 degrees of specified positions and with first detection within the first 7 days of February 2023\n\nSELECT *\nFROM OBJECT\nWHERE (q3c_radial_query(meanra, meandec, 160.18301441363647, 33.0164673528409, 10)\n       OR q3c_radial_query(meanra, meandec, 174.21524897555543, 44.83789535222221, 10))\n  AND (-- First detection between Feb 1 (MJD 59976.0) and Feb 7 (MJD 59982.0)\n firstmjd BETWEEN 59976.0 AND 59982.0)\n  AND (-- SN probability > 0.4 from stamp_classifier\n EXISTS\n         (SELECT 1\n          FROM probability p\n          WHERE p.oid = object.oid\n            AND p.class_name = 'SN'\n            AND p.classifier_name = 'stamp_classifier'\n            AND p.probability > 0.4\n            AND p.ranking = 1 ));"
                },
                "in_toks": 2188,
                "out_toks": 239,
                "id": "chatcmpl-BgYeyWQpbquuxgsQMhYHFnhbnd5cB",
                "created": 1749482708,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "7": {
        "0": {
            "req_id": 7,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 773,
                "out_toks": 14,
                "id": "chatcmpl-BgYf2avbzpAPYzj7YCqRmBD42ArIn",
                "created": 1749482712,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table references and syntax\n-- Retrieve object identifiers and probabilities for objects with most likely class 'SN' in stamp_classifier\n-- and first detection in January 2023 (MJD between 59945.0 and 59975.0)\n\nSELECT o.oid,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON o.oid = p.oid\nWHERE o.firstmjd BETWEEN 59945.0 AND 59975.0\n  AND p.class_name = 'SN'\n  AND p.classifier_name = 'stamp_classifier'\n  AND p.ranking = 1\n  AND p.probability =\n    (SELECT MAX(p2.probability)\n     FROM probability p2\n     WHERE p2.oid = o.oid\n       AND p2.class_name = 'SN'\n       AND p2.classifier_name = 'stamp_classifier' );",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table references and syntax\n-- Retrieve object identifiers and probabilities for objects with most likely class 'SN' in stamp_classifier\n-- and first detection in January 2023 (MJD between 59945.0 and 59975.0)\n\nSELECT o.oid,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON o.oid = p.oid\nWHERE o.firstmjd BETWEEN 59945.0 AND 59975.0\n  AND p.class_name = 'SN'\n  AND p.classifier_name = 'stamp_classifier'\n  AND p.ranking = 1\n  AND p.probability =\n    (SELECT MAX(p2.probability)\n     FROM probability p2\n     WHERE p2.oid = o.oid\n       AND p2.class_name = 'SN'\n       AND p2.classifier_name = 'stamp_classifier' );"
                },
                "in_toks": 1389,
                "out_toks": 188,
                "id": "chatcmpl-BgZWkB0JQTWdOGjdAOUMqHqOj943D",
                "created": 1749486042,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object identifiers and probabilities for objects with most likely class 'SN' in stamp_classifier\n-- and first detection in January 2023 (MJD between 59945.0 and 59975.0)\n\nSELECT o.oid,\n       p.probability\nFROM OBJECT o\nWHERE o.firstmjd BETWEEN 59945.0 AND 59975.0\n  AND o.oid IN\n    (-- Subquery to select OIDs where the top probability class in stamp_classifier is 'SN'\n SELECT p1.oid\n     FROM probability p1\n     WHERE p1.class_name = 'SN'\n       AND p1.classifier_name = 'stamp_classifier'\n       AND p1.ranking = 1\n       AND p1.oid = o.oid );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object identifiers and probabilities for objects with most likely class 'SN' in stamp_classifier\n-- and first detection in January 2023 (MJD between 59945.0 and 59975.0)\n\nSELECT o.oid,\n       p.probability\nFROM OBJECT o\nWHERE o.firstmjd BETWEEN 59945.0 AND 59975.0\n  AND o.oid IN\n    (-- Subquery to select OIDs where the top probability class in stamp_classifier is 'SN'\n SELECT p1.oid\n     FROM probability p1\n     WHERE p1.class_name = 'SN'\n       AND p1.classifier_name = 'stamp_classifier'\n       AND p1.ranking = 1\n       AND p1.oid = o.oid );"
                },
                "in_toks": 2137,
                "out_toks": 165,
                "id": "chatcmpl-BgYf4fbIgOVerHMo5oeYDJV8dQ7Mt",
                "created": 1749482714,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 7,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 773,
                "out_toks": 14,
                "id": "chatcmpl-BgYf2avbzpAPYzj7YCqRmBD42ArIn",
                "created": 1749482712,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Retrieve object identifiers and probabilities for objects with most likely class 'SN' in stamp_classifier\n-- and first detection in January 2023 (MJD between 59945.0 and 59975.0)\n\nSELECT o.oid,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON p.oid = o.oid\nWHERE -- First detection in January 2023\n o.firstmjd BETWEEN 59945.0 AND 59975.0\n  AND -- Most likely class in stamp_classifier is 'SN'\n p.class_name = 'SN'\n  AND p.classifier_name = 'stamp_classifier'\n  AND p.ranking = 1;",
            "sql_response": {
                "responses": {
                    "0": "-- Retrieve object identifiers and probabilities for objects with most likely class 'SN' in stamp_classifier\n-- and first detection in January 2023 (MJD between 59945.0 and 59975.0)\n\nSELECT o.oid,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON p.oid = o.oid\nWHERE -- First detection in January 2023\n o.firstmjd BETWEEN 59945.0 AND 59975.0\n  AND -- Most likely class in stamp_classifier is 'SN'\n p.class_name = 'SN'\n  AND p.classifier_name = 'stamp_classifier'\n  AND p.ranking = 1;"
                },
                "in_toks": 1511,
                "out_toks": 144,
                "id": "chatcmpl-BgZWnC8wStPjXH2PIsFHg8t17GR4W",
                "created": 1749486045,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object identifiers and probabilities for objects with most likely class 'SN' in stamp_classifier\n-- and first detection in January 2023 (MJD between 59945.0 and 59975.0)\n\nSELECT o.oid,\n       p.probability\nFROM OBJECT o\nWHERE -- First detection in January 2023\n o.firstmjd BETWEEN 59945.0 AND 59975.0\n  AND -- Most likely class in stamp_classifier is 'SN'\n\n    (SELECT class_name\n     FROM probability p2\n     WHERE p2.oid = o.oid\n       AND p2.classifier_name = 'stamp_classifier'\n       AND p2.ranking = 1\n     LIMIT 1) = 'SN'\n  AND -- Confirm that the most probable class is 'SN' in the probability table\n\n    (SELECT class_name\n     FROM probability p3\n     WHERE p3.oid = o.oid\n       AND p3.classifier_name = 'stamp_classifier'\n       AND p3.ranking = 1 ) = 'SN';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object identifiers and probabilities for objects with most likely class 'SN' in stamp_classifier\n-- and first detection in January 2023 (MJD between 59945.0 and 59975.0)\n\nSELECT o.oid,\n       p.probability\nFROM OBJECT o\nWHERE -- First detection in January 2023\n o.firstmjd BETWEEN 59945.0 AND 59975.0\n  AND -- Most likely class in stamp_classifier is 'SN'\n\n    (SELECT class_name\n     FROM probability p2\n     WHERE p2.oid = o.oid\n       AND p2.classifier_name = 'stamp_classifier'\n       AND p2.ranking = 1\n     LIMIT 1) = 'SN'\n  AND -- Confirm that the most probable class is 'SN' in the probability table\n\n    (SELECT class_name\n     FROM probability p3\n     WHERE p3.oid = o.oid\n       AND p3.classifier_name = 'stamp_classifier'\n       AND p3.ranking = 1 ) = 'SN';"
                },
                "in_toks": 2137,
                "out_toks": 236,
                "id": "chatcmpl-BgYf7qTYnqRRiruKFK7srdXAwiLUM",
                "created": 1749482717,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "2": {
        "0": {
            "req_id": 2,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 760,
                "out_toks": 20,
                "id": "chatcmpl-BgYfAcTeZhv5dgnjIA9MyHDEW0KAx",
                "created": 1749482720,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Optimized query to retrieve objects classified as YSO with probability > 0.7, ensuring efficient execution\n-- and including at least three conditions on the probability table for better filtering.\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'YSO'\n       AND p.classifier_name IN ('lc_classifier',\n                                 'lc_classifier_top',\n                                 'lc_classifier_transient',\n                                 'lc_classifier_stochastic',\n                                 'lc_classifier_periodic')\n       AND p.probability > 0.7\n       AND p.ranking = 1 -- Additional filtering conditions to optimize query performance\n\n       AND p.classifier_version IS NOT NULL\n       AND p.probability IS NOT NULL\n       AND p.oid IS NOT NULL );",
            "sql_response": {
                "responses": {
                    "0": "-- Optimized query to retrieve objects classified as YSO with probability > 0.7, ensuring efficient execution\n-- and including at least three conditions on the probability table for better filtering.\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'YSO'\n       AND p.classifier_name IN ('lc_classifier',\n                                 'lc_classifier_top',\n                                 'lc_classifier_transient',\n                                 'lc_classifier_stochastic',\n                                 'lc_classifier_periodic')\n       AND p.probability > 0.7\n       AND p.ranking = 1 -- Additional filtering conditions to optimize query performance\n\n       AND p.classifier_version IS NOT NULL\n       AND p.probability IS NOT NULL\n       AND p.oid IS NOT NULL );"
                },
                "in_toks": 3735,
                "out_toks": 167,
                "id": "chatcmpl-BgZWqx6Kt0d4pzkKlHGU6bfj90BR7",
                "created": 1749486048,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects classified as YSO with probability > 0.7 based on light curve classifiers\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'YSO'\n       AND p.classifier_name IN ('lc_classifier',\n                                 'lc_classifier_top',\n                                 'lc_classifier_transient',\n                                 'lc_classifier_stochastic',\n                                 'lc_classifier_periodic')\n       AND p.probability > 0.7\n       AND p.ranking = 1 );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects classified as YSO with probability > 0.7 based on light curve classifiers\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'YSO'\n       AND p.classifier_name IN ('lc_classifier',\n                                 'lc_classifier_top',\n                                 'lc_classifier_transient',\n                                 'lc_classifier_stochastic',\n                                 'lc_classifier_periodic')\n       AND p.probability > 0.7\n       AND p.ranking = 1 );"
                },
                "in_toks": 4527,
                "out_toks": 114,
                "id": "chatcmpl-BgYfAs8EN2KEjdDS59iWTnXvrTIGw",
                "created": 1749482720,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 2,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 760,
                "out_toks": 20,
                "id": "chatcmpl-BgYfAcTeZhv5dgnjIA9MyHDEW0KAx",
                "created": 1749482720,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects classified as YSO with probability > 0.7 in the lc_classifier\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'YSO'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.7\n       AND p.ranking = 1 );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects classified as YSO with probability > 0.7 in the lc_classifier\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'YSO'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.7\n       AND p.ranking = 1 );"
                },
                "in_toks": 4527,
                "out_toks": 90,
                "id": "chatcmpl-BgYfCQBdM2tQenni3Ugbow6lV88eU",
                "created": 1749482722,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "3": {
        "0": {
            "req_id": 3,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 764,
                "out_toks": 14,
                "id": "chatcmpl-BgYfEaK4uGuZj2kxz9tDvjzSsnCwd",
                "created": 1749482724,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects classified as YSO by the lc_classifier with probability > 0.7\n-- and last detected last June (MJD between 60096.0 and 60125.0)\n\nSELECT *\nFROM OBJECT\nWHERE oid IN\n    (SELECT oid\n     FROM probability\n     WHERE class_name = 'YSO'\n       AND classifier_name = 'lc_classifier'\n       AND probability > 0.7\n       AND ranking = 1 )\n  AND lastmjd BETWEEN 60096.0 AND 60125.0;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects classified as YSO by the lc_classifier with probability > 0.7\n-- and last detected last June (MJD between 60096.0 and 60125.0)\n\nSELECT *\nFROM OBJECT\nWHERE oid IN\n    (SELECT oid\n     FROM probability\n     WHERE class_name = 'YSO'\n       AND classifier_name = 'lc_classifier'\n       AND probability > 0.7\n       AND ranking = 1 )\n  AND lastmjd BETWEEN 60096.0 AND 60125.0;"
                },
                "in_toks": 2120,
                "out_toks": 112,
                "id": "chatcmpl-BgYfEPpVKpvEw33h70CRKPN6SqT6Q",
                "created": 1749482724,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 3,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 764,
                "out_toks": 14,
                "id": "chatcmpl-BgYfEaK4uGuZj2kxz9tDvjzSsnCwd",
                "created": 1749482724,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects classified as YSO by the lc_classifier with probability > 0.7\n-- and last detected last June (MJD between 60096.0 and 60125.0)\n\nSELECT *\nFROM OBJECT\nWHERE oid IN\n    (SELECT oid\n     FROM probability\n     WHERE class_name = 'YSO'\n       AND classifier_name = 'lc_classifier'\n       AND probability > 0.7\n       AND ranking = 1 )\n  AND lastmjd BETWEEN 60096.0 AND 60125.0;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects classified as YSO by the lc_classifier with probability > 0.7\n-- and last detected last June (MJD between 60096.0 and 60125.0)\n\nSELECT *\nFROM OBJECT\nWHERE oid IN\n    (SELECT oid\n     FROM probability\n     WHERE class_name = 'YSO'\n       AND classifier_name = 'lc_classifier'\n       AND probability > 0.7\n       AND ranking = 1 )\n  AND lastmjd BETWEEN 60096.0 AND 60125.0;"
                },
                "in_toks": 2120,
                "out_toks": 112,
                "id": "chatcmpl-BgYfHfZ8pado0r9jsP9JOpWP20S0x",
                "created": 1749482727,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "23": {
        "0": {
            "req_id": 23,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 787,
                "out_toks": 14,
                "id": "chatcmpl-BgYfImuRuOC6SZW4siUPAVrzO5saJ",
                "created": 1749482728,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Retrieve objects with classification probabilities for 'SNIa', 'SNIbc', 'SNII', 'SLSN' from 'lc_classifier' with probability > 0.2\n-- and include all their classification probabilities, optimizing with nested queries to avoid timeout issues.\n\nSELECT o.*,\n       p_all.*\nFROM OBJECT o -- Subquery to select objects that have at least one of the target classes with probability > 0.2\nJOIN\n  (SELECT DISTINCT p.oid\n   FROM probability p\n   WHERE p.class_name IN ('SNIa',\n                          'SNIbc',\n                          'SNII',\n                          'SLSN')\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.2 ) filtered_objects ON o.oid = filtered_objects.oid -- Join to get all probability entries for these objects from the same classifier\nJOIN probability p_all ON o.oid = p_all.oid\nWHERE p_all.classifier_name = 'lc_classifier' -- Optional: filter to only include classes of interest for clarity\nAND p_all.class_name IN ('SNIa',\n                         'SNIbc',\n                         'SNII',\n                         'SLSN') -- Order results for clarity\nORDER BY o.oid,\n         p_all.class_name,\n         p_all.ranking;",
            "sql_response": {
                "responses": {
                    "0": "-- Retrieve objects with classification probabilities for 'SNIa', 'SNIbc', 'SNII', 'SLSN' from 'lc_classifier' with probability > 0.2\n-- and include all their classification probabilities, optimizing with nested queries to avoid timeout issues.\n\nSELECT o.*,\n       p_all.*\nFROM OBJECT o -- Subquery to select objects that have at least one of the target classes with probability > 0.2\nJOIN\n  (SELECT DISTINCT p.oid\n   FROM probability p\n   WHERE p.class_name IN ('SNIa',\n                          'SNIbc',\n                          'SNII',\n                          'SLSN')\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.2 ) filtered_objects ON o.oid = filtered_objects.oid -- Join to get all probability entries for these objects from the same classifier\nJOIN probability p_all ON o.oid = p_all.oid\nWHERE p_all.classifier_name = 'lc_classifier' -- Optional: filter to only include classes of interest for clarity\nAND p_all.class_name IN ('SNIa',\n                         'SNIbc',\n                         'SNII',\n                         'SLSN') -- Order results for clarity\nORDER BY o.oid,\n         p_all.class_name,\n         p_all.ranking;"
                },
                "in_toks": 1486,
                "out_toks": 268,
                "id": "chatcmpl-BgZWtyGv27HqsRtEGFLGVMv7PUnXS",
                "created": 1749486051,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects with probabilities for classes 'SNIa', 'SNIbc', 'SNII', 'SLSN' from 'lc_classifier' with probability > 0.2\n\nSELECT o.*,\n       p.*\nFROM OBJECT o\nJOIN\n  (SELECT p1.*\n   FROM probability p1\n   WHERE p1.class_name IN ('SNIa',\n                           'SNIbc',\n                           'SNII',\n                           'SLSN')\n     AND p1.classifier_name = 'lc_classifier'\n     AND p1.probability > 0.2 ) p ON o.oid = p.oid -- Include all probability entries for these objects, regardless of class or probability\nJOIN probability p_all ON o.oid = p_all.oid\nWHERE p_all.classifier_name = 'lc_classifier'\nORDER BY o.oid,\n         p_all.class_name,\n         p_all.ranking;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects with probabilities for classes 'SNIa', 'SNIbc', 'SNII', 'SLSN' from 'lc_classifier' with probability > 0.2\n\nSELECT o.*,\n       p.*\nFROM OBJECT o\nJOIN\n  (SELECT p1.*\n   FROM probability p1\n   WHERE p1.class_name IN ('SNIa',\n                           'SNIbc',\n                           'SNII',\n                           'SLSN')\n     AND p1.classifier_name = 'lc_classifier'\n     AND p1.probability > 0.2 ) p ON o.oid = p.oid -- Include all probability entries for these objects, regardless of class or probability\nJOIN probability p_all ON o.oid = p_all.oid\nWHERE p_all.classifier_name = 'lc_classifier'\nORDER BY o.oid,\n         p_all.class_name,\n         p_all.ranking;"
                },
                "in_toks": 2133,
                "out_toks": 183,
                "id": "chatcmpl-BgYfJOqkrBBv5HfI6rXCJETymAf16",
                "created": 1749482729,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 23,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 787,
                "out_toks": 14,
                "id": "chatcmpl-BgYfImuRuOC6SZW4siUPAVrzO5saJ",
                "created": 1749482728,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query to retrieve objects with classification probabilities for specified supernova classes\n-- where the probability exceeds 0.2, including all their probabilities across classes\n\nSELECT o.*,\n       p_all.*\nFROM OBJECT o\nJOIN\n  (-- Select probabilities for the specified classes with probability > 0.2\n SELECT p1.*\n   FROM probability p1\n   WHERE p1.class_name IN ('SNIa',\n                           'SNIbc',\n                           'SNII',\n                           'SLSN')\n     AND p1.classifier_name = 'lc_classifier'\n     AND p1.probability > 0.2 ) p ON o.oid = p.oid\nJOIN\n  (-- Select all probabilities for these objects across all classes and classifiers\n SELECT p2.*\n   FROM probability p2\n   WHERE p2.oid IN\n       (SELECT DISTINCT p3.oid\n        FROM probability p3\n        WHERE p3.class_name IN ('SNIa',\n                                'SNIbc',\n                                'SNII',\n                                'SLSN')\n          AND p3.classifier_name = 'lc_classifier'\n          AND p3.probability > 0.2 ) ) p_all ON o.oid = p_all.oid;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query to retrieve objects with classification probabilities for specified supernova classes\n-- where the probability exceeds 0.2, including all their probabilities across classes\n\nSELECT o.*,\n       p_all.*\nFROM OBJECT o\nJOIN\n  (-- Select probabilities for the specified classes with probability > 0.2\n SELECT p1.*\n   FROM probability p1\n   WHERE p1.class_name IN ('SNIa',\n                           'SNIbc',\n                           'SNII',\n                           'SLSN')\n     AND p1.classifier_name = 'lc_classifier'\n     AND p1.probability > 0.2 ) p ON o.oid = p.oid\nJOIN\n  (-- Select all probabilities for these objects across all classes and classifiers\n SELECT p2.*\n   FROM probability p2\n   WHERE p2.oid IN\n       (SELECT DISTINCT p3.oid\n        FROM probability p3\n        WHERE p3.class_name IN ('SNIa',\n                                'SNIbc',\n                                'SNII',\n                                'SLSN')\n          AND p3.classifier_name = 'lc_classifier'\n          AND p3.probability > 0.2 ) ) p_all ON o.oid = p_all.oid;"
                },
                "in_toks": 1476,
                "out_toks": 252,
                "id": "chatcmpl-BgZWw6bvaOr52SELY5TZWA8novLMt",
                "created": 1749486054,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects with probabilities for specific supernova classes from the lc_classifier with probability > 0.2\n\nSELECT o.*,\n       p.*\nFROM OBJECT o\nJOIN\n  (SELECT p1.*\n   FROM probability p1\n   WHERE p1.class_name IN ('SNIa',\n                           'SNIbc',\n                           'SNII',\n                           'SLSN')\n     AND p1.classifier_name = 'lc_classifier'\n     AND p1.probability > 0.2 ) p ON o.oid = p.oid -- Retrieve all probabilities for these objects across all classes and classifiers\nJOIN\n  (SELECT p2.*\n   FROM probability p2\n   WHERE p2.oid IN\n       (SELECT oid\n        FROM probability\n        WHERE class_name IN ('SNIa',\n                             'SNIbc',\n                             'SNII',\n                             'SLSN')\n          AND classifier_name='lc_classifier'\n          AND probability > 0.2 ) ) p ON o.oid = p.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects with probabilities for specific supernova classes from the lc_classifier with probability > 0.2\n\nSELECT o.*,\n       p.*\nFROM OBJECT o\nJOIN\n  (SELECT p1.*\n   FROM probability p1\n   WHERE p1.class_name IN ('SNIa',\n                           'SNIbc',\n                           'SNII',\n                           'SLSN')\n     AND p1.classifier_name = 'lc_classifier'\n     AND p1.probability > 0.2 ) p ON o.oid = p.oid -- Retrieve all probabilities for these objects across all classes and classifiers\nJOIN\n  (SELECT p2.*\n   FROM probability p2\n   WHERE p2.oid IN\n       (SELECT oid\n        FROM probability\n        WHERE class_name IN ('SNIa',\n                             'SNIbc',\n                             'SNII',\n                             'SLSN')\n          AND classifier_name='lc_classifier'\n          AND probability > 0.2 ) ) p ON o.oid = p.oid;"
                },
                "in_toks": 2133,
                "out_toks": 200,
                "id": "chatcmpl-BgYfM67m7AzMJGVq6nP9oFhNeyDiR",
                "created": 1749482732,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "32": {
        "0": {
            "req_id": 32,
            "experiment_id": "run_0",
            "pred_tables": [
                "ss_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['ss_ztf']",
                    "1": "['ss_ztf']"
                },
                "in_toks": 777,
                "out_toks": 12,
                "id": "chatcmpl-BgYfPcyC19VKTQ9ixzim8jv3NyN3t",
                "created": 1749482735,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve data from ss_ztf for specified oids with positive ssdistnr, ordered by oid\n\nSELECT *\nFROM ss_ztf\nWHERE oid IN ('ZTF21aaqosfj',\n              'ZTF21aaqosfm',\n              'ZTF21aaqosfs',\n              'ZTF21aaqosff',\n              'ZTF21aaqoski',\n              'ZTF21aaqoskz',\n              'ZTF21aaqosfo',\n              'ZTF21aaqosly',\n              'ZTF21aaqosgi',\n              'ZTF21aaqospe')\n  AND ssdistnr > 0\nORDER BY oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve data from ss_ztf for specified oids with positive ssdistnr, ordered by oid\n\nSELECT *\nFROM ss_ztf\nWHERE oid IN ('ZTF21aaqosfj',\n              'ZTF21aaqosfm',\n              'ZTF21aaqosfs',\n              'ZTF21aaqosff',\n              'ZTF21aaqoski',\n              'ZTF21aaqoskz',\n              'ZTF21aaqosfo',\n              'ZTF21aaqosly',\n              'ZTF21aaqosgi',\n              'ZTF21aaqospe')\n  AND ssdistnr > 0\nORDER BY oid;"
                },
                "in_toks": 1692,
                "out_toks": 132,
                "id": "chatcmpl-BgYfQeFiTUjBTGh9g9CvjtBKchdWE",
                "created": 1749482736,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 32,
            "experiment_id": "run_1",
            "pred_tables": [
                "ss_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['ss_ztf']",
                    "1": "['ss_ztf']"
                },
                "in_toks": 777,
                "out_toks": 12,
                "id": "chatcmpl-BgYfPcyC19VKTQ9ixzim8jv3NyN3t",
                "created": 1749482735,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve data from ss_ztf for specific oids with positive ssdistnr, ordered by oid\n\nSELECT *\nFROM ss_ztf\nWHERE oid IN ('ZTF21aaqosfj',\n              'ZTF21aaqosfm',\n              'ZTF21aaqosfs',\n              'ZTF21aaqosff',\n              'ZTF21aaqoski',\n              'ZTF21aaqoskz',\n              'ZTF21aaqosfo',\n              'ZTF21aaqosly',\n              'ZTF21aaqosgi',\n              'ZTF21aaqospe')\n  AND ssdistnr > 0\nORDER BY oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve data from ss_ztf for specific oids with positive ssdistnr, ordered by oid\n\nSELECT *\nFROM ss_ztf\nWHERE oid IN ('ZTF21aaqosfj',\n              'ZTF21aaqosfm',\n              'ZTF21aaqosfs',\n              'ZTF21aaqosff',\n              'ZTF21aaqoski',\n              'ZTF21aaqoskz',\n              'ZTF21aaqosfo',\n              'ZTF21aaqosly',\n              'ZTF21aaqosgi',\n              'ZTF21aaqospe')\n  AND ssdistnr > 0\nORDER BY oid;"
                },
                "in_toks": 1692,
                "out_toks": 132,
                "id": "chatcmpl-BgYfSExSzif0d2GMiSMRgsij7CDNO",
                "created": 1749482738,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "20": {
        "0": {
            "req_id": 20,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 778,
                "out_toks": 22,
                "id": "chatcmpl-BgYfZ44MqTYBu2TryEs2jw9mD9Z99",
                "created": 1749482745,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects classified as RRL by the light curve classifier with probability > 0.55 and at least 100 detections\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.ndet >= 100\n  AND EXISTS\n    (SELECT 1\n     FROM probability p\n     WHERE p.oid = o.oid\n       AND p.class_name = 'RRL'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.55\n       AND p.ranking = 1 );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects classified as RRL by the light curve classifier with probability > 0.55 and at least 100 detections\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.ndet >= 100\n  AND EXISTS\n    (SELECT 1\n     FROM probability p\n     WHERE p.oid = o.oid\n       AND p.class_name = 'RRL'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.55\n       AND p.ranking = 1 );"
                },
                "in_toks": 2660,
                "out_toks": 114,
                "id": "chatcmpl-BgYfZ1GsQWeE9D2YRXXPzYu0f7Giw",
                "created": 1749482745,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 20,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 778,
                "out_toks": 22,
                "id": "chatcmpl-BgYfZ44MqTYBu2TryEs2jw9mD9Z99",
                "created": 1749482745,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects classified as RRL by the light curve classifier with probability > 0.55 and at least 100 detections\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.ndet >= 100\n  AND EXISTS\n    (SELECT 1\n     FROM probability p\n     WHERE p.oid = o.oid\n       AND p.class_name = 'RRL'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.55\n       AND p.ranking = 1 );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects classified as RRL by the light curve classifier with probability > 0.55 and at least 100 detections\n\nSELECT o.*\nFROM OBJECT o\nWHERE o.ndet >= 100\n  AND EXISTS\n    (SELECT 1\n     FROM probability p\n     WHERE p.oid = o.oid\n       AND p.class_name = 'RRL'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.55\n       AND p.ranking = 1 );"
                },
                "in_toks": 2660,
                "out_toks": 114,
                "id": "chatcmpl-BgYfbVEkbIpSazqI383fLRN5jCrm1",
                "created": 1749482747,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "18": {
        "0": {
            "req_id": 18,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 911,
                "out_toks": 22,
                "id": "chatcmpl-BgYfdm9ilrdAoZTbQA1QgP1SqdG5n",
                "created": 1749482749,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper JOINs and table references, following the schema and guidelines\n -- Query for sources classified as AGN, QSO, or Blazar by the light curve classifier\n-- with minimum detections, time span, and probability filters, combined with UNION\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON p.oid = o.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name IN ('AGN',\n                       'QSO',\n                       'Blazar')\n  AND p.ranking = 1\n  AND ((p.class_name = 'Blazar'\n        AND p.probability <= 0.8)\n       OR ((p.class_name IN ('AGN',\n                             'QSO'))\n           AND p.probability <= 0.95))\nUNION -- Repeat for each class with respective probability thresholds\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON p.oid = o.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name = 'QSO'\n  AND p.ranking = 1\n  AND p.probability <= 0.95\nUNION\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON p.oid = o.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name = 'AGN'\n  AND p.ranking = 1\n  AND p.probability <= 0.95;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper JOINs and table references, following the schema and guidelines\n -- Query for sources classified as AGN, QSO, or Blazar by the light curve classifier\n-- with minimum detections, time span, and probability filters, combined with UNION\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON p.oid = o.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name IN ('AGN',\n                       'QSO',\n                       'Blazar')\n  AND p.ranking = 1\n  AND ((p.class_name = 'Blazar'\n        AND p.probability <= 0.8)\n       OR ((p.class_name IN ('AGN',\n                             'QSO'))\n           AND p.probability <= 0.95))\nUNION -- Repeat for each class with respective probability thresholds\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON p.oid = o.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name = 'QSO'\n  AND p.ranking = 1\n  AND p.probability <= 0.95\nUNION\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nJOIN probability p ON p.oid = o.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name = 'AGN'\n  AND p.ranking = 1\n  AND p.probability <= 0.95;"
                },
                "in_toks": 2713,
                "out_toks": 527,
                "id": "chatcmpl-BgZWzkMYYNqwLUmB8pJesdeUBu8kV",
                "created": 1749486057,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Query for sources classified as AGN, QSO, or Blazar by the light curve classifier\n-- with minimum detections, time span, and probability filters, combined with UNION\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.oid = o.oid\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name IN ('AGN',\n                       'QSO',\n                       'Blazar')\n  AND p.probability <= CASE\n                           WHEN p.class_name = 'Blazar' THEN 0.8\n                           ELSE 0.95\n                       END\n  AND p.ranking = 1\nUNION -- Repeat for each class with respective probability thresholds\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.oid = o.oid\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name = 'QSO'\n  AND p.probability <= 0.95\n  AND p.ranking = 1\nUNION\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.oid = o.oid\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name = 'AGN'\n  AND p.probability <= 0.95\n  AND p.ranking = 1;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Query for sources classified as AGN, QSO, or Blazar by the light curve classifier\n-- with minimum detections, time span, and probability filters, combined with UNION\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.oid = o.oid\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name IN ('AGN',\n                       'QSO',\n                       'Blazar')\n  AND p.probability <= CASE\n                           WHEN p.class_name = 'Blazar' THEN 0.8\n                           ELSE 0.95\n                       END\n  AND p.ranking = 1\nUNION -- Repeat for each class with respective probability thresholds\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.oid = o.oid\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name = 'QSO'\n  AND p.probability <= 0.95\n  AND p.ranking = 1\nUNION\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.oid = o.oid\n  AND p.classifier_name = 'lc_classifier'\n  AND p.class_name = 'AGN'\n  AND p.probability <= 0.95\n  AND p.ranking = 1;"
                },
                "in_toks": 2793,
                "out_toks": 503,
                "id": "chatcmpl-BgYfe006Uf2Quyz9B7DbWXCO7Tham",
                "created": 1749482750,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 18,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 911,
                "out_toks": 22,
                "id": "chatcmpl-BgYfdm9ilrdAoZTbQA1QgP1SqdG5n",
                "created": 1749482749,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table references and structure\n-- The main issue was the missing alias for the probability subquery and referencing it as 'p' without defining it\n-- Also, simplified the query by combining conditions and avoiding redundant subqueries\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       prob.class_name,\n       prob.ranking,\n       prob.probability\nFROM OBJECT o\nJOIN probability prob ON o.oid = prob.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND prob.classifier_name = 'lc_classifier'\n  AND prob.ranking = 1\n  AND ((prob.class_name = 'AGN'\n        AND prob.probability > 0.95)\n       OR (prob.class_name = 'QSO'\n           AND prob.probability > 0.95)\n       OR (prob.class_name = 'Blazar'\n           AND prob.probability > 0.8) )-- No need for UNION since the same filtering applies; if separate per class, can be added with UNIONs\n-- But as per instructions, collect all classes in one query with filters\n -- If you want to produce separate results per class with UNION, you can do:\n\nUNION ALL\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       prob.class_name,\n       prob.ranking,\n       prob.probability\nFROM OBJECT o\nJOIN probability prob ON o.oid = prob.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND prob.classifier_name = 'lc_classifier'\n  AND prob.ranking = 1\n  AND ((prob.class_name = 'AGN'\n        AND prob.probability > 0.95)\n       OR (prob.class_name = 'QSO'\n           AND prob.probability > 0.95)\n       OR (prob.class_name = 'Blazar'\n           AND prob.probability > 0.8));\n\n-- Note: The above query combines all classes in one result set, filtering by probability thresholds.\n-- If you prefer separate queries per class with UNION, replicate the SELECT with class-specific conditions and UNION them.\n",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table references and structure\n-- The main issue was the missing alias for the probability subquery and referencing it as 'p' without defining it\n-- Also, simplified the query by combining conditions and avoiding redundant subqueries\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       prob.class_name,\n       prob.ranking,\n       prob.probability\nFROM OBJECT o\nJOIN probability prob ON o.oid = prob.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND prob.classifier_name = 'lc_classifier'\n  AND prob.ranking = 1\n  AND ((prob.class_name = 'AGN'\n        AND prob.probability > 0.95)\n       OR (prob.class_name = 'QSO'\n           AND prob.probability > 0.95)\n       OR (prob.class_name = 'Blazar'\n           AND prob.probability > 0.8) )-- No need for UNION since the same filtering applies; if separate per class, can be added with UNIONs\n-- But as per instructions, collect all classes in one query with filters\n -- If you want to produce separate results per class with UNION, you can do:\n\nUNION ALL\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       prob.class_name,\n       prob.ranking,\n       prob.probability\nFROM OBJECT o\nJOIN probability prob ON o.oid = prob.oid\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND prob.classifier_name = 'lc_classifier'\n  AND prob.ranking = 1\n  AND ((prob.class_name = 'AGN'\n        AND prob.probability > 0.95)\n       OR (prob.class_name = 'QSO'\n           AND prob.probability > 0.95)\n       OR (prob.class_name = 'Blazar'\n           AND prob.probability > 0.8));\n\n-- Note: The above query combines all classes in one result set, filtering by probability thresholds.\n-- If you prefer separate queries per class with UNION, replicate the SELECT with class-specific conditions and UNION them.\n"
                },
                "in_toks": 2623,
                "out_toks": 525,
                "id": "chatcmpl-BgZX7AfyEwwIOn4jnSSgGgoa0u0A4",
                "created": 1749486065,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Query for sources classified as AGN, QSO, or Blazar by the light curve classifier\n-- with minimum detections, time span, and probability filters, combined with UNION\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.ranking = 1\n  AND ((p.class_name = 'AGN'\n        AND p.probability > 0.95)\n       OR (p.class_name = 'QSO'\n           AND p.probability > 0.95)\n       OR (p.class_name = 'Blazar'\n           AND p.probability > 0.8))\n  AND o.oid IN\n    (SELECT oid\n     FROM probability\n     WHERE classifier_name='lc_classifier'\n       AND ranking=1 )\nUNION\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.ranking = 1\n  AND ((p.class_name = 'AGN'\n        AND p.probability > 0.95)\n       OR (p.class_name = 'QSO'\n           AND p.probability > 0.95)\n       OR (p.class_name = 'Blazar'\n           AND p.probability > 0.8))\n  AND o.oid IN\n    (SELECT oid\n     FROM probability\n     WHERE classifier_name='lc_classifier'\n       AND ranking=1 );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Query for sources classified as AGN, QSO, or Blazar by the light curve classifier\n-- with minimum detections, time span, and probability filters, combined with UNION\n\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.ranking = 1\n  AND ((p.class_name = 'AGN'\n        AND p.probability > 0.95)\n       OR (p.class_name = 'QSO'\n           AND p.probability > 0.95)\n       OR (p.class_name = 'Blazar'\n           AND p.probability > 0.8))\n  AND o.oid IN\n    (SELECT oid\n     FROM probability\n     WHERE classifier_name='lc_classifier'\n       AND ranking=1 )\nUNION\nSELECT o.oid,\n       o.meanra,\n       o.meandec,\n       o.ndet,\n       o.firstmjd,\n       o.deltajd,\n       'lc_classifier' AS classifier_name,\n       p.class_name,\n       p.ranking,\n       p.probability\nFROM OBJECT o\nWHERE o.ndet >= 40\n  AND o.deltajd >= 200\n  AND p.classifier_name = 'lc_classifier'\n  AND p.ranking = 1\n  AND ((p.class_name = 'AGN'\n        AND p.probability > 0.95)\n       OR (p.class_name = 'QSO'\n           AND p.probability > 0.95)\n       OR (p.class_name = 'Blazar'\n           AND p.probability > 0.8))\n  AND o.oid IN\n    (SELECT oid\n     FROM probability\n     WHERE classifier_name='lc_classifier'\n       AND ranking=1 );"
                },
                "in_toks": 2793,
                "out_toks": 447,
                "id": "chatcmpl-BgYfkY0YWKeniIFQa7iuP5Q0V66oH",
                "created": 1749482756,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "35": {
        "0": {
            "req_id": 35,
            "experiment_id": "run_0",
            "pred_tables": [
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability']",
                    "1": "['probability']"
                },
                "in_toks": 752,
                "out_toks": 8,
                "id": "chatcmpl-BgYfq0ava7j0dL8C5Nskp6EJSJ3a6",
                "created": 1749482762,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve the first 10 elements from the probability table ordered by oid\n\nSELECT *\nFROM probability\nORDER BY oid\nLIMIT 10;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve the first 10 elements from the probability table ordered by oid\n\nSELECT *\nFROM probability\nORDER BY oid\nLIMIT 10;"
                },
                "in_toks": 1604,
                "out_toks": 30,
                "id": "chatcmpl-BgYfsvrr35AI0QHe95OyskXRsWPk0",
                "created": 1749482764,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 35,
            "experiment_id": "run_1",
            "pred_tables": [
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability']",
                    "1": "['probability']"
                },
                "in_toks": 752,
                "out_toks": 8,
                "id": "chatcmpl-BgYfq0ava7j0dL8C5Nskp6EJSJ3a6",
                "created": 1749482762,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve the first 10 elements from the probability table ordered by oid\n\nSELECT *\nFROM probability\nORDER BY oid\nLIMIT 10;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve the first 10 elements from the probability table ordered by oid\n\nSELECT *\nFROM probability\nORDER BY oid\nLIMIT 10;"
                },
                "in_toks": 1604,
                "out_toks": 30,
                "id": "chatcmpl-BgYfupyGPltshX7S9uqCw8cPnakke",
                "created": 1749482766,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "11": {
        "0": {
            "req_id": 11,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "magstat",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'magstat', 'feature']",
                    "1": "['object', 'probability', 'detection', 'magstat', 'feature']"
                },
                "in_toks": 791,
                "out_toks": 36,
                "id": "chatcmpl-BgYfuk6KIIAERuUENAETXaqK1wpfX",
                "created": 1749482766,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper JOIN placement and syntax, based on provided schema and guidelines\n-- Retrieve all Type Ia SNe detected last September with peak magnitude above 19 and g-r color at maximum below 1\n\nSELECT o.oid,\n       f.magmax,\n       f.magmax_corr,\n       f.magsigma_corr,\n       o.firstmjd,\n       p.class_name,\n       p.probability,\n       p.ranking\nFROM OBJECT o -- Join with probability table to filter for Type Ia SNe with highest probability\nJOIN probability p ON o.oid = p.oid -- Join with feature table to get maximum magnitude and g-r color at maximum\nJOIN feature f ON o.oid = f.oid\nWHERE p.class_name = 'SNIa'\n  AND p.classifier_name = 'lc_classifier'\n  AND p.ranking = 1\n  AND f.name IN ('magmax',\n                 'g-r_max')\n  AND f.fid = 2 -- assuming filter id 2 corresponds to r-band\n\n  AND o.firstmjd BETWEEN 60188.0 AND 60217.0 -- last September (approximate MJDs)\n\n  AND f.name = 'magmax'\n  AND f.value > 19\n  AND EXISTS\n    (SELECT 1\n     FROM feature f2\n     WHERE o.oid = f2.oid\n       AND f2.name = 'g-r_max'\n       AND f2.fid = 2\n       AND f2.value < 1 );",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper JOIN placement and syntax, based on provided schema and guidelines\n-- Retrieve all Type Ia SNe detected last September with peak magnitude above 19 and g-r color at maximum below 1\n\nSELECT o.oid,\n       f.magmax,\n       f.magmax_corr,\n       f.magsigma_corr,\n       o.firstmjd,\n       p.class_name,\n       p.probability,\n       p.ranking\nFROM OBJECT o -- Join with probability table to filter for Type Ia SNe with highest probability\nJOIN probability p ON o.oid = p.oid -- Join with feature table to get maximum magnitude and g-r color at maximum\nJOIN feature f ON o.oid = f.oid\nWHERE p.class_name = 'SNIa'\n  AND p.classifier_name = 'lc_classifier'\n  AND p.ranking = 1\n  AND f.name IN ('magmax',\n                 'g-r_max')\n  AND f.fid = 2 -- assuming filter id 2 corresponds to r-band\n\n  AND o.firstmjd BETWEEN 60188.0 AND 60217.0 -- last September (approximate MJDs)\n\n  AND f.name = 'magmax'\n  AND f.value > 19\n  AND EXISTS\n    (SELECT 1\n     FROM feature f2\n     WHERE o.oid = f2.oid\n       AND f2.name = 'g-r_max'\n       AND f2.fid = 2\n       AND f2.value < 1 );"
                },
                "in_toks": 5212,
                "out_toks": 315,
                "id": "chatcmpl-BgZXE8id0Eiv2K2ocQjR75QBv310T",
                "created": 1749486072,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all Type Ia SNe detected last September with peak magnitude above 19 and g-r color at maximum below 1\n\nSELECT o.oid,\n       f.magmax,\n       f.magmax_corr,\n       f.magsigma_corr,\n       f.firstmjd,\n       p.class_name,\n       p.probability,\n       p.ranking\nFROM OBJECT o -- Filter objects classified as Type Ia SNe with highest probability (ranking=1)\n\nWHERE o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNIa'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.ranking = 1 ) -- Ensure the first detection was last September\nAND o.firstmjd BETWEEN 60188.0 AND 60217.0 -- Join with feature table to get maximum magnitude and g-r color at maximum\nJOIN feature f ON o.oid = f.oid\n  AND f.name IN ('magmax',\n                 'g-r_max')\n  AND f.fid = 2 -- assuming filter id 2 corresponds to r-band\n-- Filter for maximum magnitude above 19\nWHERE f.name = 'magmax'\n  AND f.value > 19 -- Filter for g-r color at maximum below 1\nAND\n    (SELECT value\n     FROM feature\n     WHERE oid = o.oid\n       AND name = 'g-r_max'\n       AND fid = 2) < 1;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all Type Ia SNe detected last September with peak magnitude above 19 and g-r color at maximum below 1\n\nSELECT o.oid,\n       f.magmax,\n       f.magmax_corr,\n       f.magsigma_corr,\n       f.firstmjd,\n       p.class_name,\n       p.probability,\n       p.ranking\nFROM OBJECT o -- Filter objects classified as Type Ia SNe with highest probability (ranking=1)\n\nWHERE o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNIa'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.ranking = 1 ) -- Ensure the first detection was last September\nAND o.firstmjd BETWEEN 60188.0 AND 60217.0 -- Join with feature table to get maximum magnitude and g-r color at maximum\nJOIN feature f ON o.oid = f.oid\n  AND f.name IN ('magmax',\n                 'g-r_max')\n  AND f.fid = 2 -- assuming filter id 2 corresponds to r-band\n-- Filter for maximum magnitude above 19\nWHERE f.name = 'magmax'\n  AND f.value > 19 -- Filter for g-r color at maximum below 1\nAND\n    (SELECT value\n     FROM feature\n     WHERE oid = o.oid\n       AND name = 'g-r_max'\n       AND fid = 2) < 1;"
                },
                "in_toks": 5852,
                "out_toks": 313,
                "id": "chatcmpl-BgYfvQ6CGkfKxUysLatJ0bA9OPzLz",
                "created": 1749482767,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 11,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "magstat",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'magstat', 'feature']",
                    "1": "['object', 'probability', 'detection', 'magstat', 'feature']"
                },
                "in_toks": 791,
                "out_toks": 36,
                "id": "chatcmpl-BgYfuk6KIIAERuUENAETXaqK1wpfX",
                "created": 1749482766,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table references and syntax, including necessary joins and subqueries\n\nSELECT o.oid,\n       f.magmax,\n       f.maglast,\n       f.fid\nFROM OBJECT o -- Join magstat to access magmax and maglast for the specific band (fid=2 for r-band)\nJOIN magstat f ON o.oid = f.oid\nAND f.fid = 2 -- Join probability to filter objects classified as SNIa with highest ranking\nJOIN\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'SNIa'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.ranking = 1 ) AS p ON o.oid = p.oid\nWHERE o.firstmjd BETWEEN 60188.0 AND 60217.0 -- First detection last September 2023\n-- Filter objects classified as SNIa\nAND\n    (-- Confirm classification as SNIa\n SELECT class_name\n     FROM probability\n     WHERE oid = o.oid\n       AND classifier_name='lc_classifier'\n       AND ranking=1 ) = 'SNIa' -- Filter for peak magnitude above 19\nAND f.magmax > 19 -- Filter for g-r_max (color at maximum) below 1\nAND\n    (SELECT g_r_max\n     FROM feature\n     WHERE oid = o.oid\n       AND name='g-r_max'\n       AND fid=2 ) < 1;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table references and syntax, including necessary joins and subqueries\n\nSELECT o.oid,\n       f.magmax,\n       f.maglast,\n       f.fid\nFROM OBJECT o -- Join magstat to access magmax and maglast for the specific band (fid=2 for r-band)\nJOIN magstat f ON o.oid = f.oid\nAND f.fid = 2 -- Join probability to filter objects classified as SNIa with highest ranking\nJOIN\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'SNIa'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.ranking = 1 ) AS p ON o.oid = p.oid\nWHERE o.firstmjd BETWEEN 60188.0 AND 60217.0 -- First detection last September 2023\n-- Filter objects classified as SNIa\nAND\n    (-- Confirm classification as SNIa\n SELECT class_name\n     FROM probability\n     WHERE oid = o.oid\n       AND classifier_name='lc_classifier'\n       AND ranking=1 ) = 'SNIa' -- Filter for peak magnitude above 19\nAND f.magmax > 19 -- Filter for g-r_max (color at maximum) below 1\nAND\n    (SELECT g_r_max\n     FROM feature\n     WHERE oid = o.oid\n       AND name='g-r_max'\n       AND fid=2 ) < 1;"
                },
                "in_toks": 5020,
                "out_toks": 311,
                "id": "chatcmpl-BgZXILer3EOKwKqC5wEbrPXg7yxUD",
                "created": 1749486076,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select objects classified as Type Ia SNe with specific conditions\n\nSELECT o.oid,\n       f.magmax,\n       f.maglast,\n       f.fid\nFROM OBJECT o -- Filter objects with first detection in September 2023\n\nWHERE o.firstmjd BETWEEN 60188.0 AND 60217.0 -- Ensure the object is classified as SNIa with highest probability\nAND\n    (SELECT class_name\n     FROM probability\n     WHERE oid = o.oid\n       AND classifier_name='lc_classifier'\n       AND ranking=1) = 'SNIa' -- Filter for objects with peak magnitude above 19\nAND\n    (SELECT magmax\n     FROM magstat\n     WHERE oid = o.oid\n       AND fid=2) > 19 -- Filter for g-r color at maximum below 1\nAND\n    (SELECT g_r_max\n     FROM feature\n     WHERE oid = o.oid\n       AND name='g-r_max'\n       AND fid=2) < 1;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select objects classified as Type Ia SNe with specific conditions\n\nSELECT o.oid,\n       f.magmax,\n       f.maglast,\n       f.fid\nFROM OBJECT o -- Filter objects with first detection in September 2023\n\nWHERE o.firstmjd BETWEEN 60188.0 AND 60217.0 -- Ensure the object is classified as SNIa with highest probability\nAND\n    (SELECT class_name\n     FROM probability\n     WHERE oid = o.oid\n       AND classifier_name='lc_classifier'\n       AND ranking=1) = 'SNIa' -- Filter for objects with peak magnitude above 19\nAND\n    (SELECT magmax\n     FROM magstat\n     WHERE oid = o.oid\n       AND fid=2) > 19 -- Filter for g-r color at maximum below 1\nAND\n    (SELECT g_r_max\n     FROM feature\n     WHERE oid = o.oid\n       AND name='g-r_max'\n       AND fid=2) < 1;"
                },
                "in_toks": 5852,
                "out_toks": 204,
                "id": "chatcmpl-BgYg1bgWoloBk9CRCZAczxE95qKol",
                "created": 1749482773,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "9": {
        "0": {
            "req_id": 9,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 862,
                "out_toks": 20,
                "id": "chatcmpl-BgYg4V6jyHv11mlbKzC1deDpH4AdM",
                "created": 1749482776,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected and optimized SQL query with nested subqueries to improve performance and ensure proper filtering\n WITH center AS\n  (SELECT 39.97 AS ra_center,\n          -1.5768 AS dec_center),\n      objects_in_july AS\n  (-- Select objects with first detection in July 2023 (MJD between 60126 and 60156)\n SELECT *\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 60126.0 AND 60156.0 ),\n      objects_with_radius AS\n  (-- Calculate distance from object to center and filter within 16.16667 degrees (~1000 arcmin)\n SELECT o.*,\n        q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\n   FROM objects_in_july o\n   CROSS JOIN center c\n   WHERE q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) <= 16.16667 ),\n      top_stamp_prob AS\n  (-- For each object, get the top-ranked probability class from stamp_classifier\n SELECT p1.*\n   FROM probability p1\n   WHERE p1.classifier_name='stamp_classifier'\n     AND p1.ranking=1 ),\n      objects_top_class AS\n  (-- Join objects with their top class and filter out 'Asteroid' and 'bogus'\n SELECT o.*,\n        p.class_name\n   FROM objects_with_radius o\n   JOIN top_stamp_prob p ON o.oid = p.oid\n   WHERE p.class_name NOT IN ('Asteroid',\n                              'bogus') ),\n      max_prob_class AS\n  (-- For each object, find the class with the highest probability (ranking=1)\n SELECT DISTINCT ON (p.oid) p.oid,\n                    p.class_name\n   FROM probability p\n   WHERE p.classifier_name='stamp_classifier'\n   ORDER BY p.oid,\n            p.ranking),\n      final_objects AS\n  (-- Keep objects where the top class is not 'Asteroid' or 'bogus'\n SELECT o.*\n   FROM objects_top_class o\n   JOIN max_prob_class m ON o.oid = m.oid\n   WHERE m.class_name NOT IN ('Asteroid',\n                              'bogus') ) -- Select required columns, compute distance, and filter for source_id feature\n\nSELECT o.oid,\n       f.value,\n       f.name,\n       f.version,\n       o.meanra,\n       o.meandec,\n       q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\nFROM final_objects o\nJOIN feature f ON o.oid = f.oid\nCROSS JOIN center c\nWHERE f.name = 'source_id' -- assuming 'source_id' is the feature name for object identifier\nORDER BY o.oid;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected and optimized SQL query with nested subqueries to improve performance and ensure proper filtering\n WITH center AS\n  (SELECT 39.97 AS ra_center,\n          -1.5768 AS dec_center),\n      objects_in_july AS\n  (-- Select objects with first detection in July 2023 (MJD between 60126 and 60156)\n SELECT *\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 60126.0 AND 60156.0 ),\n      objects_with_radius AS\n  (-- Calculate distance from object to center and filter within 16.16667 degrees (~1000 arcmin)\n SELECT o.*,\n        q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\n   FROM objects_in_july o\n   CROSS JOIN center c\n   WHERE q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) <= 16.16667 ),\n      top_stamp_prob AS\n  (-- For each object, get the top-ranked probability class from stamp_classifier\n SELECT p1.*\n   FROM probability p1\n   WHERE p1.classifier_name='stamp_classifier'\n     AND p1.ranking=1 ),\n      objects_top_class AS\n  (-- Join objects with their top class and filter out 'Asteroid' and 'bogus'\n SELECT o.*,\n        p.class_name\n   FROM objects_with_radius o\n   JOIN top_stamp_prob p ON o.oid = p.oid\n   WHERE p.class_name NOT IN ('Asteroid',\n                              'bogus') ),\n      max_prob_class AS\n  (-- For each object, find the class with the highest probability (ranking=1)\n SELECT DISTINCT ON (p.oid) p.oid,\n                    p.class_name\n   FROM probability p\n   WHERE p.classifier_name='stamp_classifier'\n   ORDER BY p.oid,\n            p.ranking),\n      final_objects AS\n  (-- Keep objects where the top class is not 'Asteroid' or 'bogus'\n SELECT o.*\n   FROM objects_top_class o\n   JOIN max_prob_class m ON o.oid = m.oid\n   WHERE m.class_name NOT IN ('Asteroid',\n                              'bogus') ) -- Select required columns, compute distance, and filter for source_id feature\n\nSELECT o.oid,\n       f.value,\n       f.name,\n       f.version,\n       o.meanra,\n       o.meandec,\n       q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\nFROM final_objects o\nJOIN feature f ON o.oid = f.oid\nCROSS JOIN center c\nWHERE f.name = 'source_id' -- assuming 'source_id' is the feature name for object identifier\nORDER BY o.oid;"
                },
                "in_toks": 4741,
                "out_toks": 580,
                "id": "chatcmpl-BgZXOS5nFX3tpqHLvFVfFJB9Ncs8G",
                "created": 1749486082,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Define the search radius in degrees (1000 arcmin = 16.16667 degrees)\nWITH center AS\n  (SELECT 39.97 AS ra_center,\n          -1.5768 AS dec_center), -- Select objects with first detection in July 2023\nobjects_in_july AS\n  (SELECT *\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 60126.0 AND 60156.0 ), -- Filter objects within the specified radius from the center\nobjects_within_radius AS\n  (SELECT o.*,\n          q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\n   FROM objects_in_july o,\n        center c\n   WHERE q3c_join(o.meanra, o.meandec, c.ra_center, c.dec_center, 16.16667) ), -- Get the highest probability class for each object in the stamp classifier\ntop_stamp_prob AS\n  (SELECT p1.*\n   FROM probability p1\n   WHERE p1.classifier_name='stamp_classifier'\n     AND p1.ranking=1\n     AND p1.oid IN\n       (SELECT oid\n        FROM objects_within_radius) ), -- Exclude objects where the top class is 'Asteroid' or 'Bogus'\nfiltered_objects AS\n  (SELECT o.*\n   FROM objects_within_radius o\n   JOIN top_stamp_prob p ON o.oid = p.oid\n   WHERE p.class_name NOT IN ('Asteroid',\n                              'bogus') ), -- Get the maximum probability class for each object in the stamp classifier\nmax_prob_class AS\n  (SELECT DISTINCT ON (oid) oid,\n                      class_name\n   FROM\n     (SELECT p.*\n      FROM probability p\n      WHERE p.classifier_name='stamp_classifier'\n      ORDER BY p.oid,\n               p.ranking) sub), -- Filter objects where the maximum probability class is not 'Asteroid' or 'bogus'\nfinal_objects AS\n  (SELECT o.*\n   FROM filtered_objects o\n   JOIN max_prob_class m ON o.oid = m.oid\n   WHERE m.class_name NOT IN ('Asteroid',\n                              'bogus') ) -- Select required columns and compute distance\n\nSELECT o.oid,\n       f.value,\n       f.name,\n       f.version,\n       o.meanra,\n       o.meandec,\n       q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\nFROM final_objects o\nJOIN feature f ON o.oid = f.oid\nJOIN center c ON TRUE\nWHERE f.name IN ('source_id') -- assuming 'source_id' is the identifier column in feature table\nORDER BY o.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Define the search radius in degrees (1000 arcmin = 16.16667 degrees)\nWITH center AS\n  (SELECT 39.97 AS ra_center,\n          -1.5768 AS dec_center), -- Select objects with first detection in July 2023\nobjects_in_july AS\n  (SELECT *\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 60126.0 AND 60156.0 ), -- Filter objects within the specified radius from the center\nobjects_within_radius AS\n  (SELECT o.*,\n          q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\n   FROM objects_in_july o,\n        center c\n   WHERE q3c_join(o.meanra, o.meandec, c.ra_center, c.dec_center, 16.16667) ), -- Get the highest probability class for each object in the stamp classifier\ntop_stamp_prob AS\n  (SELECT p1.*\n   FROM probability p1\n   WHERE p1.classifier_name='stamp_classifier'\n     AND p1.ranking=1\n     AND p1.oid IN\n       (SELECT oid\n        FROM objects_within_radius) ), -- Exclude objects where the top class is 'Asteroid' or 'Bogus'\nfiltered_objects AS\n  (SELECT o.*\n   FROM objects_within_radius o\n   JOIN top_stamp_prob p ON o.oid = p.oid\n   WHERE p.class_name NOT IN ('Asteroid',\n                              'bogus') ), -- Get the maximum probability class for each object in the stamp classifier\nmax_prob_class AS\n  (SELECT DISTINCT ON (oid) oid,\n                      class_name\n   FROM\n     (SELECT p.*\n      FROM probability p\n      WHERE p.classifier_name='stamp_classifier'\n      ORDER BY p.oid,\n               p.ranking) sub), -- Filter objects where the maximum probability class is not 'Asteroid' or 'bogus'\nfinal_objects AS\n  (SELECT o.*\n   FROM filtered_objects o\n   JOIN max_prob_class m ON o.oid = m.oid\n   WHERE m.class_name NOT IN ('Asteroid',\n                              'bogus') ) -- Select required columns and compute distance\n\nSELECT o.oid,\n       f.value,\n       f.name,\n       f.version,\n       o.meanra,\n       o.meandec,\n       q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\nFROM final_objects o\nJOIN feature f ON o.oid = f.oid\nJOIN center c ON TRUE\nWHERE f.name IN ('source_id') -- assuming 'source_id' is the identifier column in feature table\nORDER BY o.oid;"
                },
                "in_toks": 4669,
                "out_toks": 556,
                "id": "chatcmpl-BgYg4SG6loDgPBSsZTpTYll1hP285",
                "created": 1749482776,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 9,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 862,
                "out_toks": 20,
                "id": "chatcmpl-BgYg4V6jyHv11mlbKzC1deDpH4AdM",
                "created": 1749482776,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query based on provided schema and user requirements\nWITH center AS\n  (SELECT 39.97 AS ra_center,\n          -1.5768 AS dec_center),\n     objects_in_july AS\n  (SELECT oid,\n          firstmjd,\n          meanra,\n          meandec\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 60126.0 AND 60156.0 ),\n     objects_within_radius AS\n  (SELECT o.*,\n          q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\n   FROM objects_in_july o\n   CROSS JOIN center c\n   WHERE q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) <= 16.16667 -- 1000 arcmin in degrees\n),\n     highest_stamp_prob AS\n  (SELECT p1.oid,\n          p1.class_name,\n          p1.probability\n   FROM probability p1\n   WHERE p1.classifier_name='stamp_classifier'\n     AND p1.ranking=1\n     AND p1.oid IN\n       (SELECT oid\n        FROM objects_within_radius) ),\n     filtered_objects AS\n  (SELECT o.*\n   FROM objects_within_radius o\n   JOIN highest_stamp_prob p ON o.oid = p.oid\n   WHERE p.class_name NOT IN ('Asteroid',\n                              'bogus') )\nSELECT fo.oid,\n       f.value,\n       f.name,\n       f.version,\n       fo.meanra,\n       fo.meandec,\n       q3c_dist(fo.meanra, fo.meandec, c.ra_center, c.dec_center) AS dist\nFROM filtered_objects fo\nLEFT JOIN feature f ON fo.oid = f.oid\nCROSS JOIN center c\nWHERE f.name IN ('g-r_max',\n                 'g-r_max_corr',\n                 'g-r_mean',\n                 'g-r_mean_corr',\n                 'g-W2',\n                 'g-W3',\n                 'gal_b',\n                 'gal_l')\nORDER BY dist;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query based on provided schema and user requirements\nWITH center AS\n  (SELECT 39.97 AS ra_center,\n          -1.5768 AS dec_center),\n     objects_in_july AS\n  (SELECT oid,\n          firstmjd,\n          meanra,\n          meandec\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 60126.0 AND 60156.0 ),\n     objects_within_radius AS\n  (SELECT o.*,\n          q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\n   FROM objects_in_july o\n   CROSS JOIN center c\n   WHERE q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) <= 16.16667 -- 1000 arcmin in degrees\n),\n     highest_stamp_prob AS\n  (SELECT p1.oid,\n          p1.class_name,\n          p1.probability\n   FROM probability p1\n   WHERE p1.classifier_name='stamp_classifier'\n     AND p1.ranking=1\n     AND p1.oid IN\n       (SELECT oid\n        FROM objects_within_radius) ),\n     filtered_objects AS\n  (SELECT o.*\n   FROM objects_within_radius o\n   JOIN highest_stamp_prob p ON o.oid = p.oid\n   WHERE p.class_name NOT IN ('Asteroid',\n                              'bogus') )\nSELECT fo.oid,\n       f.value,\n       f.name,\n       f.version,\n       fo.meanra,\n       fo.meandec,\n       q3c_dist(fo.meanra, fo.meandec, c.ra_center, c.dec_center) AS dist\nFROM filtered_objects fo\nLEFT JOIN feature f ON fo.oid = f.oid\nCROSS JOIN center c\nWHERE f.name IN ('g-r_max',\n                 'g-r_max_corr',\n                 'g-r_mean',\n                 'g-r_mean_corr',\n                 'g-W2',\n                 'g-W3',\n                 'gal_b',\n                 'gal_l')\nORDER BY dist;"
                },
                "in_toks": 4679,
                "out_toks": 439,
                "id": "chatcmpl-BgZXWJHYQRhVpwzYZ7LqjkLi9A0E5",
                "created": 1749486090,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Define the search radius in degrees (1000 arcmin = 16.16667 degrees)\nWITH center AS\n  (SELECT 39.97 AS ra_center,\n          -1.5768 AS dec_center), -- Select objects with first detection in July 2023\nobjects_in_july AS\n  (SELECT oid,\n          firstmjd,\n          meanra,\n          meandec,\n          sgscore1\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 60126.0 AND 60156.0\n     AND sgscore1 < 0.3 ), -- Filter objects within the specified radius from the center\nobjects_within_radius AS\n  (SELECT o.*,\n          q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\n   FROM objects_in_july o,\n        center c\n   WHERE q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) <= 16.16667 ), -- Get the highest probability class in the stamp classifier for each object\nhighest_stamp_prob AS\n  (SELECT p1.oid,\n          p1.class_name,\n          p1.probability\n   FROM probability p1\n   WHERE p1.classifier_name='stamp_classifier'\n     AND p1.ranking=1\n     AND p1.oid IN\n       (SELECT oid\n        FROM objects_within_radius) ), -- Exclude objects where the top class is 'Asteroid' or 'bogus'\nfiltered_objects AS\n  (SELECT o.*\n   FROM objects_within_radius o\n   JOIN highest_stamp_prob p ON o.oid = p.oid\n   WHERE p.class_name NOT IN ('Asteroid',\n                              'bogus') ) -- Final selection of columns\n\nSELECT fo.oid,\n       f.value,\n       f.name,\n       f.version,\n       fo.meanra,\n       fo.meandec,\n       q3c_dist(fo.meanra, fo.meandec, c.ra_center, c.dec_center) AS dist\nFROM filtered_objects fo\nLEFT JOIN feature f ON fo.oid = f.oid\nCROSS JOIN center c\nWHERE f.name IN ('g-r_max',\n                 'g-r_max_corr',\n                 'g-r_mean',\n                 'g-r_mean_corr',\n                 'g-W2',\n                 'g-W3',\n                 'gal_b',\n                 'gal_l') -- example feature names\nORDER BY dist;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Define the search radius in degrees (1000 arcmin = 16.16667 degrees)\nWITH center AS\n  (SELECT 39.97 AS ra_center,\n          -1.5768 AS dec_center), -- Select objects with first detection in July 2023\nobjects_in_july AS\n  (SELECT oid,\n          firstmjd,\n          meanra,\n          meandec,\n          sgscore1\n   FROM OBJECT\n   WHERE firstmjd BETWEEN 60126.0 AND 60156.0\n     AND sgscore1 < 0.3 ), -- Filter objects within the specified radius from the center\nobjects_within_radius AS\n  (SELECT o.*,\n          q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) AS dist\n   FROM objects_in_july o,\n        center c\n   WHERE q3c_dist(o.meanra, o.meandec, c.ra_center, c.dec_center) <= 16.16667 ), -- Get the highest probability class in the stamp classifier for each object\nhighest_stamp_prob AS\n  (SELECT p1.oid,\n          p1.class_name,\n          p1.probability\n   FROM probability p1\n   WHERE p1.classifier_name='stamp_classifier'\n     AND p1.ranking=1\n     AND p1.oid IN\n       (SELECT oid\n        FROM objects_within_radius) ), -- Exclude objects where the top class is 'Asteroid' or 'bogus'\nfiltered_objects AS\n  (SELECT o.*\n   FROM objects_within_radius o\n   JOIN highest_stamp_prob p ON o.oid = p.oid\n   WHERE p.class_name NOT IN ('Asteroid',\n                              'bogus') ) -- Final selection of columns\n\nSELECT fo.oid,\n       f.value,\n       f.name,\n       f.version,\n       fo.meanra,\n       fo.meandec,\n       q3c_dist(fo.meanra, fo.meandec, c.ra_center, c.dec_center) AS dist\nFROM filtered_objects fo\nLEFT JOIN feature f ON fo.oid = f.oid\nCROSS JOIN center c\nWHERE f.name IN ('g-r_max',\n                 'g-r_max_corr',\n                 'g-r_mean',\n                 'g-r_mean_corr',\n                 'g-W2',\n                 'g-W3',\n                 'gal_b',\n                 'gal_l') -- example feature names\nORDER BY dist;"
                },
                "in_toks": 4669,
                "out_toks": 494,
                "id": "chatcmpl-BgYgCqX58immvRwNK1S1AgprFoE7m",
                "created": 1749482784,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "5": {
        "0": {
            "req_id": 5,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "feature",
                "detection",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature', 'detection', 'probability']",
                    "1": "['object', 'probability', 'feature', 'detection']"
                },
                "in_toks": 833,
                "out_toks": 28,
                "id": "chatcmpl-BgYgJWX1zbqdEGCOtScTVuG6cXRX2",
                "created": 1749482791,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object and detection information for objects classified as SN II with probability > 0.6,\n-- number of detections > 50, and magnitude difference in g-band > 2\n\nSELECT o.oid,\n       d.candid AS detection_candid,\n       f.name AS feature_name,\n       f.value AS feature_value,\n       d.magpsf,\n       d.sigmapsf,\n       d.fid AS feature_fid -- renamed as 'feature_fid'\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN feature f ON o.oid = f.oid\nWHERE -- Filter for objects with probability > 0.6 for class 'SNII' in the 'lc_classifier' classifier\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6 ) -- Filter for objects with more than 50 detections\n\n  AND o.ndet > 50 -- Filter for objects with magnitude difference in g-band > 2\n\n  AND\n    (SELECT MAX(magpsf) - MIN(magpsf)\n     FROM detection\n     WHERE oid = o.oid\n       AND fid = 1 ) > 2\nORDER BY o.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object and detection information for objects classified as SN II with probability > 0.6,\n-- number of detections > 50, and magnitude difference in g-band > 2\n\nSELECT o.oid,\n       d.candid AS detection_candid,\n       f.name AS feature_name,\n       f.value AS feature_value,\n       d.magpsf,\n       d.sigmapsf,\n       d.fid AS feature_fid -- renamed as 'feature_fid'\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN feature f ON o.oid = f.oid\nWHERE -- Filter for objects with probability > 0.6 for class 'SNII' in the 'lc_classifier' classifier\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6 ) -- Filter for objects with more than 50 detections\n\n  AND o.ndet > 50 -- Filter for objects with magnitude difference in g-band > 2\n\n  AND\n    (SELECT MAX(magpsf) - MIN(magpsf)\n     FROM detection\n     WHERE oid = o.oid\n       AND fid = 1 ) > 2\nORDER BY o.oid;"
                },
                "in_toks": 5147,
                "out_toks": 301,
                "id": "chatcmpl-BgYgKswKP4Zva6fB1w5Qu27VocxeR",
                "created": 1749482792,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 5,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "feature",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature', 'detection', 'probability']",
                    "1": "['object', 'probability', 'feature', 'detection']"
                },
                "in_toks": 833,
                "out_toks": 28,
                "id": "chatcmpl-BgYgJWX1zbqdEGCOtScTVuG6cXRX2",
                "created": 1749482791,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object and detection information for objects classified as SN II with probability > 0.6,\n-- having more than 50 detections, and a g-band magnitude difference > 2 mag.\n\nSELECT o.oid,\n       d.candid AS detection_candid,\n       f.name AS feature_name,\n       f.value AS feature_value,\n       d.magpsf,\n       d.sigmapsf,\n       d.fid AS feature_fid,\n       d.magpsf_corr,\n       d.sigmapsf_corr,\n       d.sigmapsf_corr_ext\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN feature f ON o.oid = f.oid\nWHERE -- Classify as SN II with probability > 0.6\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6 ) -- Object has more than 50 detections\n\n  AND o.ndet > 50 -- Difference between min and max magnitude in g-band > 2\n\n  AND\n    (SELECT MAX(magpsf) - MIN(magpsf)\n     FROM detection\n     WHERE oid = o.oid\n       AND fid = 1 ) > 2\nORDER BY o.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object and detection information for objects classified as SN II with probability > 0.6,\n-- having more than 50 detections, and a g-band magnitude difference > 2 mag.\n\nSELECT o.oid,\n       d.candid AS detection_candid,\n       f.name AS feature_name,\n       f.value AS feature_value,\n       d.magpsf,\n       d.sigmapsf,\n       d.fid AS feature_fid,\n       d.magpsf_corr,\n       d.sigmapsf_corr,\n       d.sigmapsf_corr_ext\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nJOIN feature f ON o.oid = f.oid\nWHERE -- Classify as SN II with probability > 0.6\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6 ) -- Object has more than 50 detections\n\n  AND o.ndet > 50 -- Difference between min and max magnitude in g-band > 2\n\n  AND\n    (SELECT MAX(magpsf) - MIN(magpsf)\n     FROM detection\n     WHERE oid = o.oid\n       AND fid = 1 ) > 2\nORDER BY o.oid;"
                },
                "in_toks": 5147,
                "out_toks": 304,
                "id": "chatcmpl-BgYgOy8lsXmrBMBv3z98xumWX0zso",
                "created": 1749482796,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "0": {
        "0": {
            "req_id": 0,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 823,
                "out_toks": 20,
                "id": "chatcmpl-BgYgT2H3eeWbGEjCFFW3YO8ENgniz",
                "created": 1749482801,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table references and syntax, including subqueries in SELECT and WHERE clauses\n\nSELECT o.oid, -- Subquery to get the probability of being a YSO with the highest ranking (1)\n\n  (SELECT p.probability\n   FROM probability p\n   WHERE p.oid = o.oid\n     AND p.class_name = 'YSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.ranking = 1) AS probability, -- Subquery to get the latest 'Multiband_period' feature value\n\n  (SELECT f.value\n   FROM feature f\n   WHERE f.oid = o.oid\n     AND f.name = 'Multiband_period'\n     AND f.version =\n       (SELECT MAX(f2.version)\n        FROM feature f2\n        WHERE f2.oid = o.oid\n          AND f2.name = 'Multiband_period' )\n   LIMIT 1) AS period, -- Subquery to get the latest 'Amplitude' feature value\n\n  (SELECT f.value\n   FROM feature f\n   WHERE f.oid = o.oid\n     AND f.name = 'Amplitude'\n     AND f.version =\n       (SELECT MAX(f2.version)\n        FROM feature f2\n        WHERE f2.oid = o.oid\n          AND f2.name = 'Amplitude' )\n   LIMIT 1) AS amplitude\nFROM OBJECT o\nWHERE -- Filter objects with YSO probability > 0.7\n\n    (SELECT p.probability\n     FROM probability p\n     WHERE p.oid = o.oid\n       AND p.class_name = 'YSO'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.ranking = 1) > 0.7\n  AND -- Filter objects with a period between 3 and 10 days\n\n    (SELECT f.value\n     FROM feature f\n     WHERE f.oid = o.oid\n       AND f.name = 'Multiband_period'\n       AND f.version =\n         (SELECT MAX(f2.version)\n          FROM feature f2\n          WHERE f2.oid = o.oid\n            AND f2.name = 'Multiband_period' )\n     LIMIT 1) BETWEEN 3 AND 10\n  AND -- Filter objects with amplitude > 0.5 mag\n\n    (SELECT f.value\n     FROM feature f\n     WHERE f.oid = o.oid\n       AND f.name = 'Amplitude'\n       AND f.version =\n         (SELECT MAX(f2.version)\n          FROM feature f2\n          WHERE f2.oid = o.oid\n            AND f2.name = 'Amplitude' )\n     LIMIT 1) > 0.5\nORDER BY -- Sort by probability descending\n\n  (SELECT p.probability\n   FROM probability p\n   WHERE p.oid = o.oid\n     AND p.class_name = 'YSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.ranking = 1) DESC;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table references and syntax, including subqueries in SELECT and WHERE clauses\n\nSELECT o.oid, -- Subquery to get the probability of being a YSO with the highest ranking (1)\n\n  (SELECT p.probability\n   FROM probability p\n   WHERE p.oid = o.oid\n     AND p.class_name = 'YSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.ranking = 1) AS probability, -- Subquery to get the latest 'Multiband_period' feature value\n\n  (SELECT f.value\n   FROM feature f\n   WHERE f.oid = o.oid\n     AND f.name = 'Multiband_period'\n     AND f.version =\n       (SELECT MAX(f2.version)\n        FROM feature f2\n        WHERE f2.oid = o.oid\n          AND f2.name = 'Multiband_period' )\n   LIMIT 1) AS period, -- Subquery to get the latest 'Amplitude' feature value\n\n  (SELECT f.value\n   FROM feature f\n   WHERE f.oid = o.oid\n     AND f.name = 'Amplitude'\n     AND f.version =\n       (SELECT MAX(f2.version)\n        FROM feature f2\n        WHERE f2.oid = o.oid\n          AND f2.name = 'Amplitude' )\n   LIMIT 1) AS amplitude\nFROM OBJECT o\nWHERE -- Filter objects with YSO probability > 0.7\n\n    (SELECT p.probability\n     FROM probability p\n     WHERE p.oid = o.oid\n       AND p.class_name = 'YSO'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.ranking = 1) > 0.7\n  AND -- Filter objects with a period between 3 and 10 days\n\n    (SELECT f.value\n     FROM feature f\n     WHERE f.oid = o.oid\n       AND f.name = 'Multiband_period'\n       AND f.version =\n         (SELECT MAX(f2.version)\n          FROM feature f2\n          WHERE f2.oid = o.oid\n            AND f2.name = 'Multiband_period' )\n     LIMIT 1) BETWEEN 3 AND 10\n  AND -- Filter objects with amplitude > 0.5 mag\n\n    (SELECT f.value\n     FROM feature f\n     WHERE f.oid = o.oid\n       AND f.name = 'Amplitude'\n       AND f.version =\n         (SELECT MAX(f2.version)\n          FROM feature f2\n          WHERE f2.oid = o.oid\n            AND f2.name = 'Amplitude' )\n     LIMIT 1) > 0.5\nORDER BY -- Sort by probability descending\n\n  (SELECT p.probability\n   FROM probability p\n   WHERE p.oid = o.oid\n     AND p.class_name = 'YSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.ranking = 1) DESC;"
                },
                "in_toks": 4222,
                "out_toks": 634,
                "id": "chatcmpl-BgZXcDe02lbSvl6rqKDQ38Pat9UtS",
                "created": 1749486096,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects likely to be YSOs with periodicity, period between 3 and 10 days, and amplitude > 0.5 mag\n\nSELECT o.oid,\n       p.probability,\n       f.value,\n       f.name,\n       f.fid,\n       f.version\nFROM OBJECT o\nWHERE -- Filter objects with YSO probability > 0.7 in the lc_classifier\n\n    (SELECT probability\n     FROM probability\n     WHERE oid = o.oid\n       AND class_name = 'YSO'\n       AND classifier_name = 'lc_classifier'\n       AND ranking = 1 ) > 0.7\n  AND -- Filter objects with a period between 3 and 10 days\n\n    (SELECT value\n     FROM feature\n     WHERE oid = o.oid\n       AND name = 'Multiband_period'\n       AND VERSION =\n         (SELECT MAX(VERSION)\n          FROM feature\n          WHERE oid = o.oid\n            AND name = 'Multiband_period' ) ) BETWEEN 3 AND 10\n  AND -- Filter objects with amplitude > 0.5 mag\n\n    (SELECT value\n     FROM feature\n     WHERE oid = o.oid\n       AND name = 'Amplitude'\n       AND VERSION =\n         (SELECT MAX(VERSION)\n          FROM feature\n          WHERE oid = o.oid\n            AND name = 'Amplitude' ) ) > 0.5\nORDER BY -- Sort by probability descending\n\n  (SELECT probability\n   FROM probability\n   WHERE oid = o.oid\n     AND class_name = 'YSO'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1 ) DESC;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects likely to be YSOs with periodicity, period between 3 and 10 days, and amplitude > 0.5 mag\n\nSELECT o.oid,\n       p.probability,\n       f.value,\n       f.name,\n       f.fid,\n       f.version\nFROM OBJECT o\nWHERE -- Filter objects with YSO probability > 0.7 in the lc_classifier\n\n    (SELECT probability\n     FROM probability\n     WHERE oid = o.oid\n       AND class_name = 'YSO'\n       AND classifier_name = 'lc_classifier'\n       AND ranking = 1 ) > 0.7\n  AND -- Filter objects with a period between 3 and 10 days\n\n    (SELECT value\n     FROM feature\n     WHERE oid = o.oid\n       AND name = 'Multiband_period'\n       AND VERSION =\n         (SELECT MAX(VERSION)\n          FROM feature\n          WHERE oid = o.oid\n            AND name = 'Multiband_period' ) ) BETWEEN 3 AND 10\n  AND -- Filter objects with amplitude > 0.5 mag\n\n    (SELECT value\n     FROM feature\n     WHERE oid = o.oid\n       AND name = 'Amplitude'\n       AND VERSION =\n         (SELECT MAX(VERSION)\n          FROM feature\n          WHERE oid = o.oid\n            AND name = 'Amplitude' ) ) > 0.5\nORDER BY -- Sort by probability descending\n\n  (SELECT probability\n   FROM probability\n   WHERE oid = o.oid\n     AND class_name = 'YSO'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1 ) DESC;"
                },
                "in_toks": 4589,
                "out_toks": 350,
                "id": "chatcmpl-BgYgU7MwYPfoUvrg7pkDOWOQWXdEc",
                "created": 1749482802,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 0,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 823,
                "out_toks": 20,
                "id": "chatcmpl-BgYgT2H3eeWbGEjCFFW3YO8ENgniz",
                "created": 1749482801,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table aliases and references, ensuring all subqueries are properly aliased and joined\n\nSELECT o.oid,\n       p.probability,\n       f.value,\n       f.name,\n       f.fid,\n       f.version\nFROM OBJECT o -- Main object table\n-- Subquery to get the probability of YSO class with ranking=1 and probability > 0.7\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'YSO'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1\n     AND probability > 0.7 ) p ON o.oid = p.oid -- Subquery to get the 'Multiband_period' feature with value between 3 and 10 days\nJOIN\n  (SELECT oid,\n          value,\n          name,\n          fid,\n          VERSION\n   FROM feature\n   WHERE name = 'Multiband_period'\n     AND value BETWEEN 3 AND 10 ) f_period ON o.oid = f_period.oid -- Subquery to get the 'PercentAmplitude' feature with value greater than 0.5 mag\nJOIN\n  (SELECT oid,\n          value,\n          name,\n          fid,\n          VERSION\n   FROM feature\n   WHERE name = 'PercentAmplitude'\n     AND value > 0.5 ) f_amp ON o.oid = f_amp.oid -- Join to ensure the object has some periodicity classification (e.g., from a periodic class)\nJOIN\n  (SELECT oid\n   FROM probability\n   WHERE class_name = 'Periodic'\n     AND classifier_name = 'lc_classifier_top'\n     AND ranking = 1 ) p_periodic ON o.oid = p_periodic.oid -- Order results by probability of YSO class in descending order\nORDER BY p.probability DESC;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table aliases and references, ensuring all subqueries are properly aliased and joined\n\nSELECT o.oid,\n       p.probability,\n       f.value,\n       f.name,\n       f.fid,\n       f.version\nFROM OBJECT o -- Main object table\n-- Subquery to get the probability of YSO class with ranking=1 and probability > 0.7\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'YSO'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1\n     AND probability > 0.7 ) p ON o.oid = p.oid -- Subquery to get the 'Multiband_period' feature with value between 3 and 10 days\nJOIN\n  (SELECT oid,\n          value,\n          name,\n          fid,\n          VERSION\n   FROM feature\n   WHERE name = 'Multiband_period'\n     AND value BETWEEN 3 AND 10 ) f_period ON o.oid = f_period.oid -- Subquery to get the 'PercentAmplitude' feature with value greater than 0.5 mag\nJOIN\n  (SELECT oid,\n          value,\n          name,\n          fid,\n          VERSION\n   FROM feature\n   WHERE name = 'PercentAmplitude'\n     AND value > 0.5 ) f_amp ON o.oid = f_amp.oid -- Join to ensure the object has some periodicity classification (e.g., from a periodic class)\nJOIN\n  (SELECT oid\n   FROM probability\n   WHERE class_name = 'Periodic'\n     AND classifier_name = 'lc_classifier_top'\n     AND ranking = 1 ) p_periodic ON o.oid = p_periodic.oid -- Order results by probability of YSO class in descending order\nORDER BY p.probability DESC;"
                },
                "in_toks": 4228,
                "out_toks": 382,
                "id": "chatcmpl-BgZXkKld6nflcCwaYUb0Edvlk9emh",
                "created": 1749486104,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects likely to be YSOs with probability > 0.7 and periodicity features\n\nSELECT o.oid,\n       p.probability,\n       f.value,\n       f.name,\n       f.fid,\n       f.version\nFROM OBJECT o -- Subquery to get the probability of YSO class with ranking=1\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'YSO'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1\n     AND probability > 0.7 ) p ON o.oid = p.oid -- Subquery to get the periodicity feature (period between 3 and 10 days)\nJOIN\n  (SELECT oid,\n          value,\n          name,\n          fid,\n          VERSION\n   FROM feature\n   WHERE name = 'Multiband_period'\n     AND value BETWEEN 3 AND 10 ) f_period ON o.oid = f_period.oid -- Subquery to get the amplitude feature greater than 0.5 mag\nJOIN\n  (SELECT oid,\n          value,\n          name,\n          fid,\n          VERSION\n   FROM feature\n   WHERE name = 'PercentAmplitude'\n     AND value > 0.5 ) f_amp ON o.oid = f_amp.oid -- Join to ensure the object has some periodic features (e.g., from the periodic class)\nJOIN\n  (SELECT oid\n   FROM probability\n   WHERE class_name = 'Periodic'\n     AND classifier_name = 'lc_classifier_top'\n     AND ranking = 1 ) p_periodic ON o.oid = p_periodic.oid -- Order by probability descending\nORDER BY p.probability DESC;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects likely to be YSOs with probability > 0.7 and periodicity features\n\nSELECT o.oid,\n       p.probability,\n       f.value,\n       f.name,\n       f.fid,\n       f.version\nFROM OBJECT o -- Subquery to get the probability of YSO class with ranking=1\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE class_name = 'YSO'\n     AND classifier_name = 'lc_classifier'\n     AND ranking = 1\n     AND probability > 0.7 ) p ON o.oid = p.oid -- Subquery to get the periodicity feature (period between 3 and 10 days)\nJOIN\n  (SELECT oid,\n          value,\n          name,\n          fid,\n          VERSION\n   FROM feature\n   WHERE name = 'Multiband_period'\n     AND value BETWEEN 3 AND 10 ) f_period ON o.oid = f_period.oid -- Subquery to get the amplitude feature greater than 0.5 mag\nJOIN\n  (SELECT oid,\n          value,\n          name,\n          fid,\n          VERSION\n   FROM feature\n   WHERE name = 'PercentAmplitude'\n     AND value > 0.5 ) f_amp ON o.oid = f_amp.oid -- Join to ensure the object has some periodic features (e.g., from the periodic class)\nJOIN\n  (SELECT oid\n   FROM probability\n   WHERE class_name = 'Periodic'\n     AND classifier_name = 'lc_classifier_top'\n     AND ranking = 1 ) p_periodic ON o.oid = p_periodic.oid -- Order by probability descending\nORDER BY p.probability DESC;"
                },
                "in_toks": 4589,
                "out_toks": 351,
                "id": "chatcmpl-BgYgZqAsIX9vDkExI06Lu8zFoOC2M",
                "created": 1749482807,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "28": {
        "0": {
            "req_id": 28,
            "experiment_id": "run_0",
            "pred_tables": [
                "information_schema.tables"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['information_schema.tables']",
                    "1": "['information_schema.tables']"
                },
                "in_toks": 758,
                "out_toks": 10,
                "id": "chatcmpl-BgYgfnnxPzsoO39pUdFymrAOEpihz",
                "created": 1749482813,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all table names available in the 'alerce' schema of the PostgreSQL database\n\nSELECT TABLE_NAME\nFROM information_schema.tables\nWHERE table_schema = 'alerce';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all table names available in the 'alerce' schema of the PostgreSQL database\n\nSELECT TABLE_NAME\nFROM information_schema.tables\nWHERE table_schema = 'alerce';"
                },
                "in_toks": 1432,
                "out_toks": 36,
                "id": "chatcmpl-BgYgf7o9uJvN5MYF9LCmD2nv5yoTR",
                "created": 1749482813,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 28,
            "experiment_id": "run_1",
            "pred_tables": [
                "information_schema.tables"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['information_schema.tables']",
                    "1": "['information_schema.tables']"
                },
                "in_toks": 758,
                "out_toks": 10,
                "id": "chatcmpl-BgYgfnnxPzsoO39pUdFymrAOEpihz",
                "created": 1749482813,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all table names available in the 'alerce' schema of the PostgreSQL database\n\nSELECT TABLE_NAME\nFROM information_schema.tables\nWHERE table_schema = 'alerce';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all table names available in the 'alerce' schema of the PostgreSQL database\n\nSELECT TABLE_NAME\nFROM information_schema.tables\nWHERE table_schema = 'alerce';"
                },
                "in_toks": 1432,
                "out_toks": 36,
                "id": "chatcmpl-BgYgg67TPxoZP621SiFajVOngSO4F",
                "created": 1749482814,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "36": {
        "0": {
            "req_id": 36,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature']",
                    "1": "['object', 'feature']"
                },
                "in_toks": 766,
                "out_toks": 12,
                "id": "chatcmpl-BgYgiMgJY4zl2EGU4DHVcrIGnOhzj",
                "created": 1749482816,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected query to include the object oid and its features, ensuring the 'oid' is explicitly included as a string label\n\nSELECT 'oid' AS name,\n       'ZTF20aaelulu' AS value\nUNION ALL\nSELECT name,\n       value\nFROM feature\nWHERE oid = 'ZTF20aaelulu';",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected query to include the object oid and its features, ensuring the 'oid' is explicitly included as a string label\n\nSELECT 'oid' AS name,\n       'ZTF20aaelulu' AS value\nUNION ALL\nSELECT name,\n       value\nFROM feature\nWHERE oid = 'ZTF20aaelulu';"
                },
                "in_toks": 3550,
                "out_toks": 67,
                "id": "chatcmpl-BgZXpjS58S3Wt9TfDz88KQeh7QB3a",
                "created": 1749486109,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve feature names and values for the object with oid 'ZTF20aaelulu', including the oid column\n\nSELECT 'oid',\n       oid\nUNION ALL\nSELECT name,\n       value\nFROM feature\nWHERE oid = 'ZTF20aaelulu';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve feature names and values for the object with oid 'ZTF20aaelulu', including the oid column\n\nSELECT 'oid',\n       oid\nUNION ALL\nSELECT name,\n       value\nFROM feature\nWHERE oid = 'ZTF20aaelulu';"
                },
                "in_toks": 4348,
                "out_toks": 57,
                "id": "chatcmpl-BgYgiDdym5AqMRpE1VORxxQ30ZVE8",
                "created": 1749482816,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 36,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature']",
                    "1": "['object', 'feature']"
                },
                "in_toks": 766,
                "out_toks": 12,
                "id": "chatcmpl-BgYgiMgJY4zl2EGU4DHVcrIGnOhzj",
                "created": 1749482816,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "SELECT oid,\n       name,\n       value\nFROM feature\nWHERE oid = 'ZTF20aaelulu';",
            "original_sql_response": {
                "responses": {
                    "0": "SELECT oid,\n       name,\n       value\nFROM feature\nWHERE oid = 'ZTF20aaelulu';"
                },
                "in_toks": 4348,
                "out_toks": 21,
                "id": "chatcmpl-BgYgjQHbWt0lgSvHybPkr3m7eRnuU",
                "created": 1749482817,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "38": {
        "0": {
            "req_id": 38,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 804,
                "out_toks": 22,
                "id": "chatcmpl-BgYgkK4Tz8yddyXflV4KvKcsBFaaW",
                "created": 1749482818,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Optimized query to retrieve top 1000 AGN and QSO candidates with specified probability thresholds,\n-- filtered by detection counts between 30 and 200, using nested subqueries to improve performance.\n WITH agn_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.6\n          AND p.ranking = 1 )\n     AND o.ndet BETWEEN 30 AND 200 -- Filter objects with detection counts between 30 and 200\n\n     AND\n       (-- Ensure the object has the highest probability for AGN class\n SELECT p2.probability\n        FROM probability p2\n        WHERE p2.oid = o.oid\n          AND p2.class_name = 'AGN'\n          AND p2.classifier_name = 'lc_classifier'\n          AND p2.ranking = 1\n        LIMIT 1) > 0.6\n   ORDER BY\n     (SELECT p2.probability\n      FROM probability p2\n      WHERE p2.oid = o.oid\n        AND p2.class_name = 'AGN'\n        AND p2.classifier_name = 'lc_classifier'\n        AND p2.ranking = 1\n      LIMIT 1) DESC\n   LIMIT 1000),\n      qso_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'QSO'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.5\n          AND p.ranking = 1 )\n     AND o.ndet BETWEEN 30 AND 200 -- Filter objects with detection counts between 30 and 200\n\n     AND\n       (-- Ensure the object has the highest probability for QSO class\n SELECT p2.probability\n        FROM probability p2\n        WHERE p2.oid = o.oid\n          AND p2.class_name = 'QSO'\n          AND p2.classifier_name = 'lc_classifier'\n          AND p2.ranking = 1\n        LIMIT 1) > 0.5\n   ORDER BY\n     (SELECT p2.probability\n      FROM probability p2\n      WHERE p2.oid = o.oid\n        AND p2.class_name = 'QSO'\n        AND p2.classifier_name = 'lc_classifier'\n        AND p2.ranking = 1\n      LIMIT 1) DESC\n   LIMIT 1000) -- Final selection: combine AGN and QSO candidates\n\nSELECT 'AGN' AS object_type,\n       o.*\nFROM agn_candidates o\nUNION ALL\nSELECT 'QSO' AS object_type,\n       o.*\nFROM qso_candidates o;",
            "sql_response": {
                "responses": {
                    "0": "-- Optimized query to retrieve top 1000 AGN and QSO candidates with specified probability thresholds,\n-- filtered by detection counts between 30 and 200, using nested subqueries to improve performance.\n WITH agn_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.6\n          AND p.ranking = 1 )\n     AND o.ndet BETWEEN 30 AND 200 -- Filter objects with detection counts between 30 and 200\n\n     AND\n       (-- Ensure the object has the highest probability for AGN class\n SELECT p2.probability\n        FROM probability p2\n        WHERE p2.oid = o.oid\n          AND p2.class_name = 'AGN'\n          AND p2.classifier_name = 'lc_classifier'\n          AND p2.ranking = 1\n        LIMIT 1) > 0.6\n   ORDER BY\n     (SELECT p2.probability\n      FROM probability p2\n      WHERE p2.oid = o.oid\n        AND p2.class_name = 'AGN'\n        AND p2.classifier_name = 'lc_classifier'\n        AND p2.ranking = 1\n      LIMIT 1) DESC\n   LIMIT 1000),\n      qso_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'QSO'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.5\n          AND p.ranking = 1 )\n     AND o.ndet BETWEEN 30 AND 200 -- Filter objects with detection counts between 30 and 200\n\n     AND\n       (-- Ensure the object has the highest probability for QSO class\n SELECT p2.probability\n        FROM probability p2\n        WHERE p2.oid = o.oid\n          AND p2.class_name = 'QSO'\n          AND p2.classifier_name = 'lc_classifier'\n          AND p2.ranking = 1\n        LIMIT 1) > 0.5\n   ORDER BY\n     (SELECT p2.probability\n      FROM probability p2\n      WHERE p2.oid = o.oid\n        AND p2.class_name = 'QSO'\n        AND p2.classifier_name = 'lc_classifier'\n        AND p2.ranking = 1\n      LIMIT 1) DESC\n   LIMIT 1000) -- Final selection: combine AGN and QSO candidates\n\nSELECT 'AGN' AS object_type,\n       o.*\nFROM agn_candidates o\nUNION ALL\nSELECT 'QSO' AS object_type,\n       o.*\nFROM qso_candidates o;"
                },
                "in_toks": 2558,
                "out_toks": 632,
                "id": "chatcmpl-BgZXqChLtG3TuckbmEIwcwRTcUh4p",
                "created": 1749486110,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve top 1000 active galactic nuclei (AGN) candidates with probability > 0.6\nWITH agn_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.6\n          AND p.ranking = 1 )\n   ORDER BY\n     (SELECT p.probability\n      FROM probability p\n      WHERE p.oid = o.oid\n        AND p.class_name = 'AGN'\n        AND p.classifier_name = 'lc_classifier'\n        AND p.ranking = 1\n      LIMIT 1) DESC\n   LIMIT 1000), -- Retrieve top 1000 quasi-stellar objects (QSO) candidates with probability > 0.5\nqso_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'QSO'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.5\n          AND p.ranking = 1 )\n   ORDER BY\n     (SELECT p.probability\n      FROM probability p\n      WHERE p.oid = o.oid\n        AND p.class_name = 'QSO'\n        AND p.classifier_name = 'lc_classifier'\n        AND p.ranking = 1\n      LIMIT 1) DESC\n   LIMIT 1000), -- Filter objects with detections between 30 and 200\nfiltered_agn AS\n  (SELECT o.*\n   FROM agn_candidates o\n   WHERE o.ndet BETWEEN 30 AND 200 ),\n                                                                    filtered_qso AS\n  (SELECT o.*\n   FROM qso_candidates o\n   WHERE o.ndet BETWEEN 30 AND 200 ) -- Combine and output the results\n\nSELECT *\nFROM filtered_agn\nUNION ALL\nSELECT *\nFROM filtered_qso;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve top 1000 active galactic nuclei (AGN) candidates with probability > 0.6\nWITH agn_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.6\n          AND p.ranking = 1 )\n   ORDER BY\n     (SELECT p.probability\n      FROM probability p\n      WHERE p.oid = o.oid\n        AND p.class_name = 'AGN'\n        AND p.classifier_name = 'lc_classifier'\n        AND p.ranking = 1\n      LIMIT 1) DESC\n   LIMIT 1000), -- Retrieve top 1000 quasi-stellar objects (QSO) candidates with probability > 0.5\nqso_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'QSO'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.5\n          AND p.ranking = 1 )\n   ORDER BY\n     (SELECT p.probability\n      FROM probability p\n      WHERE p.oid = o.oid\n        AND p.class_name = 'QSO'\n        AND p.classifier_name = 'lc_classifier'\n        AND p.ranking = 1\n      LIMIT 1) DESC\n   LIMIT 1000), -- Filter objects with detections between 30 and 200\nfiltered_agn AS\n  (SELECT o.*\n   FROM agn_candidates o\n   WHERE o.ndet BETWEEN 30 AND 200 ),\n                                                                    filtered_qso AS\n  (SELECT o.*\n   FROM qso_candidates o\n   WHERE o.ndet BETWEEN 30 AND 200 ) -- Combine and output the results\n\nSELECT *\nFROM filtered_agn\nUNION ALL\nSELECT *\nFROM filtered_qso;"
                },
                "in_toks": 2686,
                "out_toks": 452,
                "id": "chatcmpl-BgYglPM4dDXC6Fej6XINCClwTo0Ku",
                "created": 1749482819,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 38,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 804,
                "out_toks": 22,
                "id": "chatcmpl-BgYgkK4Tz8yddyXflV4KvKcsBFaaW",
                "created": 1749482818,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Optimized query to retrieve top 1000 AGN and QSO candidates with probability > 0.6 and 0.5 respectively,\n-- filtering objects with between 30 and 200 detections, and avoiding timeout issues by limiting the number of objects early.\nWITH agn_candidates AS\n  (-- Select objects with AGN classification probability > 0.6, ranked and limited to top 1000\n SELECT o.oid\n   FROM OBJECT o\n   JOIN probability p ON p.oid = o.oid\n   WHERE p.class_name = 'AGN'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.6\n     AND p.ranking = 1 -- ensure highest confidence classification\n\n   ORDER BY p.probability DESC\n   LIMIT 1000),\n     agn_filtered AS\n  (-- Filter AGN candidates with detection count between 30 and 200\n SELECT o.*\n   FROM OBJECT o\n   WHERE o.oid IN\n       (SELECT oid\n        FROM agn_candidates)\n     AND o.ndet BETWEEN 30 AND 200 ),\n     qso_candidates AS\n  (-- Select objects with QSO classification probability > 0.5, ranked and limited to top 1000\n SELECT o.oid\n   FROM OBJECT o\n   JOIN probability p ON p.oid = o.oid\n   WHERE p.class_name = 'QSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.5\n     AND p.ranking = 1 -- ensure highest confidence classification\n\n   ORDER BY p.probability DESC\n   LIMIT 1000),\n     qso_filtered AS\n  (-- Filter QSO candidates with detection count between 30 and 200\n SELECT o.*\n   FROM OBJECT o\n   WHERE o.oid IN\n       (SELECT oid\n        FROM qso_candidates)\n     AND o.ndet BETWEEN 30 AND 200 ) -- Combine and return the filtered AGN and QSO objects\n\nSELECT *\nFROM agn_filtered\nUNION ALL\nSELECT *\nFROM qso_filtered;",
            "sql_response": {
                "responses": {
                    "0": "-- Optimized query to retrieve top 1000 AGN and QSO candidates with probability > 0.6 and 0.5 respectively,\n-- filtering objects with between 30 and 200 detections, and avoiding timeout issues by limiting the number of objects early.\nWITH agn_candidates AS\n  (-- Select objects with AGN classification probability > 0.6, ranked and limited to top 1000\n SELECT o.oid\n   FROM OBJECT o\n   JOIN probability p ON p.oid = o.oid\n   WHERE p.class_name = 'AGN'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.6\n     AND p.ranking = 1 -- ensure highest confidence classification\n\n   ORDER BY p.probability DESC\n   LIMIT 1000),\n     agn_filtered AS\n  (-- Filter AGN candidates with detection count between 30 and 200\n SELECT o.*\n   FROM OBJECT o\n   WHERE o.oid IN\n       (SELECT oid\n        FROM agn_candidates)\n     AND o.ndet BETWEEN 30 AND 200 ),\n     qso_candidates AS\n  (-- Select objects with QSO classification probability > 0.5, ranked and limited to top 1000\n SELECT o.oid\n   FROM OBJECT o\n   JOIN probability p ON p.oid = o.oid\n   WHERE p.class_name = 'QSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.5\n     AND p.ranking = 1 -- ensure highest confidence classification\n\n   ORDER BY p.probability DESC\n   LIMIT 1000),\n     qso_filtered AS\n  (-- Filter QSO candidates with detection count between 30 and 200\n SELECT o.*\n   FROM OBJECT o\n   WHERE o.oid IN\n       (SELECT oid\n        FROM qso_candidates)\n     AND o.ndet BETWEEN 30 AND 200 ) -- Combine and return the filtered AGN and QSO objects\n\nSELECT *\nFROM agn_filtered\nUNION ALL\nSELECT *\nFROM qso_filtered;"
                },
                "in_toks": 2286,
                "out_toks": 431,
                "id": "chatcmpl-BgZXyOQHZ70v86MzbNOxjDl60P8wP",
                "created": 1749486118,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve top 1000 active galactic nuclei (AGN) candidates with probability > 0.6\nWITH agn_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.6\n        ORDER BY p.probability DESC\n        LIMIT 1000) ),\n     agn_filtered AS\n  (SELECT o.*\n   FROM agn_candidates o\n   WHERE o.ndet BETWEEN 30 AND 200 ), -- Retrieve top 1000 quasi-stellar objects (QSO) candidates with probability > 0.5\nqso_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'QSO'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.5\n        ORDER BY p.probability DESC\n        LIMIT 1000) ),\n                                                                                                                        qso_filtered AS\n  (SELECT o.*\n   FROM qso_candidates o\n   WHERE o.ndet BETWEEN 30 AND 200 ) -- Combine and return the results\n\nSELECT *\nFROM agn_filtered\nUNION ALL\nSELECT *\nFROM qso_filtered;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve top 1000 active galactic nuclei (AGN) candidates with probability > 0.6\nWITH agn_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.6\n        ORDER BY p.probability DESC\n        LIMIT 1000) ),\n     agn_filtered AS\n  (SELECT o.*\n   FROM agn_candidates o\n   WHERE o.ndet BETWEEN 30 AND 200 ), -- Retrieve top 1000 quasi-stellar objects (QSO) candidates with probability > 0.5\nqso_candidates AS\n  (SELECT o.*\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'QSO'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.5\n        ORDER BY p.probability DESC\n        LIMIT 1000) ),\n                                                                                                                        qso_filtered AS\n  (SELECT o.*\n   FROM qso_candidates o\n   WHERE o.ndet BETWEEN 30 AND 200 ) -- Combine and return the results\n\nSELECT *\nFROM agn_filtered\nUNION ALL\nSELECT *\nFROM qso_filtered;"
                },
                "in_toks": 2686,
                "out_toks": 309,
                "id": "chatcmpl-BgYgrQA2agPFBFqDZInjLVw4oQGtI",
                "created": 1749482825,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "24": {
        "0": {
            "req_id": 24,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 811,
                "out_toks": 22,
                "id": "chatcmpl-BgYguhOXq7D04As8jX6lIietMzztM",
                "created": 1749482828,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects within 10 degrees of the specified positions and with first detection in the first 7 days of February 2023\n\nSELECT *\nFROM OBJECT\nWHERE (q3c_radial_query(meanra, meandec, 160.18301441363647, 33.0164673528409, 10)\n       OR q3c_radial_query(meanra, meandec, 174.21524897555543, 44.83789535222221, 10))\n  AND firstmjd BETWEEN 59976.0 AND 59983.0;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects within 10 degrees of the specified positions and with first detection in the first 7 days of February 2023\n\nSELECT *\nFROM OBJECT\nWHERE (q3c_radial_query(meanra, meandec, 160.18301441363647, 33.0164673528409, 10)\n       OR q3c_radial_query(meanra, meandec, 174.21524897555543, 44.83789535222221, 10))\n  AND firstmjd BETWEEN 59976.0 AND 59983.0;"
                },
                "in_toks": 2722,
                "out_toks": 129,
                "id": "chatcmpl-BgYgvQIJd9SgytqpoZPsjBVzdUYf0",
                "created": 1749482829,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 24,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 811,
                "out_toks": 22,
                "id": "chatcmpl-BgYguhOXq7D04As8jX6lIietMzztM",
                "created": 1749482828,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects within 10 degrees of the specified positions and with first detection in the first 7 days of February 2023\n\nSELECT *\nFROM OBJECT\nWHERE (q3c_radial_query(meanra, meandec, 160.18301441363647, 33.0164673528409, 10)\n       OR q3c_radial_query(meanra, meandec, 174.21524897555543, 44.83789535222221, 10))\n  AND firstmjd BETWEEN 59976.0 AND 59982.0;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects within 10 degrees of the specified positions and with first detection in the first 7 days of February 2023\n\nSELECT *\nFROM OBJECT\nWHERE (q3c_radial_query(meanra, meandec, 160.18301441363647, 33.0164673528409, 10)\n       OR q3c_radial_query(meanra, meandec, 174.21524897555543, 44.83789535222221, 10))\n  AND firstmjd BETWEEN 59976.0 AND 59982.0;"
                },
                "in_toks": 2722,
                "out_toks": 129,
                "id": "chatcmpl-BgYgxEWwiZ2Gta5gv9lbSJjy73TyU",
                "created": 1749482831,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "31": {
        "0": {
            "req_id": 31,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "feature",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature', 'probability']",
                    "1": "['object', 'feature', 'probability']"
                },
                "in_toks": 783,
                "out_toks": 20,
                "id": "chatcmpl-BgYgz8XXwk1MAi6PiouzKSpY65tEn",
                "created": 1749482833,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve galactic coordinates, feature columns, class name, and object identifiers\n\nSELECT o.meanra,\n       o.meandec,\n       f.name,\n       f.value,\n       p.class_name,\n       o.oid\nFROM OBJECT o -- Join with features to get all feature columns for each object\nJOIN feature f ON o.oid = f.oid -- Subquery to get the most probable class (ranking=1) from the light curve classifier\nJOIN\n  (SELECT p1.oid,\n          p1.class_name\n   FROM probability p1\n   WHERE p1.classifier_name = 'lc_classifier'\n     AND p1.ranking = 1 ) p ON o.oid = p.oid -- Filter objects with first detection date between Feb 1 and Feb 2, 2023\n\nWHERE o.firstmjd BETWEEN 59976.0 AND 59978.0;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve galactic coordinates, feature columns, class name, and object identifiers\n\nSELECT o.meanra,\n       o.meandec,\n       f.name,\n       f.value,\n       p.class_name,\n       o.oid\nFROM OBJECT o -- Join with features to get all feature columns for each object\nJOIN feature f ON o.oid = f.oid -- Subquery to get the most probable class (ranking=1) from the light curve classifier\nJOIN\n  (SELECT p1.oid,\n          p1.class_name\n   FROM probability p1\n   WHERE p1.classifier_name = 'lc_classifier'\n     AND p1.ranking = 1 ) p ON o.oid = p.oid -- Filter objects with first detection date between Feb 1 and Feb 2, 2023\n\nWHERE o.firstmjd BETWEEN 59976.0 AND 59978.0;"
                },
                "in_toks": 4604,
                "out_toks": 211,
                "id": "chatcmpl-BgYgz8RVb7VsTV961aHETLVoKF5WV",
                "created": 1749482833,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 31,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "feature",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature', 'probability']",
                    "1": "['object', 'feature', 'probability']"
                },
                "in_toks": 783,
                "out_toks": 20,
                "id": "chatcmpl-BgYgz8XXwk1MAi6PiouzKSpY65tEn",
                "created": 1749482833,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve galactic coordinates, feature columns, class name, and object identifiers\n\nSELECT o.meanra,\n       o.meandec,\n       f.name,\n       f.value,\n       p.class_name,\n       o.oid\nFROM OBJECT o -- Join with features to get all feature columns for each object\nJOIN feature f ON o.oid = f.oid -- Subquery to get the most probable class (ranking=1) from the light curve classifier\nJOIN\n  (SELECT p1.oid,\n          p1.class_name\n   FROM probability p1\n   WHERE p1.classifier_name = 'lc_classifier'\n     AND p1.ranking = 1 ) p ON o.oid = p.oid -- Filter objects with first detection date between Feb 1 and Feb 2, 2023\n\nWHERE o.firstmjd BETWEEN 59976.0 AND 59978.0;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve galactic coordinates, feature columns, class name, and object identifiers\n\nSELECT o.meanra,\n       o.meandec,\n       f.name,\n       f.value,\n       p.class_name,\n       o.oid\nFROM OBJECT o -- Join with features to get all feature columns for each object\nJOIN feature f ON o.oid = f.oid -- Subquery to get the most probable class (ranking=1) from the light curve classifier\nJOIN\n  (SELECT p1.oid,\n          p1.class_name\n   FROM probability p1\n   WHERE p1.classifier_name = 'lc_classifier'\n     AND p1.ranking = 1 ) p ON o.oid = p.oid -- Filter objects with first detection date between Feb 1 and Feb 2, 2023\n\nWHERE o.firstmjd BETWEEN 59976.0 AND 59978.0;"
                },
                "in_toks": 4604,
                "out_toks": 211,
                "id": "chatcmpl-BgYh20YqNXLLiOpfLuCp0yqkTzmoR",
                "created": 1749482836,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "33": {
        "0": {
            "req_id": 33,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'detection']",
                    "1": "['object', 'detection']"
                },
                "in_toks": 854,
                "out_toks": 14,
                "id": "chatcmpl-BgYh5PT7WT1fwPVqjFx5LrwZ26ZkK",
                "created": 1749482839,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve magnitudes, oids, candidate identifiers, exposure dates, and filter ids for specified oids\n\nSELECT d.oid,\n       d.candid,\n       d.mjd,\n       d.fid,\n       d.magpsf,\n       d.sigmapsf\nFROM detection d\nWHERE d.oid IN ('ZTF21aaqosfj',\n                'ZTF21aaqoski',\n                'ZTF21aaqoskz',\n                'ZTF21aaqosly',\n                'ZTF21aaqosmj',\n                'ZTF21aaqosmi',\n                'ZTF21aaqosmk',\n                'ZTF21aaqosmm',\n                'ZTF21aaqosmp',\n                'ZTF21aaqosmq');",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve magnitudes, oids, candidate identifiers, exposure dates, and filter ids for specified oids\n\nSELECT d.oid,\n       d.candid,\n       d.mjd,\n       d.fid,\n       d.magpsf,\n       d.sigmapsf\nFROM detection d\nWHERE d.oid IN ('ZTF21aaqosfj',\n                'ZTF21aaqoski',\n                'ZTF21aaqoskz',\n                'ZTF21aaqosly',\n                'ZTF21aaqosmj',\n                'ZTF21aaqosmi',\n                'ZTF21aaqosmk',\n                'ZTF21aaqosmm',\n                'ZTF21aaqosmp',\n                'ZTF21aaqosmq');"
                },
                "in_toks": 2552,
                "out_toks": 153,
                "id": "chatcmpl-BgYh6LZkYOMePComUZBuxkDKxNxPh",
                "created": 1749482840,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 33,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'detection']",
                    "1": "['object', 'detection']"
                },
                "in_toks": 854,
                "out_toks": 14,
                "id": "chatcmpl-BgYh5PT7WT1fwPVqjFx5LrwZ26ZkK",
                "created": 1749482839,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve magnitudes, oids, candidate identifiers, detection dates, and filter ids for specified oids\n\nSELECT d.oid,\n       d.candid,\n       d.mjd,\n       d.fid,\n       d.magpsf,\n       d.sigmapsf\nFROM detection d\nWHERE d.oid IN ('ZTF21aaqosfj',\n                'ZTF21aaqoski',\n                'ZTF21aaqoskz',\n                'ZTF21aaqosly',\n                'ZTF21aaqosmj',\n                'ZTF21aaqosmi',\n                'ZTF21aaqosmk',\n                'ZTF21aaqosmm',\n                'ZTF21aaqosmp',\n                'ZTF21aaqosmq');",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve magnitudes, oids, candidate identifiers, detection dates, and filter ids for specified oids\n\nSELECT d.oid,\n       d.candid,\n       d.mjd,\n       d.fid,\n       d.magpsf,\n       d.sigmapsf\nFROM detection d\nWHERE d.oid IN ('ZTF21aaqosfj',\n                'ZTF21aaqoski',\n                'ZTF21aaqoskz',\n                'ZTF21aaqosly',\n                'ZTF21aaqosmj',\n                'ZTF21aaqosmi',\n                'ZTF21aaqosmk',\n                'ZTF21aaqosmm',\n                'ZTF21aaqosmp',\n                'ZTF21aaqosmq');"
                },
                "in_toks": 2552,
                "out_toks": 153,
                "id": "chatcmpl-BgYh8EAuJ36g6UvvSgMkRFMW7GB2Q",
                "created": 1749482842,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "6": {
        "0": {
            "req_id": 6,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'magstat']",
                    "1": "['object', 'probability', 'detection', 'magstat']"
                },
                "in_toks": 837,
                "out_toks": 30,
                "id": "chatcmpl-BgYhAtAeNkOdhweL97hcoiLZemwAa",
                "created": 1749482844,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object and detection details for objects classified as SN II in 2019-2022\n\nSELECT o.oid,\n       d.candid AS candidate_id,\n       d.mjd,\n       d.magpsf AS magnitude,\n       d.sigmapsf AS magnitude_error,\n       d.fid AS band_id, -- Rename fid to f_id\n d.fid AS f_id\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nWHERE -- Filter by classification as SN II with probability > 0.6\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6 ) -- Filter by detection date within 2019-2022\n\n  AND d.mjd BETWEEN 58484.0 AND 59944.0 -- Filter for objects with at least 100 days of observations in r-band (fid=2)\n\n  AND o.oid IN\n    (SELECT oid\n     FROM magstat\n     WHERE fid = 2\n       AND (lastmjd - firstmjd) >= 100 ) -- Filter for objects with more than 30 detections\n\n  AND o.ndet > 30 -- Filter for initial rise rate > 0.5 mag/day in g (fid=1) or r (fid=2) band\n\n  AND (-- For g-band\n EXISTS\n         (SELECT 1\n          FROM magstat ms\n          WHERE ms.oid = o.oid\n            AND ms.fid = 1\n            AND ms.dmdt_first > 0.5 )\n       OR -- For r-band\n EXISTS\n         (SELECT 1\n          FROM magstat ms\n          WHERE ms.oid = o.oid\n            AND ms.fid = 2\n            AND ms.dmdt_first > 0.5 ));",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object and detection details for objects classified as SN II in 2019-2022\n\nSELECT o.oid,\n       d.candid AS candidate_id,\n       d.mjd,\n       d.magpsf AS magnitude,\n       d.sigmapsf AS magnitude_error,\n       d.fid AS band_id, -- Rename fid to f_id\n d.fid AS f_id\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nWHERE -- Filter by classification as SN II with probability > 0.6\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name = 'lc_classifier'\n       AND p.probability > 0.6 ) -- Filter by detection date within 2019-2022\n\n  AND d.mjd BETWEEN 58484.0 AND 59944.0 -- Filter for objects with at least 100 days of observations in r-band (fid=2)\n\n  AND o.oid IN\n    (SELECT oid\n     FROM magstat\n     WHERE fid = 2\n       AND (lastmjd - firstmjd) >= 100 ) -- Filter for objects with more than 30 detections\n\n  AND o.ndet > 30 -- Filter for initial rise rate > 0.5 mag/day in g (fid=1) or r (fid=2) band\n\n  AND (-- For g-band\n EXISTS\n         (SELECT 1\n          FROM magstat ms\n          WHERE ms.oid = o.oid\n            AND ms.fid = 1\n            AND ms.dmdt_first > 0.5 )\n       OR -- For r-band\n EXISTS\n         (SELECT 1\n          FROM magstat ms\n          WHERE ms.oid = o.oid\n            AND ms.fid = 2\n            AND ms.dmdt_first > 0.5 ));"
                },
                "in_toks": 3474,
                "out_toks": 428,
                "id": "chatcmpl-BgYhBf389arxiiTEfiP1BC1fRYMJZ",
                "created": 1749482845,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 6,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'magstat']",
                    "1": "['object', 'probability', 'detection', 'magstat']"
                },
                "in_toks": 837,
                "out_toks": 30,
                "id": "chatcmpl-BgYhAtAeNkOdhweL97hcoiLZemwAa",
                "created": 1749482844,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Optimized and corrected SQL query with nested subqueries to improve performance and ensure proper filtering\n\nSELECT o.oid,\n       d.candid AS candidate_id,\n       d.magpsf AS magnitude,\n       d.sigmapsf AS magnitude_error,\n       d.fid AS band_id,\n       d.mjd AS TIME\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nWHERE -- Filter objects classified as SN II with probability > 0.6 and top ranking in specified classifiers\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name IN ('lc_classifier',\n                                 'lc_classifier_top',\n                                 'lc_classifier_transient',\n                                 'lc_classifier_stochastic',\n                                 'lc_classifier_periodic')\n       AND p.probability > 0.6\n       AND p.ranking = 1 ) -- Filter detections within the date range 2019-2022 (MJDs 58484 to 59944)\n\n  AND d.mjd BETWEEN 58484.0 AND 59944.0 -- Filter detections in g and r bands only\n\n  AND d.fid IN (1,\n                2) -- Ensure the object has a significant initial rise rate (> 0.5 mag/day) in g or r band\n\n  AND (-- Check for g-band (fid=1)\n EXISTS\n         (SELECT 1\n          FROM magstat m\n          WHERE m.oid = o.oid\n            AND m.fid = 1\n            AND m.dmdt_first > 0.5 )\n       OR -- Check for r-band (fid=2)\n EXISTS\n         (SELECT 1\n          FROM magstat m\n          WHERE m.oid = o.oid\n            AND m.fid = 2\n            AND m.dmdt_first > 0.5 ) )-- Confirm at least 100 days of observations in r-band\n\n  AND (-- Calculate the time span of r-band detections\n\n         (SELECT MAX(mjd) - MIN(mjd)\n          FROM detection d2\n          WHERE d2.oid = o.oid\n            AND d2.fid = 2 ) > 100 )-- Confirm total number of detections for the object exceeds 30\n\n  AND\n    (SELECT COUNT(*)\n     FROM detection d3\n     WHERE d3.oid = o.oid ) > 30;",
            "sql_response": {
                "responses": {
                    "0": "-- Optimized and corrected SQL query with nested subqueries to improve performance and ensure proper filtering\n\nSELECT o.oid,\n       d.candid AS candidate_id,\n       d.magpsf AS magnitude,\n       d.sigmapsf AS magnitude_error,\n       d.fid AS band_id,\n       d.mjd AS TIME\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nWHERE -- Filter objects classified as SN II with probability > 0.6 and top ranking in specified classifiers\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name IN ('lc_classifier',\n                                 'lc_classifier_top',\n                                 'lc_classifier_transient',\n                                 'lc_classifier_stochastic',\n                                 'lc_classifier_periodic')\n       AND p.probability > 0.6\n       AND p.ranking = 1 ) -- Filter detections within the date range 2019-2022 (MJDs 58484 to 59944)\n\n  AND d.mjd BETWEEN 58484.0 AND 59944.0 -- Filter detections in g and r bands only\n\n  AND d.fid IN (1,\n                2) -- Ensure the object has a significant initial rise rate (> 0.5 mag/day) in g or r band\n\n  AND (-- Check for g-band (fid=1)\n EXISTS\n         (SELECT 1\n          FROM magstat m\n          WHERE m.oid = o.oid\n            AND m.fid = 1\n            AND m.dmdt_first > 0.5 )\n       OR -- Check for r-band (fid=2)\n EXISTS\n         (SELECT 1\n          FROM magstat m\n          WHERE m.oid = o.oid\n            AND m.fid = 2\n            AND m.dmdt_first > 0.5 ) )-- Confirm at least 100 days of observations in r-band\n\n  AND (-- Calculate the time span of r-band detections\n\n         (SELECT MAX(mjd) - MIN(mjd)\n          FROM detection d2\n          WHERE d2.oid = o.oid\n            AND d2.fid = 2 ) > 100 )-- Confirm total number of detections for the object exceeds 30\n\n  AND\n    (SELECT COUNT(*)\n     FROM detection d3\n     WHERE d3.oid = o.oid ) > 30;"
                },
                "in_toks": 3211,
                "out_toks": 511,
                "id": "chatcmpl-BgZY4L8NwCmEofCbBfB03v0lmPczb",
                "created": 1749486124,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve object and detection details for objects classified as SN II in 2019-2022\n\nSELECT o.oid,\n       d.candid AS candidate_id,\n       d.magpsf AS magnitude,\n       d.sigmapsf AS magnitude_error,\n       d.fid AS band_id,\n       d.mjd AS TIME\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nWHERE -- Filter by classification probability > 0.6 for SN II in the specified classifiers\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name IN ('lc_classifier',\n                                 'lc_classifier_top',\n                                 'lc_classifier_transient',\n                                 'lc_classifier_stochastic',\n                                 'lc_classifier_periodic')\n       AND p.probability > 0.6\n       AND p.ranking = 1 ) -- Filter by detection date within 2019-2022\n\n  AND d.mjd BETWEEN 58484.0 AND 59944.0 -- Filter for detections in g and r bands (fid=1 or 2)\n\n  AND d.fid IN (1,\n                2) -- Initial rise rate > 0.5 mag/day in g and r bands\n\n  AND (-- For g-band (fid=1)\n EXISTS\n         (SELECT 1\n          FROM magstat m\n          WHERE m.oid = o.oid\n            AND m.fid = 1\n            AND m.dmdt_first > 0.5 )\n       OR -- For r-band (fid=2)\n EXISTS\n         (SELECT 1\n          FROM magstat m\n          WHERE m.oid = o.oid\n            AND m.fid = 2\n            AND m.dmdt_first > 0.5 ) )-- At least 100 days of observations in r-band\n\n  AND\n    (SELECT MAX(mjd) - MIN(mjd)\n     FROM detection d2\n     WHERE d2.oid = o.oid\n       AND d2.fid = 2 ) > 100 -- Number of detections greater than 30\n\n  AND\n    (SELECT COUNT(*)\n     FROM detection d3\n     WHERE d3.oid = o.oid ) > 30",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve object and detection details for objects classified as SN II in 2019-2022\n\nSELECT o.oid,\n       d.candid AS candidate_id,\n       d.magpsf AS magnitude,\n       d.sigmapsf AS magnitude_error,\n       d.fid AS band_id,\n       d.mjd AS TIME\nFROM OBJECT o\nJOIN detection d ON o.oid = d.oid\nWHERE -- Filter by classification probability > 0.6 for SN II in the specified classifiers\n o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'SNII'\n       AND p.classifier_name IN ('lc_classifier',\n                                 'lc_classifier_top',\n                                 'lc_classifier_transient',\n                                 'lc_classifier_stochastic',\n                                 'lc_classifier_periodic')\n       AND p.probability > 0.6\n       AND p.ranking = 1 ) -- Filter by detection date within 2019-2022\n\n  AND d.mjd BETWEEN 58484.0 AND 59944.0 -- Filter for detections in g and r bands (fid=1 or 2)\n\n  AND d.fid IN (1,\n                2) -- Initial rise rate > 0.5 mag/day in g and r bands\n\n  AND (-- For g-band (fid=1)\n EXISTS\n         (SELECT 1\n          FROM magstat m\n          WHERE m.oid = o.oid\n            AND m.fid = 1\n            AND m.dmdt_first > 0.5 )\n       OR -- For r-band (fid=2)\n EXISTS\n         (SELECT 1\n          FROM magstat m\n          WHERE m.oid = o.oid\n            AND m.fid = 2\n            AND m.dmdt_first > 0.5 ) )-- At least 100 days of observations in r-band\n\n  AND\n    (SELECT MAX(mjd) - MIN(mjd)\n     FROM detection d2\n     WHERE d2.oid = o.oid\n       AND d2.fid = 2 ) > 100 -- Number of detections greater than 30\n\n  AND\n    (SELECT COUNT(*)\n     FROM detection d3\n     WHERE d3.oid = o.oid ) > 30"
                },
                "in_toks": 3474,
                "out_toks": 487,
                "id": "chatcmpl-BgYhH3B1q1I4VB46rgPXrjvVD4jvw",
                "created": 1749482851,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "21": {
        "0": {
            "req_id": 21,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 812,
                "out_toks": 20,
                "id": "chatcmpl-BgYhNQm9083zlyWXkMCYUNQz9CEYo",
                "created": 1749482857,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects classified as AGN, QSO, or Blazar by the lc_classifier with specified filters\n\nSELECT *\nFROM OBJECT\nWHERE -- Filter by number of detections\n ndet >= 30 -- Filter by time span between first and last detection\n\n  AND (lastmjd - firstmjd) >= 200 -- Filter by probability of the class being higher than 0.5\n\n  AND oid IN\n    (SELECT oid\n     FROM probability\n     WHERE class_name IN ('AGN',\n                          'QSO',\n                          'Blazar')\n       AND classifier_name = 'lc_classifier'\n       AND probability > 0.5\n       AND ranking = 1 );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects classified as AGN, QSO, or Blazar by the lc_classifier with specified filters\n\nSELECT *\nFROM OBJECT\nWHERE -- Filter by number of detections\n ndet >= 30 -- Filter by time span between first and last detection\n\n  AND (lastmjd - firstmjd) >= 200 -- Filter by probability of the class being higher than 0.5\n\n  AND oid IN\n    (SELECT oid\n     FROM probability\n     WHERE class_name IN ('AGN',\n                          'QSO',\n                          'Blazar')\n       AND classifier_name = 'lc_classifier'\n       AND probability > 0.5\n       AND ranking = 1 );"
                },
                "in_toks": 4579,
                "out_toks": 148,
                "id": "chatcmpl-BgYhNpQ8urDXeDxv3jQ1PCunTlEQz",
                "created": 1749482857,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 21,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 812,
                "out_toks": 20,
                "id": "chatcmpl-BgYhNQm9083zlyWXkMCYUNQz9CEYo",
                "created": 1749482857,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select objects classified as AGN, QSO, or Blazar by the lc_classifier with probability > 0.5\n\nSELECT o.*\nFROM OBJECT o\nWHERE -- Filter by minimum number of detections\n o.ndet >= 30 -- Filter by minimum time span between first and last detection\n\n  AND o.lastmjd - o.firstmjd >= 200 -- Filter by probability of class being AGN, QSO, or Blazar with probability > 0.5\n\n  AND (-- Subquery to check probabilities for AGN\n EXISTS\n         (SELECT 1\n          FROM\n            (SELECT *\n             FROM probability\n             WHERE oid = o.oid\n               AND class_name IN ('AGN',\n                                  'QSO',\n                                  'Blazar')\n               AND classifier_name = 'lc_classifier'\n               AND probability > 0.5\n             ORDER BY ranking ASC\n             LIMIT 1) p));",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select objects classified as AGN, QSO, or Blazar by the lc_classifier with probability > 0.5\n\nSELECT o.*\nFROM OBJECT o\nWHERE -- Filter by minimum number of detections\n o.ndet >= 30 -- Filter by minimum time span between first and last detection\n\n  AND o.lastmjd - o.firstmjd >= 200 -- Filter by probability of class being AGN, QSO, or Blazar with probability > 0.5\n\n  AND (-- Subquery to check probabilities for AGN\n EXISTS\n         (SELECT 1\n          FROM\n            (SELECT *\n             FROM probability\n             WHERE oid = o.oid\n               AND class_name IN ('AGN',\n                                  'QSO',\n                                  'Blazar')\n               AND classifier_name = 'lc_classifier'\n               AND probability > 0.5\n             ORDER BY ranking ASC\n             LIMIT 1) p));"
                },
                "in_toks": 4579,
                "out_toks": 200,
                "id": "chatcmpl-BgYhPkjPEORQIQAVZcIqqZG2rC0By",
                "created": 1749482859,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "26": {
        "0": {
            "req_id": 26,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 780,
                "out_toks": 22,
                "id": "chatcmpl-BgYhSegMAZxtJLe6YXLrRfh7R7MMw",
                "created": 1749482862,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects that appeared between August 25, 2022 (mjd 59816.0) and September 10, 2022 (mjd 59832.0),\n-- and are classified as supernovae by the stamp classifier with probability > 0.5,\n-- or have more than one detection.\n\nSELECT *\nFROM OBJECT\nWHERE (-- Objects with detections within the specified date range\n firstmjd <= 59832.0\n       AND lastmjd >= 59816.0)\n  AND (-- Classification as supernova by stamp classifier with probability > 0.5\n oid IN\n         (SELECT p.oid\n          FROM probability p\n          WHERE p.class_name = 'SN'\n            AND p.classifier_name = 'stamp_classifier'\n            AND p.probability > 0.5\n            AND p.ranking = 1 )\n       OR -- Objects with more than one detection\n ndet > 1);",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects that appeared between August 25, 2022 (mjd 59816.0) and September 10, 2022 (mjd 59832.0),\n-- and are classified as supernovae by the stamp classifier with probability > 0.5,\n-- or have more than one detection.\n\nSELECT *\nFROM OBJECT\nWHERE (-- Objects with detections within the specified date range\n firstmjd <= 59832.0\n       AND lastmjd >= 59816.0)\n  AND (-- Classification as supernova by stamp classifier with probability > 0.5\n oid IN\n         (SELECT p.oid\n          FROM probability p\n          WHERE p.class_name = 'SN'\n            AND p.classifier_name = 'stamp_classifier'\n            AND p.probability > 0.5\n            AND p.ranking = 1 )\n       OR -- Objects with more than one detection\n ndet > 1);"
                },
                "in_toks": 2696,
                "out_toks": 207,
                "id": "chatcmpl-BgYhSyFmGzWAWkmU8fVrxfiXiplUf",
                "created": 1749482862,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 26,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection']",
                    "1": "['object', 'probability', 'detection']"
                },
                "in_toks": 780,
                "out_toks": 22,
                "id": "chatcmpl-BgYhSegMAZxtJLe6YXLrRfh7R7MMw",
                "created": 1749482862,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select objects that appeared between August 25 and September 10, 2022, and meet classification or detection criteria\n\nSELECT *\nFROM OBJECT\nWHERE -- Filter objects with first detection between the specified dates\n firstmjd BETWEEN 59816.0 AND 59832.0\n  AND (-- Check if the object is classified as 'SN' by stamp_classifier with probability > 0.5\n EXISTS\n         (SELECT 1\n          FROM probability\n          WHERE probability.oid = object.oid\n            AND probability.class_name = 'SN'\n            AND probability.classifier_name = 'stamp_classifier'\n            AND probability.probability > 0.5 )\n       OR -- Or if the object has more than one detection\n ndet > 1);",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select objects that appeared between August 25 and September 10, 2022, and meet classification or detection criteria\n\nSELECT *\nFROM OBJECT\nWHERE -- Filter objects with first detection between the specified dates\n firstmjd BETWEEN 59816.0 AND 59832.0\n  AND (-- Check if the object is classified as 'SN' by stamp_classifier with probability > 0.5\n EXISTS\n         (SELECT 1\n          FROM probability\n          WHERE probability.oid = object.oid\n            AND probability.class_name = 'SN'\n            AND probability.classifier_name = 'stamp_classifier'\n            AND probability.probability > 0.5 )\n       OR -- Or if the object has more than one detection\n ndet > 1);"
                },
                "in_toks": 2696,
                "out_toks": 169,
                "id": "chatcmpl-BgYhVmgoyelbX2dCXhOtxt9TChy7F",
                "created": 1749482865,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "29": {
        "0": {
            "req_id": 29,
            "experiment_id": "run_0",
            "pred_tables": [
                "ps1_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['ps1_ztf']",
                    "1": "['ps1_ztf']"
                },
                "in_toks": 840,
                "out_toks": 14,
                "id": "chatcmpl-BgYhXSVfgsk2I3TMNaPbJY6NwQZKO",
                "created": 1749482867,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve oids and Pan-STARRS1 photometry for specified oids\n\nSELECT oid,\n       sgmag1,\n       srmag1,\n       simag1,\n       szmag1,\n       sgscore1\nFROM ps1_ztf\nWHERE oid IN ('ZTF20aawwmqv',\n              'ZTF21aasqvza',\n              'ZTF19adcftfw',\n              'ZTF19aaxqrku',\n              'ZTF19adceucq');",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve oids and Pan-STARRS1 photometry for specified oids\n\nSELECT oid,\n       sgmag1,\n       srmag1,\n       simag1,\n       szmag1,\n       sgscore1\nFROM ps1_ztf\nWHERE oid IN ('ZTF20aawwmqv',\n              'ZTF21aasqvza',\n              'ZTF19adcftfw',\n              'ZTF19aaxqrku',\n              'ZTF19adceucq');"
                },
                "in_toks": 2263,
                "out_toks": 106,
                "id": "chatcmpl-BgYhYJ4XQ3E93XEDgOs494816x0gQ",
                "created": 1749482868,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 29,
            "experiment_id": "run_1",
            "pred_tables": [
                "ps1_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['ps1_ztf']",
                    "1": "['ps1_ztf']"
                },
                "in_toks": 840,
                "out_toks": 14,
                "id": "chatcmpl-BgYhXSVfgsk2I3TMNaPbJY6NwQZKO",
                "created": 1749482867,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve specified columns from ps1_ztf for given list of oids\n\nSELECT oid,\n       sgmag1,\n       srmag1,\n       simag1,\n       szmag1,\n       sgscore1\nFROM ps1_ztf\nWHERE oid IN ('ZTF20aawwmqv',\n              'ZTF21aasqvza',\n              'ZTF19adcftfw',\n              'ZTF19aaxqrku',\n              'ZTF19adceucq');",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve specified columns from ps1_ztf for given list of oids\n\nSELECT oid,\n       sgmag1,\n       srmag1,\n       simag1,\n       szmag1,\n       sgscore1\nFROM ps1_ztf\nWHERE oid IN ('ZTF20aawwmqv',\n              'ZTF21aasqvza',\n              'ZTF19adcftfw',\n              'ZTF19aaxqrku',\n              'ZTF19adceucq');"
                },
                "in_toks": 2263,
                "out_toks": 106,
                "id": "chatcmpl-BgYhZYplBCSfWSuHdNQsS3zaHl5FO",
                "created": 1749482869,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "52": {
        "0": {
            "req_id": 52,
            "experiment_id": "run_0",
            "pred_tables": [
                "forced_photometry"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['forced_photometry']",
                    "1": "['forced_photometry']"
                },
                "in_toks": 788,
                "out_toks": 12,
                "id": "chatcmpl-BgYhbTsaqf2WmS1ftrlbwZon7j2Lf",
                "created": 1749482871,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all epochs from forced_photometry for specified ZTF objects with status code '0'\n\nSELECT *\nFROM forced_photometry\nWHERE oid IN ('ZTF23aatekmu',\n              'ZTF22abpxoyy')\n  AND procstatus = '0';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all epochs from forced_photometry for specified ZTF objects with status code '0'\n\nSELECT *\nFROM forced_photometry\nWHERE oid IN ('ZTF23aatekmu',\n              'ZTF22abpxoyy')\n  AND procstatus = '0';"
                },
                "in_toks": 2150,
                "out_toks": 60,
                "id": "chatcmpl-BgYhb9rJq4o9naj7hIJ3rofCwN6Ai",
                "created": 1749482871,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 52,
            "experiment_id": "run_1",
            "pred_tables": [
                "forced_photometry"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['forced_photometry']",
                    "1": "['forced_photometry']"
                },
                "in_toks": 788,
                "out_toks": 12,
                "id": "chatcmpl-BgYhbTsaqf2WmS1ftrlbwZon7j2Lf",
                "created": 1749482871,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "SELECT *\nFROM forced_photometry\nWHERE oid IN\n    (SELECT oid\n     FROM OBJECT\n     WHERE oid IN ('ZTF23aatekmu',\n                   'ZTF22abpxoyy') )\n  AND procstatus = '0';",
            "original_sql_response": {
                "responses": {
                    "0": "SELECT *\nFROM forced_photometry\nWHERE oid IN\n    (SELECT oid\n     FROM OBJECT\n     WHERE oid IN ('ZTF23aatekmu',\n                   'ZTF22abpxoyy') )\n  AND procstatus = '0';"
                },
                "in_toks": 2150,
                "out_toks": 45,
                "id": "chatcmpl-BgYhdea0lIOqTGCeVBIv0B1Pog3ne",
                "created": 1749482873,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "109": {
        "0": {
            "req_id": 109,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "feature",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature', 'probability']",
                    "1": "['object', 'feature', 'probability']"
                },
                "in_toks": 826,
                "out_toks": 20,
                "id": "chatcmpl-BgYhdXyrJdVSgrw6L8Qt8EZVUSrKD",
                "created": 1749482873,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select up to 10 objects with LinearTrend > 5 and delta between last and first detection > 1 day\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       p.classifier_version,\n       p.class_name AS CLASS,\n       p.probability,\n       f.value AS LinearTrend_value,\n       f.fid AS filter_id\nFROM\n  (-- Subquery to filter objects based on detection date difference\n SELECT *\n   FROM OBJECT\n   WHERE (lastmjd - firstmjd) > 1 ) o -- Join with feature table to get LinearTrend feature\nJOIN feature f ON o.oid = f.oid\nAND f.name = 'LinearTrend' -- Filter features with value > 5\n\nWHERE f.value > 5 -- Join with probability table to get top-ranked class probabilities\nJOIN\n    (SELECT *\n     FROM probability\n     WHERE ranking = 1 ) p ON o.oid = p.oid\nLIMIT 10;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select up to 10 objects with LinearTrend > 5 and delta between last and first detection > 1 day\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       p.classifier_version,\n       p.class_name AS CLASS,\n       p.probability,\n       f.value AS LinearTrend_value,\n       f.fid AS filter_id\nFROM\n  (-- Subquery to filter objects based on detection date difference\n SELECT *\n   FROM OBJECT\n   WHERE (lastmjd - firstmjd) > 1 ) o -- Join with feature table to get LinearTrend feature\nJOIN feature f ON o.oid = f.oid\nAND f.name = 'LinearTrend' -- Filter features with value > 5\n\nWHERE f.value > 5 -- Join with probability table to get top-ranked class probabilities\nJOIN\n    (SELECT *\n     FROM probability\n     WHERE ranking = 1 ) p ON o.oid = p.oid\nLIMIT 10;"
                },
                "in_toks": 4593,
                "out_toks": 209,
                "id": "chatcmpl-BgYhe7KOFhAj468mN0oGGUN7JepVu",
                "created": 1749482874,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 109,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "feature",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature', 'probability']",
                    "1": "['object', 'feature', 'probability']"
                },
                "in_toks": 826,
                "out_toks": 20,
                "id": "chatcmpl-BgYhdXyrJdVSgrw6L8Qt8EZVUSrKD",
                "created": 1749482873,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Find up to 10 objects with LinearTrend > 5 and delta between last and first detection > 1 day\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       p.classifier_version,\n       p.class_name AS CLASS,\n       p.probability,\n       f.value AS LinearTrend_value,\n       f.fid AS filter_id\nFROM OBJECT o\nJOIN feature f ON o.oid = f.oid\nJOIN probability p ON o.oid = p.oid\nAND p.ranking = 1\nAND p.classifier_name = 'lc_classifier'\nWHERE f.name = 'LinearTrend'\n  AND f.value > 5\n  AND o.lastmjd - o.firstmjd > 1\nLIMIT 10;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Find up to 10 objects with LinearTrend > 5 and delta between last and first detection > 1 day\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       p.classifier_version,\n       p.class_name AS CLASS,\n       p.probability,\n       f.value AS LinearTrend_value,\n       f.fid AS filter_id\nFROM OBJECT o\nJOIN feature f ON o.oid = f.oid\nJOIN probability p ON o.oid = p.oid\nAND p.ranking = 1\nAND p.classifier_name = 'lc_classifier'\nWHERE f.name = 'LinearTrend'\n  AND f.value > 5\n  AND o.lastmjd - o.firstmjd > 1\nLIMIT 10;"
                },
                "in_toks": 4593,
                "out_toks": 173,
                "id": "chatcmpl-BgYhh9G7SxRhdODOuyHylaTnHIBfm",
                "created": 1749482877,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "49": {
        "0": {
            "req_id": 49,
            "experiment_id": "run_0",
            "pred_tables": [
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['feature']",
                    "1": "['feature']"
                },
                "in_toks": 778,
                "out_toks": 6,
                "id": "chatcmpl-BgYhjYXZyh5jFtkCHyeDC4ro81zoG",
                "created": 1749482879,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all feature rows in the g band for specified ZTF objects\n\nSELECT *\nFROM feature\nWHERE name = 'g'\n  AND oid IN\n    (SELECT oid\n     FROM OBJECT\n     WHERE oid IN\n         (SELECT oid\n          FROM feature\n          WHERE name = 'ZTF20abywohm'\n          UNION SELECT oid\n          FROM feature\n          WHERE name = 'ZTF20abxgxjd' ) );",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all feature rows in the g band for specified ZTF objects\n\nSELECT *\nFROM feature\nWHERE name = 'g'\n  AND oid IN\n    (SELECT oid\n     FROM OBJECT\n     WHERE oid IN\n         (SELECT oid\n          FROM feature\n          WHERE name = 'ZTF20abywohm'\n          UNION SELECT oid\n          FROM feature\n          WHERE name = 'ZTF20abxgxjd' ) );"
                },
                "in_toks": 3879,
                "out_toks": 81,
                "id": "chatcmpl-BgYhkv07QiJMIVyMX4p3DC7SHnEIG",
                "created": 1749482880,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 49,
            "experiment_id": "run_1",
            "pred_tables": [
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['feature']",
                    "1": "['feature']"
                },
                "in_toks": 778,
                "out_toks": 6,
                "id": "chatcmpl-BgYhjYXZyh5jFtkCHyeDC4ro81zoG",
                "created": 1749482879,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all feature rows in the g band for objects with specified ZTF identifiers\n\nSELECT *\nFROM feature\nWHERE oid IN\n    (SELECT oid\n     FROM OBJECT\n     WHERE oid IN ('ZTF20abywohm',\n                   'ZTF20abxgxjd') )\n  AND fid = 1; -- fid=1 corresponds to the g band",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all feature rows in the g band for objects with specified ZTF identifiers\n\nSELECT *\nFROM feature\nWHERE oid IN\n    (SELECT oid\n     FROM OBJECT\n     WHERE oid IN ('ZTF20abywohm',\n                   'ZTF20abxgxjd') )\n  AND fid = 1; -- fid=1 corresponds to the g band"
                },
                "in_toks": 3879,
                "out_toks": 72,
                "id": "chatcmpl-BgYhlfkZGx4VvGHu1QWMzeu4Jbr1u",
                "created": 1749482881,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "46": {
        "0": {
            "req_id": 46,
            "experiment_id": "run_0",
            "pred_tables": [
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['detection']",
                    "1": "['detection']"
                },
                "in_toks": 767,
                "out_toks": 8,
                "id": "chatcmpl-BgYhm7MopPL96a72NWc9ihWbTp4w5",
                "created": 1749482882,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all information from the 'detection' table for the specified object, sorted by detection date (mjd)\n\nSELECT *\nFROM detection\nWHERE oid = 'ZTF23aaqmddq'\nORDER BY mjd;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all information from the 'detection' table for the specified object, sorted by detection date (mjd)\n\nSELECT *\nFROM detection\nWHERE oid = 'ZTF23aaqmddq'\nORDER BY mjd;"
                },
                "in_toks": 1984,
                "out_toks": 50,
                "id": "chatcmpl-BgYhnkp2LyDMeHyIkWloXb69L1GKd",
                "created": 1749482883,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 46,
            "experiment_id": "run_1",
            "pred_tables": [
                "detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['detection']",
                    "1": "['detection']"
                },
                "in_toks": 767,
                "out_toks": 8,
                "id": "chatcmpl-BgYhm7MopPL96a72NWc9ihWbTp4w5",
                "created": 1749482882,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all detection information for the specified object, sorted by detection date (mjd)\n\nSELECT *\nFROM detection\nWHERE oid = 'ZTF23aaqmddq'\nORDER BY mjd;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all detection information for the specified object, sorted by detection date (mjd)\n\nSELECT *\nFROM detection\nWHERE oid = 'ZTF23aaqmddq'\nORDER BY mjd;"
                },
                "in_toks": 1984,
                "out_toks": 44,
                "id": "chatcmpl-BgYhofhnS9A0ea2PtaUeiTZ0Og98c",
                "created": 1749482884,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "93": {
        "0": {
            "req_id": 93,
            "experiment_id": "run_0",
            "pred_tables": [
                "probability",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability', 'magstat']",
                    "1": "['probability', 'magstat']"
                },
                "in_toks": 807,
                "out_toks": 16,
                "id": "chatcmpl-BgYhokR0fel3FKPrTTlzTXnedIvaG",
                "created": 1749482884,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve probability and magstat data for ZTF objects where 'asteroid' is top-ranked in stamp_classifier\n-- and have a corrected light curve, limited to 10 rows ordered by object identifier\n\nSELECT p.*,\n       m.*\nFROM\n  (-- Subquery to select OIDs where 'asteroid' is ranked 1 in stamp_classifier probabilities\n SELECT oid\n   FROM probability\n   WHERE class_name = 'asteroid'\n     AND classifier_name = 'stamp_classifier'\n     AND ranking = 1 ) AS sub\nJOIN probability p ON p.oid = sub.oid\nJOIN magstat m ON m.oid = sub.oid\nWHERE p.class_name = 'asteroid'\n  AND p.classifier_name = 'stamp_classifier'\n  AND p.ranking = 1\n  AND m.corrected = TRUE\nORDER BY p.oid\nLIMIT 10;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve probability and magstat data for ZTF objects where 'asteroid' is top-ranked in stamp_classifier\n-- and have a corrected light curve, limited to 10 rows ordered by object identifier\n\nSELECT p.*,\n       m.*\nFROM\n  (-- Subquery to select OIDs where 'asteroid' is ranked 1 in stamp_classifier probabilities\n SELECT oid\n   FROM probability\n   WHERE class_name = 'asteroid'\n     AND classifier_name = 'stamp_classifier'\n     AND ranking = 1 ) AS sub\nJOIN probability p ON p.oid = sub.oid\nJOIN magstat m ON m.oid = sub.oid\nWHERE p.class_name = 'asteroid'\n  AND p.classifier_name = 'stamp_classifier'\n  AND p.ranking = 1\n  AND m.corrected = TRUE\nORDER BY p.oid\nLIMIT 10;"
                },
                "in_toks": 2376,
                "out_toks": 183,
                "id": "chatcmpl-BgYhpuWAW4vJKhfdJiQV4lnG9mFyk",
                "created": 1749482885,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 93,
            "experiment_id": "run_1",
            "pred_tables": [
                "probability",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability', 'magstat']",
                    "1": "['probability', 'magstat']"
                },
                "in_toks": 807,
                "out_toks": 16,
                "id": "chatcmpl-BgYhokR0fel3FKPrTTlzTXnedIvaG",
                "created": 1749482884,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Retrieve probability and magstat columns for ZTF objects where 'asteroid' is top-ranked in the 'stamp_classifier' probability\n-- and the object has a corrected light curve, limited to 10 rows ordered by object identifier\n\nSELECT p.*,\n       m.*\nFROM\n  (-- Select OIDs where 'asteroid' is ranked 1 in 'stamp_classifier' probabilities\n SELECT probability.oid\n   FROM probability\n   WHERE probability.class_name = 'asteroid'\n     AND probability.classifier_name = 'stamp_classifier'\n     AND probability.ranking = 1\n   LIMIT 10) AS top_asteroids\nJOIN probability p ON p.oid = top_asteroids.oid\nJOIN magstat m ON m.oid = top_asteroids.oid\nWHERE m.corrected = TRUE\nORDER BY p.oid;",
            "sql_response": {
                "responses": {
                    "0": "-- Retrieve probability and magstat columns for ZTF objects where 'asteroid' is top-ranked in the 'stamp_classifier' probability\n-- and the object has a corrected light curve, limited to 10 rows ordered by object identifier\n\nSELECT p.*,\n       m.*\nFROM\n  (-- Select OIDs where 'asteroid' is ranked 1 in 'stamp_classifier' probabilities\n SELECT probability.oid\n   FROM probability\n   WHERE probability.class_name = 'asteroid'\n     AND probability.classifier_name = 'stamp_classifier'\n     AND probability.ranking = 1\n   LIMIT 10) AS top_asteroids\nJOIN probability p ON p.oid = top_asteroids.oid\nJOIN magstat m ON m.oid = top_asteroids.oid\nWHERE m.corrected = TRUE\nORDER BY p.oid;"
                },
                "in_toks": 1606,
                "out_toks": 171,
                "id": "chatcmpl-BgZYB8c4d1x2KUpVxL5hHHm1m1BBX",
                "created": 1749486131,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve probability and magstat columns for ZTF objects where 'asteroid' is top-ranked in stamp_classifier\n-- and the object has a corrected light curve, limited to 10 rows ordered by object identifier\n\nSELECT p.*,\n       m.*\nFROM\n  (-- Select OIDs where 'asteroid' is ranked 1 in stamp_classifier probabilities\n SELECT probability.oid\n   FROM probability\n   WHERE probability.class_name = 'asteroid'\n     AND probability.classifier_name = 'stamp_classifier'\n     AND probability.ranking = 1\n   LIMIT 10) AS top_asteroids\nJOIN probability ON probability.oid = top_asteroids.oid\nJOIN magstat AS m ON m.oid = top_asteroids.oid\nWHERE m.corrected = TRUE\nORDER BY probability.oid",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve probability and magstat columns for ZTF objects where 'asteroid' is top-ranked in stamp_classifier\n-- and the object has a corrected light curve, limited to 10 rows ordered by object identifier\n\nSELECT p.*,\n       m.*\nFROM\n  (-- Select OIDs where 'asteroid' is ranked 1 in stamp_classifier probabilities\n SELECT probability.oid\n   FROM probability\n   WHERE probability.class_name = 'asteroid'\n     AND probability.classifier_name = 'stamp_classifier'\n     AND probability.ranking = 1\n   LIMIT 10) AS top_asteroids\nJOIN probability ON probability.oid = top_asteroids.oid\nJOIN magstat AS m ON m.oid = top_asteroids.oid\nWHERE m.corrected = TRUE\nORDER BY probability.oid"
                },
                "in_toks": 2376,
                "out_toks": 169,
                "id": "chatcmpl-BgYhrmvuzYcjL1EfeYDXtwJRPc9ow",
                "created": 1749482887,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "62": {
        "0": {
            "req_id": 62,
            "experiment_id": "run_0",
            "pred_tables": [
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability']",
                    "1": "['probability']"
                },
                "in_toks": 793,
                "out_toks": 8,
                "id": "chatcmpl-BgYhuaJacI9vIRsg7sDyDCB01xCPq",
                "created": 1749482890,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve specified columns from the 'probability' table for the given object, sorted by classifier name and probability\n\nSELECT oid,\n       classifier_name,\n       classifier_version,\n       class_name,\n       probability,\n       ranking\nFROM probability\nWHERE oid = 'ZTF21aadoizf'\nORDER BY classifier_name ASC,\n         probability DESC;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve specified columns from the 'probability' table for the given object, sorted by classifier name and probability\n\nSELECT oid,\n       classifier_name,\n       classifier_version,\n       class_name,\n       probability,\n       ranking\nFROM probability\nWHERE oid = 'ZTF21aadoizf'\nORDER BY classifier_name ASC,\n         probability DESC;"
                },
                "in_toks": 1646,
                "out_toks": 74,
                "id": "chatcmpl-BgYhuWh52wgBgJYmqe08mrIjqGyAU",
                "created": 1749482890,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 62,
            "experiment_id": "run_1",
            "pred_tables": [
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability']",
                    "1": "['probability']"
                },
                "in_toks": 793,
                "out_toks": 8,
                "id": "chatcmpl-BgYhuaJacI9vIRsg7sDyDCB01xCPq",
                "created": 1749482890,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve specific columns from the 'probability' table for the object 'ZTF21aadoizf'\n\nSELECT oid,\n       classifier_name,\n       classifier_version,\n       class_name,\n       probability,\n       ranking\nFROM probability\nWHERE oid = 'ZTF21aadoizf'\nORDER BY classifier_name ASC,\n         probability DESC;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve specific columns from the 'probability' table for the object 'ZTF21aadoizf'\n\nSELECT oid,\n       classifier_name,\n       classifier_version,\n       class_name,\n       probability,\n       ranking\nFROM probability\nWHERE oid = 'ZTF21aadoizf'\nORDER BY classifier_name ASC,\n         probability DESC;"
                },
                "in_toks": 1646,
                "out_toks": 74,
                "id": "chatcmpl-BgYhvroSjWsvO7Bs49eKTBvtaWpJh",
                "created": 1749482891,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "95": {
        "0": {
            "req_id": 95,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "xmatch",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'xmatch', 'feature']",
                    "1": "['object', 'xmatch', 'feature']"
                },
                "in_toks": 852,
                "out_toks": 20,
                "id": "chatcmpl-BgYhxwYwM3GoZH9Hhr9SM9Tf4m2Tb",
                "created": 1749482893,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve matches for specified ZTF objects\nWITH ztf_objects AS\n  (SELECT oid\n   FROM OBJECT\n   WHERE oid IN ('ZTF19aazhdoy',\n                 'ZTF17aaaqqtd') ),\n     matches AS\n  (SELECT xm.oid,\n          xm.catid,\n          xm.oid_catalog,\n          xm.dist\n   FROM xmatch xm\n   WHERE xm.oid IN\n       (SELECT oid\n        FROM ztf_objects) ),\n     features AS\n  (SELECT f.oid,\n          f.name,\n          f.value\n   FROM feature f\n   WHERE f.oid IN\n       (SELECT oid\n        FROM ztf_objects)\n     AND f.version = 'lc_classifier_1.2.1-P'\n     AND f.name IN ('W1-W2',\n                    'g-W2',\n                    'r-W2') ) -- Join matches with features on object identifier\n\nSELECT m.oid AS ztf_identifier,\n       m.oid_catalog AS catalog_identifier,\n       m.dist AS distance_arcsec,\n       f.name AS feature_name,\n       f.value AS feature_value\nFROM matches m\nJOIN features f ON m.oid = f.oid\nORDER BY m.oid,\n         f.name;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve matches for specified ZTF objects\nWITH ztf_objects AS\n  (SELECT oid\n   FROM OBJECT\n   WHERE oid IN ('ZTF19aazhdoy',\n                 'ZTF17aaaqqtd') ),\n     matches AS\n  (SELECT xm.oid,\n          xm.catid,\n          xm.oid_catalog,\n          xm.dist\n   FROM xmatch xm\n   WHERE xm.oid IN\n       (SELECT oid\n        FROM ztf_objects) ),\n     features AS\n  (SELECT f.oid,\n          f.name,\n          f.value\n   FROM feature f\n   WHERE f.oid IN\n       (SELECT oid\n        FROM ztf_objects)\n     AND f.version = 'lc_classifier_1.2.1-P'\n     AND f.name IN ('W1-W2',\n                    'g-W2',\n                    'r-W2') ) -- Join matches with features on object identifier\n\nSELECT m.oid AS ztf_identifier,\n       m.oid_catalog AS catalog_identifier,\n       m.dist AS distance_arcsec,\n       f.name AS feature_name,\n       f.value AS feature_value\nFROM matches m\nJOIN features f ON m.oid = f.oid\nORDER BY m.oid,\n         f.name;"
                },
                "in_toks": 4548,
                "out_toks": 235,
                "id": "chatcmpl-BgYhx7nKJsVOKBNorrPg6Idw96wWt",
                "created": 1749482893,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 95,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "xmatch",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'xmatch', 'feature']",
                    "1": "['object', 'xmatch', 'feature']"
                },
                "in_toks": 852,
                "out_toks": 20,
                "id": "chatcmpl-BgYhxwYwM3GoZH9Hhr9SM9Tf4m2Tb",
                "created": 1749482893,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve matches for specified ZTF objects\nWITH ztf_objects AS\n  (SELECT oid\n   FROM OBJECT\n   WHERE oid IN ('ZTF19aazhdoy',\n                 'ZTF17aaaqqtd') ),\n     matches AS\n  (SELECT xm.oid,\n          xm.catid,\n          xm.oid_catalog,\n          xm.dist\n   FROM xmatch xm\n   WHERE xm.oid IN\n       (SELECT oid\n        FROM ztf_objects) ), -- Retrieve features 'W1-W2', 'g-W2', 'r-W2' for the specified objects and version\nfeatures AS\n  (SELECT f.oid,\n          f.name,\n          f.value\n   FROM feature f\n   WHERE f.oid IN\n       (SELECT oid\n        FROM ztf_objects)\n     AND f.version = 'lc_classifier_1.2.1-P'\n     AND f.name IN ('W1-W2',\n                    'g-W2',\n                    'r-W2') ) -- Join matches with features on object identifier\n\nSELECT m.oid AS ztf_oid,\n       m.oid_catalog,\n       m.dist,\n       f.name AS feature_name,\n       f.value AS feature_value\nFROM matches m\nJOIN features f ON m.oid = f.oid\nORDER BY m.oid,\n         f.name;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve matches for specified ZTF objects\nWITH ztf_objects AS\n  (SELECT oid\n   FROM OBJECT\n   WHERE oid IN ('ZTF19aazhdoy',\n                 'ZTF17aaaqqtd') ),\n     matches AS\n  (SELECT xm.oid,\n          xm.catid,\n          xm.oid_catalog,\n          xm.dist\n   FROM xmatch xm\n   WHERE xm.oid IN\n       (SELECT oid\n        FROM ztf_objects) ), -- Retrieve features 'W1-W2', 'g-W2', 'r-W2' for the specified objects and version\nfeatures AS\n  (SELECT f.oid,\n          f.name,\n          f.value\n   FROM feature f\n   WHERE f.oid IN\n       (SELECT oid\n        FROM ztf_objects)\n     AND f.version = 'lc_classifier_1.2.1-P'\n     AND f.name IN ('W1-W2',\n                    'g-W2',\n                    'r-W2') ) -- Join matches with features on object identifier\n\nSELECT m.oid AS ztf_oid,\n       m.oid_catalog,\n       m.dist,\n       f.name AS feature_name,\n       f.value AS feature_value\nFROM matches m\nJOIN features f ON m.oid = f.oid\nORDER BY m.oid,\n         f.name;"
                },
                "in_toks": 4548,
                "out_toks": 254,
                "id": "chatcmpl-BgYi17uiBtqVUUO4BZ6e1WvaJ4S3w",
                "created": 1749482897,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "85": {
        "0": {
            "req_id": 85,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "detection",
                "dataquality"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'detection', 'dataquality']",
                    "1": "['object', 'detection', 'dataquality']"
                },
                "in_toks": 795,
                "out_toks": 22,
                "id": "chatcmpl-BgYi6I556pmbmCMRA9LyWYQQ5rZpY",
                "created": 1749482902,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all detections for the specified object, sorted by detection date\n\nSELECT d.mjd AS detection_date,\n       d.isdiffpos,\n       d.magpsf AS difference_magnitude,\n       d.sigmapsf AS magnitude_uncertainty,\n       dq.*\nFROM detection d\nJOIN dataquality dq ON dq.candid = d.candid\nWHERE d.oid = 'ZTF20actqnhg'\nORDER BY d.mjd;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all detections for the specified object, sorted by detection date\n\nSELECT d.mjd AS detection_date,\n       d.isdiffpos,\n       d.magpsf AS difference_magnitude,\n       d.sigmapsf AS magnitude_uncertainty,\n       dq.*\nFROM detection d\nJOIN dataquality dq ON dq.candid = d.candid\nWHERE d.oid = 'ZTF20actqnhg'\nORDER BY d.mjd;"
                },
                "in_toks": 3291,
                "out_toks": 104,
                "id": "chatcmpl-BgYi6SEaA666whWRrwKq0WmzYRPlU",
                "created": 1749482902,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 85,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "detection",
                "dataquality"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'detection', 'dataquality']",
                    "1": "['object', 'detection', 'dataquality']"
                },
                "in_toks": 795,
                "out_toks": 22,
                "id": "chatcmpl-BgYi6I556pmbmCMRA9LyWYQQ5rZpY",
                "created": 1749482902,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all detections for the specified object, sorted by detection date\n\nSELECT d.mjd AS detection_date,\n       d.isdiffpos,\n       d.magpsf AS difference_magnitude,\n       d.sigmapsf AS magnitude_uncertainty,\n       dq.*\nFROM detection d\nLEFT JOIN dataquality dq ON d.candid = dq.candid\nWHERE d.oid = 'ZTF20actqnhg'\nORDER BY d.mjd;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all detections for the specified object, sorted by detection date\n\nSELECT d.mjd AS detection_date,\n       d.isdiffpos,\n       d.magpsf AS difference_magnitude,\n       d.sigmapsf AS magnitude_uncertainty,\n       dq.*\nFROM detection d\nLEFT JOIN dataquality dq ON d.candid = dq.candid\nWHERE d.oid = 'ZTF20actqnhg'\nORDER BY d.mjd;"
                },
                "in_toks": 3291,
                "out_toks": 105,
                "id": "chatcmpl-BgYi8CC8yeOJr17dSKfxodPS27jd1",
                "created": 1749482904,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "98": {
        "0": {
            "req_id": 98,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "xmatch",
                "allwise"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'xmatch', 'allwise']",
                    "1": "['object', 'probability', 'xmatch', 'allwise']"
                },
                "in_toks": 785,
                "out_toks": 30,
                "id": "chatcmpl-BgYiABcT0zCN8F6OTiD24QtoTQunR",
                "created": 1749482906,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select up to 200 distinct object IDs with probability > 0.7 of being a QSO in the lc_classifier\nWITH qso_objects AS\n  (SELECT DISTINCT p.oid\n   FROM probability p\n   WHERE p.class_name = 'QSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.7\n     AND p.ranking = 1\n   LIMIT 200) -- Retrieve matching catalog information for these objects\n\nSELECT xm.*,\n       aw.*\nFROM qso_objects q\nJOIN xmatch xm ON xm.oid = q.oid\nJOIN allwise aw ON aw.oid_catalog = xm.oid ;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select up to 200 distinct object IDs with probability > 0.7 of being a QSO in the lc_classifier\nWITH qso_objects AS\n  (SELECT DISTINCT p.oid\n   FROM probability p\n   WHERE p.class_name = 'QSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.7\n     AND p.ranking = 1\n   LIMIT 200) -- Retrieve matching catalog information for these objects\n\nSELECT xm.*,\n       aw.*\nFROM qso_objects q\nJOIN xmatch xm ON xm.oid = q.oid\nJOIN allwise aw ON aw.oid_catalog = xm.oid ;"
                },
                "in_toks": 2932,
                "out_toks": 144,
                "id": "chatcmpl-BgYiAquKHcclxMLuT9O1dOVypv5Ly",
                "created": 1749482906,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 98,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "xmatch",
                "allwise"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'xmatch', 'allwise']",
                    "1": "['object', 'probability', 'xmatch', 'allwise']"
                },
                "in_toks": 785,
                "out_toks": 30,
                "id": "chatcmpl-BgYiABcT0zCN8F6OTiD24QtoTQunR",
                "created": 1749482906,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Find up to 200 distinct ZTF objects with probability > 0.7 of being a QSO in the lc_classifier\nWITH top_prob_qso AS\n  (SELECT DISTINCT p.oid\n   FROM probability p\n   WHERE p.class_name = 'QSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.7\n     AND p.ranking = 1\n   LIMIT 200) -- Select matching catalog data for these objects\n\nSELECT xm.*,\n       aw.*\nFROM top_prob_qso tpq\nJOIN xmatch xm ON xm.oid = tpq.oid\nJOIN allwise aw ON aw.oid_catalog = xm.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Find up to 200 distinct ZTF objects with probability > 0.7 of being a QSO in the lc_classifier\nWITH top_prob_qso AS\n  (SELECT DISTINCT p.oid\n   FROM probability p\n   WHERE p.class_name = 'QSO'\n     AND p.classifier_name = 'lc_classifier'\n     AND p.probability > 0.7\n     AND p.ranking = 1\n   LIMIT 200) -- Select matching catalog data for these objects\n\nSELECT xm.*,\n       aw.*\nFROM top_prob_qso tpq\nJOIN xmatch xm ON xm.oid = tpq.oid\nJOIN allwise aw ON aw.oid_catalog = xm.oid;"
                },
                "in_toks": 2932,
                "out_toks": 148,
                "id": "chatcmpl-BgYiDRm2CusmOqsTdEoQieLZZXetX",
                "created": 1749482909,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "82": {
        "0": {
            "req_id": 82,
            "experiment_id": "run_0",
            "pred_tables": [
                "xmatch"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['xmatch']",
                    "1": "['xmatch']"
                },
                "in_toks": 786,
                "out_toks": 8,
                "id": "chatcmpl-BgYiF8pBB0oSl2cT7JESzOIxvlbR5",
                "created": 1749482911,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all columns from xmatch for specific objects in the ALLWISE catalog, sorted by distance\n\nSELECT *\nFROM\n  (SELECT *\n   FROM xmatch\n   WHERE catid = 'ALLWISE'\n     AND oid_catalog IN ('J175005.63-141341.8',\n                         'J072933.88+030810.4') ) sub\nORDER BY dist;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all columns from xmatch for specific objects in the ALLWISE catalog, sorted by distance\n\nSELECT *\nFROM\n  (SELECT *\n   FROM xmatch\n   WHERE catid = 'ALLWISE'\n     AND oid_catalog IN ('J175005.63-141341.8',\n                         'J072933.88+030810.4') ) sub\nORDER BY dist;"
                },
                "in_toks": 1568,
                "out_toks": 80,
                "id": "chatcmpl-BgYiF4TlZAdmhYTZa5Yjx87CTxRCk",
                "created": 1749482911,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 82,
            "experiment_id": "run_1",
            "pred_tables": [
                "xmatch"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['xmatch']",
                    "1": "['xmatch']"
                },
                "in_toks": 786,
                "out_toks": 8,
                "id": "chatcmpl-BgYiF8pBB0oSl2cT7JESzOIxvlbR5",
                "created": 1749482911,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all columns from xmatch for specific objects in the ALLWISE catalog, sorted by distance\n\nSELECT *\nFROM xmatch\nWHERE catid = 'ALLWISE'\n  AND oid_catalog IN ('J175005.63-141341.8',\n                      'J072933.88+030810.4')\nORDER BY dist;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all columns from xmatch for specific objects in the ALLWISE catalog, sorted by distance\n\nSELECT *\nFROM xmatch\nWHERE catid = 'ALLWISE'\n  AND oid_catalog IN ('J175005.63-141341.8',\n                      'J072933.88+030810.4')\nORDER BY dist;"
                },
                "in_toks": 1568,
                "out_toks": 71,
                "id": "chatcmpl-BgYiHuf5efIMwe7qOSziIUc4WLgl8",
                "created": 1749482913,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "64": {
        "0": {
            "req_id": 64,
            "experiment_id": "run_0",
            "pred_tables": [
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability']",
                    "1": "['probability']"
                },
                "in_toks": 798,
                "out_toks": 8,
                "id": "chatcmpl-BgYiIOVd9fKLwev0eEGEsYCDGIWmc",
                "created": 1749482914,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve up to 1000 entries with probability > 0.95 in either 'lc_classifier_top' or 'stamp_classifier'\n\nSELECT p.oid,\n       p.classifier_name,\n       p.classifier_version,\n       p.class_name,\n       p.probability\nFROM\n  (SELECT *\n   FROM probability\n   WHERE (classifier_name IN ('lc_classifier_top',\n                              'stamp_classifier')\n          AND probability > 0.95) ) p\nWHERE p.ranking = 1\nLIMIT 1000;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve up to 1000 entries with probability > 0.95 in either 'lc_classifier_top' or 'stamp_classifier'\n\nSELECT p.oid,\n       p.classifier_name,\n       p.classifier_version,\n       p.class_name,\n       p.probability\nFROM\n  (SELECT *\n   FROM probability\n   WHERE (classifier_name IN ('lc_classifier_top',\n                              'stamp_classifier')\n          AND probability > 0.95) ) p\nWHERE p.ranking = 1\nLIMIT 1000;"
                },
                "in_toks": 1651,
                "out_toks": 108,
                "id": "chatcmpl-BgYiJqDjFDu4NrQVUowSCBXlOXoEC",
                "created": 1749482915,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 64,
            "experiment_id": "run_1",
            "pred_tables": [
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability']",
                    "1": "['probability']"
                },
                "in_toks": 798,
                "out_toks": 8,
                "id": "chatcmpl-BgYiIOVd9fKLwev0eEGEsYCDGIWmc",
                "created": 1749482914,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve up to 1000 entries with probability > 0.95 in either 'lc_classifier_top' or 'stamp_classifier'\n\nSELECT p.oid,\n       p.classifier_name,\n       p.classifier_version,\n       p.class_name,\n       p.probability\nFROM\n  (SELECT *\n   FROM probability\n   WHERE (classifier_name IN ('lc_classifier_top',\n                              'stamp_classifier'))\n     AND probability > 0.95 ) p\nWHERE p.ranking = 1\nLIMIT 1000;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve up to 1000 entries with probability > 0.95 in either 'lc_classifier_top' or 'stamp_classifier'\n\nSELECT p.oid,\n       p.classifier_name,\n       p.classifier_version,\n       p.class_name,\n       p.probability\nFROM\n  (SELECT *\n   FROM probability\n   WHERE (classifier_name IN ('lc_classifier_top',\n                              'stamp_classifier'))\n     AND probability > 0.95 ) p\nWHERE p.ranking = 1\nLIMIT 1000;"
                },
                "in_toks": 1651,
                "out_toks": 108,
                "id": "chatcmpl-BgYiLAR4ZhBu2eDKhXfwkGZy2aWEM",
                "created": 1749482917,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "87": {
        "0": {
            "req_id": 87,
            "experiment_id": "run_0",
            "pred_tables": [
                "probability",
                "gaia_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability', 'gaia_ztf']",
                    "1": "['probability', 'gaia_ztf']"
                },
                "in_toks": 826,
                "out_toks": 22,
                "id": "chatcmpl-BgYiMm6rxkZSiZazrHNAgubdjqVUd",
                "created": 1749482918,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Find ZTF objects with high probability (>0.7) of being Long Period Variable or Eclipsing Binary\n-- in the specified light curve classifier version, and with unchanged Gaia associations\n\nSELECT p.*,\n       g.*\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'lc_classifier'\n     AND classifier_version = 'hierarchical_rf_1.1.0'\n     AND class_name IN ('LPV',\n                        'E')\n     AND probability > 0.7\n     AND ranking = 1 ) p\nJOIN gaia_ztf g ON p.oid = g.oid\nWHERE g.unique1 = TRUE\nLIMIT 50;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Find ZTF objects with high probability (>0.7) of being Long Period Variable or Eclipsing Binary\n-- in the specified light curve classifier version, and with unchanged Gaia associations\n\nSELECT p.*,\n       g.*\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'lc_classifier'\n     AND classifier_version = 'hierarchical_rf_1.1.0'\n     AND class_name IN ('LPV',\n                        'E')\n     AND probability > 0.7\n     AND ranking = 1 ) p\nJOIN gaia_ztf g ON p.oid = g.oid\nWHERE g.unique1 = TRUE\nLIMIT 50;"
                },
                "in_toks": 1896,
                "out_toks": 139,
                "id": "chatcmpl-BgYiN01iokHUlTjKfzXcuOoqIOgI5",
                "created": 1749482919,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 87,
            "experiment_id": "run_1",
            "pred_tables": [
                "probability",
                "gaia_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability', 'gaia_ztf']",
                    "1": "['probability', 'gaia_ztf']"
                },
                "in_toks": 826,
                "out_toks": 22,
                "id": "chatcmpl-BgYiMm6rxkZSiZazrHNAgubdjqVUd",
                "created": 1749482918,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Find ZTF objects with high probability (>0.7) of being Long Period Variable or Eclipsing Binary\n-- in the specified classifier version, and with unchanged Gaia associations\n\nSELECT p.*,\n       g.*\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'lc_classifier_periodic'\n     AND classifier_version = 'hierarchical_rf_1.1.0'\n     AND class_name IN ('LPV',\n                        'E')\n     AND probability > 0.7\n     AND ranking = 1\n   LIMIT 50) p\nJOIN gaia_ztf g ON p.oid = g.oid\nWHERE g.unique1 = TRUE;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Find ZTF objects with high probability (>0.7) of being Long Period Variable or Eclipsing Binary\n-- in the specified classifier version, and with unchanged Gaia associations\n\nSELECT p.*,\n       g.*\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'lc_classifier_periodic'\n     AND classifier_version = 'hierarchical_rf_1.1.0'\n     AND class_name IN ('LPV',\n                        'E')\n     AND probability > 0.7\n     AND ranking = 1\n   LIMIT 50) p\nJOIN gaia_ztf g ON p.oid = g.oid\nWHERE g.unique1 = TRUE;"
                },
                "in_toks": 1896,
                "out_toks": 140,
                "id": "chatcmpl-BgYiPd2mu123kz7Lr1UOzMN9C4Evv",
                "created": 1749482921,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "108": {
        "0": {
            "req_id": 108,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 816,
                "out_toks": 20,
                "id": "chatcmpl-BgYiRAPq6PIHjJyZW3ps3JhYu3fOz",
                "created": 1749482923,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select up to 15 ZTF objects with more than 20 detections and high probability of being bogus\n\nSELECT o.oid AS \"ZTF identifier\",\n       o.ndet AS \"number of detections\",\n       p.probability AS \"probability\",\n       o.gal_b AS \"gal_b\"\nFROM OBJECT o\nWHERE o.ndet > 20\n  AND o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'bogus'\n       AND p.classifier_name = 'stamp_classifier'\n       AND p.classifier_version = 'stamp_classifier_1.0.4'\n       AND p.probability > 0.9\n     ORDER BY p.oid\n     LIMIT 15)\nORDER BY o.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select up to 15 ZTF objects with more than 20 detections and high probability of being bogus\n\nSELECT o.oid AS \"ZTF identifier\",\n       o.ndet AS \"number of detections\",\n       p.probability AS \"probability\",\n       o.gal_b AS \"gal_b\"\nFROM OBJECT o\nWHERE o.ndet > 20\n  AND o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'bogus'\n       AND p.classifier_name = 'stamp_classifier'\n       AND p.classifier_version = 'stamp_classifier_1.0.4'\n       AND p.probability > 0.9\n     ORDER BY p.oid\n     LIMIT 15)\nORDER BY o.oid;"
                },
                "in_toks": 4582,
                "out_toks": 176,
                "id": "chatcmpl-BgYiSjMbaZhkAc2czxS2sD5ecz71x",
                "created": 1749482924,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 108,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'feature']",
                    "1": "['object', 'probability', 'feature']"
                },
                "in_toks": 816,
                "out_toks": 20,
                "id": "chatcmpl-BgYiRAPq6PIHjJyZW3ps3JhYu3fOz",
                "created": 1749482923,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select up to 15 ZTF objects with more than 20 detections and high probability of being bogus\n\nSELECT o.oid AS \"ZTF identifier\",\n       o.ndet AS \"number of detections\",\n       p.probability AS \"probability\",\n       o.gal_b AS \"gal_b\"\nFROM OBJECT o\nWHERE o.ndet > 20\n  AND o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'bogus'\n       AND p.classifier_name = 'stamp_classifier'\n       AND p.classifier_version = 'stamp_classifier_1.0.4'\n       AND p.probability > 0.9\n     ORDER BY p.oid\n     LIMIT 15)\nORDER BY o.oid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select up to 15 ZTF objects with more than 20 detections and high probability of being bogus\n\nSELECT o.oid AS \"ZTF identifier\",\n       o.ndet AS \"number of detections\",\n       p.probability AS \"probability\",\n       o.gal_b AS \"gal_b\"\nFROM OBJECT o\nWHERE o.ndet > 20\n  AND o.oid IN\n    (SELECT p.oid\n     FROM probability p\n     WHERE p.class_name = 'bogus'\n       AND p.classifier_name = 'stamp_classifier'\n       AND p.classifier_version = 'stamp_classifier_1.0.4'\n       AND p.probability > 0.9\n     ORDER BY p.oid\n     LIMIT 15)\nORDER BY o.oid;"
                },
                "in_toks": 4582,
                "out_toks": 176,
                "id": "chatcmpl-BgYiUDZkEoLup42UgleEVDh88oJkz",
                "created": 1749482926,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "65": {
        "0": {
            "req_id": 65,
            "experiment_id": "run_0",
            "pred_tables": [
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability']",
                    "1": "['probability']"
                },
                "in_toks": 800,
                "out_toks": 8,
                "id": "chatcmpl-BgYiXtvXuO4K4esyRhEHAFJeoZxsq",
                "created": 1749482929,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve up to 500 probability entries for stamp_classifier with specified class names and probability range, ordered by oid descending\n\nSELECT *\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'stamp_classifier'\n     AND class_name IN ('asteroid',\n                        'bogus')\n     AND probability BETWEEN 0.7 AND 0.99\n   ORDER BY oid DESC) sub\nLIMIT 500;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve up to 500 probability entries for stamp_classifier with specified class names and probability range, ordered by oid descending\n\nSELECT *\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'stamp_classifier'\n     AND class_name IN ('asteroid',\n                        'bogus')\n     AND probability BETWEEN 0.7 AND 0.99\n   ORDER BY oid DESC) sub\nLIMIT 500;"
                },
                "in_toks": 1652,
                "out_toks": 87,
                "id": "chatcmpl-BgYiX28Pc2Bf0nbx2onWc0OJ2kaBQ",
                "created": 1749482929,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 65,
            "experiment_id": "run_1",
            "pred_tables": [
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability']",
                    "1": "['probability']"
                },
                "in_toks": 800,
                "out_toks": 8,
                "id": "chatcmpl-BgYiXtvXuO4K4esyRhEHAFJeoZxsq",
                "created": 1749482929,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve up to 500 probability entries for 'stamp_classifier' with specified class names and probability range, ordered by oid descending\n\nSELECT *\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'stamp_classifier'\n     AND class_name IN ('asteroid',\n                        'bogus')\n     AND probability BETWEEN 0.7 AND 0.99\n   ORDER BY oid DESC) sub\nLIMIT 500;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve up to 500 probability entries for 'stamp_classifier' with specified class names and probability range, ordered by oid descending\n\nSELECT *\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'stamp_classifier'\n     AND class_name IN ('asteroid',\n                        'bogus')\n     AND probability BETWEEN 0.7 AND 0.99\n   ORDER BY oid DESC) sub\nLIMIT 500;"
                },
                "in_toks": 1652,
                "out_toks": 89,
                "id": "chatcmpl-BgYiZlaGT38Ty6Y0CBViyqLBgAcDC",
                "created": 1749482931,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "101": {
        "0": {
            "req_id": 101,
            "experiment_id": "run_0",
            "pred_tables": [
                "probability",
                "xmatch",
                "allwise"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability', 'xmatch', 'allwise']",
                    "1": "['probability', 'xmatch', 'allwise']"
                },
                "in_toks": 812,
                "out_toks": 24,
                "id": "chatcmpl-BgYiaeYdTwtKDOSyLrB8KZMX2GT80",
                "created": 1749482932,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select objects with probability > 0.5 of being a Long Period Variable in the lc_classifier_periodic\nWITH lpv_objects AS\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'LPV'\n     AND p.classifier_name = 'lc_classifier_periodic'\n     AND p.ranking = 1\n     AND p.probability > 0.5\n   LIMIT 100) -- Retrieve all columns from probability, xmatch, and allwise tables for these objects\n\nSELECT p.*,\n       x.*,\n       a.*\nFROM probability p\nJOIN xmatch x ON p.oid = x.oid\nJOIN allwise a ON x.oid_catalog = a.oid_catalog\nWHERE p.oid IN\n    (SELECT oid\n     FROM lpv_objects)\n  AND a.w1mpro BETWEEN 7 AND 8;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select objects with probability > 0.5 of being a Long Period Variable in the lc_classifier_periodic\nWITH lpv_objects AS\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name = 'LPV'\n     AND p.classifier_name = 'lc_classifier_periodic'\n     AND p.ranking = 1\n     AND p.probability > 0.5\n   LIMIT 100) -- Retrieve all columns from probability, xmatch, and allwise tables for these objects\n\nSELECT p.*,\n       x.*,\n       a.*\nFROM probability p\nJOIN xmatch x ON p.oid = x.oid\nJOIN allwise a ON x.oid_catalog = a.oid_catalog\nWHERE p.oid IN\n    (SELECT oid\n     FROM lpv_objects)\n  AND a.w1mpro BETWEEN 7 AND 8;"
                },
                "in_toks": 2477,
                "out_toks": 178,
                "id": "chatcmpl-BgYibNvZFbRArJHXK3EDM2Ezvm7FQ",
                "created": 1749482933,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 101,
            "experiment_id": "run_1",
            "pred_tables": [
                "probability",
                "xmatch",
                "allwise"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['probability', 'xmatch', 'allwise']",
                    "1": "['probability', 'xmatch', 'allwise']"
                },
                "in_toks": 812,
                "out_toks": 24,
                "id": "chatcmpl-BgYiaeYdTwtKDOSyLrB8KZMX2GT80",
                "created": 1749482932,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve objects with probability > 0.5 of being a Long Period Variable in the lc_classifier_periodic class\n-- and WISE W1 magnitude between 7 and 8, limited to 100 results\n\nSELECT p.*,\n       x.*,\n       a.*\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'lc_classifier_periodic'\n     AND class_name = 'LPV'\n     AND probability > 0.5\n   LIMIT 100) p -- Get matching objects from xmatch table\nJOIN\n  (SELECT *\n   FROM xmatch) x ON p.oid = x.oid -- Get WISE data for matched objects\nJOIN\n  (SELECT *\n   FROM allwise\n   WHERE w1mpro BETWEEN 7 AND 8 ) a ON x.oid_catalog = a.oid_catalog;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve objects with probability > 0.5 of being a Long Period Variable in the lc_classifier_periodic class\n-- and WISE W1 magnitude between 7 and 8, limited to 100 results\n\nSELECT p.*,\n       x.*,\n       a.*\nFROM\n  (SELECT *\n   FROM probability\n   WHERE classifier_name = 'lc_classifier_periodic'\n     AND class_name = 'LPV'\n     AND probability > 0.5\n   LIMIT 100) p -- Get matching objects from xmatch table\nJOIN\n  (SELECT *\n   FROM xmatch) x ON p.oid = x.oid -- Get WISE data for matched objects\nJOIN\n  (SELECT *\n   FROM allwise\n   WHERE w1mpro BETWEEN 7 AND 8 ) a ON x.oid_catalog = a.oid_catalog;"
                },
                "in_toks": 2477,
                "out_toks": 169,
                "id": "chatcmpl-BgYieYdNHnMxExfgak4oC6mZbv60P",
                "created": 1749482936,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "88": {
        "0": {
            "req_id": 88,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "stamp",
                "pipeline"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'stamp', 'pipeline']",
                    "1": "['object', 'probability', 'detection', 'stamp', 'pipeline']"
                },
                "in_toks": 803,
                "out_toks": 34,
                "id": "chatcmpl-BgYigvJKmmAfLdmIjBxeYhT98Z2Ez",
                "created": 1749482938,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select objects with 'bogus' class as ranking 1 in the stamp_classifier\nWITH stamp_bogus AS\n  (SELECT p.oid,\n          p.probability,\n          p.class_name,\n          p.classifier_version\n   FROM probability p\n   WHERE p.classifier_name = 'stamp_classifier'\n     AND p.ranking = 1\n     AND p.class_name = 'bogus' ),\n     objects_with_detections AS\n  (SELECT o.oid,\n          o.ndet,\n          o.meanra,\n          o.meandec,\n          sb.classifier_version,\n          sb.probability\n   FROM OBJECT o\n   JOIN stamp_bogus sb ON o.oid = sb.oid\n   WHERE o.ndet >= 20 )\nSELECT oid,\n       ndet,\n       meanra,\n       meandec,\n       classifier_version,\n       probability\nFROM objects_with_detections\nLIMIT 50;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select objects with 'bogus' class as ranking 1 in the stamp_classifier\nWITH stamp_bogus AS\n  (SELECT p.oid,\n          p.probability,\n          p.class_name,\n          p.classifier_version\n   FROM probability p\n   WHERE p.classifier_name = 'stamp_classifier'\n     AND p.ranking = 1\n     AND p.class_name = 'bogus' ),\n     objects_with_detections AS\n  (SELECT o.oid,\n          o.ndet,\n          o.meanra,\n          o.meandec,\n          sb.classifier_version,\n          sb.probability\n   FROM OBJECT o\n   JOIN stamp_bogus sb ON o.oid = sb.oid\n   WHERE o.ndet >= 20 )\nSELECT oid,\n       ndet,\n       meanra,\n       meandec,\n       classifier_version,\n       probability\nFROM objects_with_detections\nLIMIT 50;"
                },
                "in_toks": 2764,
                "out_toks": 188,
                "id": "chatcmpl-BgYigLD32Vk9aErXCmPpCknR75Pab",
                "created": 1749482938,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 88,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "detection",
                "stamp",
                "pipeline"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'detection', 'stamp', 'pipeline']",
                    "1": "['object', 'probability', 'detection', 'stamp', 'pipeline']"
                },
                "in_toks": 803,
                "out_toks": 34,
                "id": "chatcmpl-BgYigvJKmmAfLdmIjBxeYhT98Z2Ez",
                "created": 1749482938,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper references and structure\n-- Select ZTF objects with 'bogus' class as ranking 1 in the stamp_classifier and at least 20 detections\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       o.meanra,\n       o.meandec,\n       p.classifier_version,\n       p.probability\nFROM OBJECT o -- Join with probability table to filter objects with 'bogus' class at ranking 1\nJOIN probability p ON o.oid = p.oid -- Filter for 'bogus' class, classifier 'stamp_classifier', and ranking 1\n\nWHERE p.class_name = 'bogus'\n  AND p.classifier_name = 'stamp_classifier'\n  AND p.ranking = 1 -- Ensure the probability is not null (i.e., the class exists at ranking 1)\n\n  AND p.probability IS NOT NULL -- Filter objects with at least 20 detections\n\n  AND o.ndet >= 20 -- Limit the results to 50 rows\nLIMIT 50;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper references and structure\n-- Select ZTF objects with 'bogus' class as ranking 1 in the stamp_classifier and at least 20 detections\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       o.meanra,\n       o.meandec,\n       p.classifier_version,\n       p.probability\nFROM OBJECT o -- Join with probability table to filter objects with 'bogus' class at ranking 1\nJOIN probability p ON o.oid = p.oid -- Filter for 'bogus' class, classifier 'stamp_classifier', and ranking 1\n\nWHERE p.class_name = 'bogus'\n  AND p.classifier_name = 'stamp_classifier'\n  AND p.ranking = 1 -- Ensure the probability is not null (i.e., the class exists at ranking 1)\n\n  AND p.probability IS NOT NULL -- Filter objects with at least 20 detections\n\n  AND o.ndet >= 20 -- Limit the results to 50 rows\nLIMIT 50;"
                },
                "in_toks": 2170,
                "out_toks": 236,
                "id": "chatcmpl-BgZYDJ2duSZ60ajEimK7uPjmz1j5o",
                "created": 1749486133,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select objects with 'bogus' class as ranking 1 in the stamp_classifier and at least 20 detections\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       o.meanra,\n       o.meandec,\n       p.classifier_version,\n       p.probability\nFROM OBJECT o\nWHERE -- Ensure the object has 'bogus' as the top class in stamp_classifier\n\n    (SELECT ranking\n     FROM probability\n     WHERE oid = o.oid\n       AND class_name = 'bogus'\n       AND classifier_name = 'stamp_classifier'\n       AND classifier_version = p.classifier_version) = 1\n  AND o.ndet >= 20\n  AND -- Subquery to get the probability for 'bogus' class at ranking 1\n\n    (SELECT probability\n     FROM probability\n     WHERE oid = o.oid\n       AND class_name = 'bogus'\n       AND classifier_name = 'stamp_classifier'\n       AND classifier_version = p.classifier_version\n       AND ranking = 1) IS NOT NULL\nLIMIT 50;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select objects with 'bogus' class as ranking 1 in the stamp_classifier and at least 20 detections\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       o.meanra,\n       o.meandec,\n       p.classifier_version,\n       p.probability\nFROM OBJECT o\nWHERE -- Ensure the object has 'bogus' as the top class in stamp_classifier\n\n    (SELECT ranking\n     FROM probability\n     WHERE oid = o.oid\n       AND class_name = 'bogus'\n       AND classifier_name = 'stamp_classifier'\n       AND classifier_version = p.classifier_version) = 1\n  AND o.ndet >= 20\n  AND -- Subquery to get the probability for 'bogus' class at ranking 1\n\n    (SELECT probability\n     FROM probability\n     WHERE oid = o.oid\n       AND class_name = 'bogus'\n       AND classifier_name = 'stamp_classifier'\n       AND classifier_version = p.classifier_version\n       AND ranking = 1) IS NOT NULL\nLIMIT 50;"
                },
                "in_toks": 2764,
                "out_toks": 224,
                "id": "chatcmpl-BgYijvZLG5Kmm2TZBWj1a5wjWaEuR",
                "created": 1749482941,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "70": {
        "0": {
            "req_id": 70,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "reference"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'reference']",
                    "1": "['object', 'reference']"
                },
                "in_toks": 762,
                "out_toks": 12,
                "id": "chatcmpl-BgYimMrDIrjyIT9j9iNyVskNojY8z",
                "created": 1749482944,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all information for the specified object in the 'reference' table\n\nSELECT *\nFROM reference\nWHERE oid = 'ZTF22aayjqah';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all information for the specified object in the 'reference' table\n\nSELECT *\nFROM reference\nWHERE oid = 'ZTF22aayjqah';"
                },
                "in_toks": 2279,
                "out_toks": 35,
                "id": "chatcmpl-BgYinSTO7mDC2Tzfuduxj5iXQ4Hl3",
                "created": 1749482945,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 70,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "reference"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'reference']",
                    "1": "['object', 'reference']"
                },
                "in_toks": 762,
                "out_toks": 12,
                "id": "chatcmpl-BgYimMrDIrjyIT9j9iNyVskNojY8z",
                "created": 1749482944,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all information for the specified object in the 'reference' table\n\nSELECT *\nFROM reference\nWHERE oid = 'ZTF22aayjqah';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all information for the specified object in the 'reference' table\n\nSELECT *\nFROM reference\nWHERE oid = 'ZTF22aayjqah';"
                },
                "in_toks": 2279,
                "out_toks": 35,
                "id": "chatcmpl-BgYiohBE5LErsldqovFp3siKX6OwO",
                "created": 1749482946,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "53": {
        "0": {
            "req_id": 53,
            "experiment_id": "run_0",
            "pred_tables": [
                "non_detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['non_detection']",
                    "1": "['non_detection']"
                },
                "in_toks": 773,
                "out_toks": 8,
                "id": "chatcmpl-BgYipeW9Kse8KMKBXLQLS953817Ex",
                "created": 1749482947,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve date, filter identifier, ZTF identifier, and 5-sigma magnitude limit for all non-detections of the specified object\n\nSELECT nd.mjd AS date,\n       nd.fid AS filter_id,\n       nd.oid AS ztf_id,\n       nd.diffmaglim AS mag_limit\nFROM non_detection nd\nWHERE nd.oid = 'ZTF18adqxemz';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve date, filter identifier, ZTF identifier, and 5-sigma magnitude limit for all non-detections of the specified object\n\nSELECT nd.mjd AS date,\n       nd.fid AS filter_id,\n       nd.oid AS ztf_id,\n       nd.diffmaglim AS mag_limit\nFROM non_detection nd\nWHERE nd.oid = 'ZTF18adqxemz';"
                },
                "in_toks": 1560,
                "out_toks": 91,
                "id": "chatcmpl-BgYipxxR61T2iLUhdsczU4rCsXpVp",
                "created": 1749482947,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 53,
            "experiment_id": "run_1",
            "pred_tables": [
                "non_detection"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['non_detection']",
                    "1": "['non_detection']"
                },
                "in_toks": 773,
                "out_toks": 8,
                "id": "chatcmpl-BgYipeW9Kse8KMKBXLQLS953817Ex",
                "created": 1749482947,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve date, filter identifier, ZTF identifier, and 5-sigma magnitude limit for all non-detections of the specified object\n\nSELECT nd.mjd AS date,\n       nd.fid AS filter_id,\n       o.oid AS ztf_id,\n       nd.diffmaglim AS mag_limit_5sigma\nFROM non_detection nd\nJOIN OBJECT o ON nd.oid = o.oid\nWHERE o.oid = 'ZTF18adqxemz';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve date, filter identifier, ZTF identifier, and 5-sigma magnitude limit for all non-detections of the specified object\n\nSELECT nd.mjd AS date,\n       nd.fid AS filter_id,\n       o.oid AS ztf_id,\n       nd.diffmaglim AS mag_limit_5sigma\nFROM non_detection nd\nJOIN OBJECT o ON nd.oid = o.oid\nWHERE o.oid = 'ZTF18adqxemz';"
                },
                "in_toks": 1560,
                "out_toks": 108,
                "id": "chatcmpl-BgYisnJDWsicy9Xxt9Bk6zP3Ix2xY",
                "created": 1749482950,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "77": {
        "0": {
            "req_id": 77,
            "experiment_id": "run_0",
            "pred_tables": [
                "ss_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['ss_ztf']",
                    "1": "['ss_ztf']"
                },
                "in_toks": 790,
                "out_toks": 12,
                "id": "chatcmpl-BgYiwJlgTfN9oZUwGuyVykdTTV5JX",
                "created": 1749482954,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all ZTF objects in 'ss_ztf' with zero distance from specified solar system identifiers\n\nSELECT *\nFROM ss_ztf\nWHERE ssdistnr = 0\n  AND candid IN (213673,\n                 49894)\nORDER BY ssnamenr,\n         candid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all ZTF objects in 'ss_ztf' with zero distance from specified solar system identifiers\n\nSELECT *\nFROM ss_ztf\nWHERE ssdistnr = 0\n  AND candid IN (213673,\n                 49894)\nORDER BY ssnamenr,\n         candid;"
                },
                "in_toks": 1621,
                "out_toks": 63,
                "id": "chatcmpl-BgYiwHffj5bgYpb0007Y6M7CwB7v6",
                "created": 1749482954,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 77,
            "experiment_id": "run_1",
            "pred_tables": [
                "ss_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['ss_ztf']",
                    "1": "['ss_ztf']"
                },
                "in_toks": 790,
                "out_toks": 12,
                "id": "chatcmpl-BgYiwJlgTfN9oZUwGuyVykdTTV5JX",
                "created": 1749482954,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all ZTF objects in 'ss_ztf' with zero distance from specified solar system identifiers\n\nSELECT *\nFROM ss_ztf\nWHERE ssdistnr = 0\n  AND candid IN (213673,\n                 49894)\nORDER BY ssnamenr,\n         candid;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all ZTF objects in 'ss_ztf' with zero distance from specified solar system identifiers\n\nSELECT *\nFROM ss_ztf\nWHERE ssdistnr = 0\n  AND candid IN (213673,\n                 49894)\nORDER BY ssnamenr,\n         candid;"
                },
                "in_toks": 1621,
                "out_toks": 63,
                "id": "chatcmpl-BgYixT2SvxXNk8SDG6ilrBsALu33D",
                "created": 1749482955,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "105": {
        "0": {
            "req_id": 105,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "ps1_ztf",
                "reference"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'ps1_ztf', 'reference']",
                    "1": "['object', 'probability', 'ps1_ztf']"
                },
                "in_toks": 886,
                "out_toks": 31,
                "id": "chatcmpl-BgYiyUKiOWeVDqrjy2BmoDlf8KDjT",
                "created": 1749482956,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table aliases and references, ensuring all tables are properly joined and referenced\n-- and the syntax is correct according to the provided schema\n\nSELECT o.oid AS ztf_object_id,\n       p.probability AS agn_probability,\n       p.class_name,\n       p.classifier_name,\n       p.ranking,\n       ps1.candid AS ps1_candidate,\n       ps1.sgscore1 AS ps1_star_galaxy_score,\n       ps1.distpsnr1 AS ps1_distance,\n       r.fid AS filter_id,\n       r.chinr AS chi_square,\n       r.sgmag1 AS sextractor_sgscore\nFROM -- Subquery to select objects with probability > 0.7 of being AGN in specified classifier\n\n  (SELECT o.oid\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.7\n          AND p.ranking = 1\n          AND p.classifier_version = 'hierarchical_rf_1.1.0' )\n   LIMIT 50) AS selected_objects\nJOIN OBJECT o ON o.oid = selected_objects.oid\nJOIN probability p ON p.oid = o.oid\nJOIN ps1_ztf ps1 ON ps1.oid = o.oid\nJOIN reference r ON r.oid = o.oid\nWHERE -- Distance to nearest PS1 source less than 2 arcsec\n ps1.distpsnr1 < 2\n  AND -- Difference between PS1 star/galaxy score and SExtractor score less than 0.5\n ABS(ps1.sgscore1 - r.sgmag1) < 0.5\nORDER BY p.probability DESC;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table aliases and references, ensuring all tables are properly joined and referenced\n-- and the syntax is correct according to the provided schema\n\nSELECT o.oid AS ztf_object_id,\n       p.probability AS agn_probability,\n       p.class_name,\n       p.classifier_name,\n       p.ranking,\n       ps1.candid AS ps1_candidate,\n       ps1.sgscore1 AS ps1_star_galaxy_score,\n       ps1.distpsnr1 AS ps1_distance,\n       r.fid AS filter_id,\n       r.chinr AS chi_square,\n       r.sgmag1 AS sextractor_sgscore\nFROM -- Subquery to select objects with probability > 0.7 of being AGN in specified classifier\n\n  (SELECT o.oid\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.7\n          AND p.ranking = 1\n          AND p.classifier_version = 'hierarchical_rf_1.1.0' )\n   LIMIT 50) AS selected_objects\nJOIN OBJECT o ON o.oid = selected_objects.oid\nJOIN probability p ON p.oid = o.oid\nJOIN ps1_ztf ps1 ON ps1.oid = o.oid\nJOIN reference r ON r.oid = o.oid\nWHERE -- Distance to nearest PS1 source less than 2 arcsec\n ps1.distpsnr1 < 2\n  AND -- Difference between PS1 star/galaxy score and SExtractor score less than 0.5\n ABS(ps1.sgscore1 - r.sgmag1) < 0.5\nORDER BY p.probability DESC;"
                },
                "in_toks": 3041,
                "out_toks": 405,
                "id": "chatcmpl-BgZYHsqq5wNYIc3Rkktnm3YM39bLs",
                "created": 1749486137,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Find at most 50 ZTF objects with specified conditions\n\nSELECT o.oid AS ztf_object_id,\n       p.probability AS agn_probability,\n       p.class_name AS class_name,\n       p.classifier_name,\n       p.ranking,\n       ps1.candid AS ps1_candidate,\n       ps1.sgscore1 AS ps1_star_galaxy_score,\n       ps1.distpsnr1 AS ps1_distance,\n       r.fid AS filter_id,\n       r.chinr AS chi_square,\n       r.sgmag1 AS sextractor_sgscore\nFROM\n  (-- Subquery to select objects with probability > 0.7 of being AGN in specified classifier\n SELECT o.oid\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.7\n          AND p.ranking = 1\n          AND p.classifier_version = 'hierarchical_rf_1.1.0' )\n   LIMIT 50) AS selected_objects\nJOIN probability p ON p.oid = selected_objects.oid\nJOIN ps1_ztf ps1 ON ps1.oid = selected_objects.oid\nJOIN reference r ON r.oid = selected_objects.oid\nWHERE -- Distance to nearest PS1 source less than 2 arcsec\n ps1.distpsnr1 < 2\n  AND -- Difference between PS1 star/galaxy score and SExtractor score less than 0.5\n ABS(ps1.sgscore1 - r.sgscore1) < 0.5\nORDER BY p.probability DESC",
            "original_sql_response": {
                "responses": {
                    "0": "-- Find at most 50 ZTF objects with specified conditions\n\nSELECT o.oid AS ztf_object_id,\n       p.probability AS agn_probability,\n       p.class_name AS class_name,\n       p.classifier_name,\n       p.ranking,\n       ps1.candid AS ps1_candidate,\n       ps1.sgscore1 AS ps1_star_galaxy_score,\n       ps1.distpsnr1 AS ps1_distance,\n       r.fid AS filter_id,\n       r.chinr AS chi_square,\n       r.sgmag1 AS sextractor_sgscore\nFROM\n  (-- Subquery to select objects with probability > 0.7 of being AGN in specified classifier\n SELECT o.oid\n   FROM OBJECT o\n   WHERE EXISTS\n       (SELECT 1\n        FROM probability p\n        WHERE p.oid = o.oid\n          AND p.class_name = 'AGN'\n          AND p.classifier_name = 'lc_classifier'\n          AND p.probability > 0.7\n          AND p.ranking = 1\n          AND p.classifier_version = 'hierarchical_rf_1.1.0' )\n   LIMIT 50) AS selected_objects\nJOIN probability p ON p.oid = selected_objects.oid\nJOIN ps1_ztf ps1 ON ps1.oid = selected_objects.oid\nJOIN reference r ON r.oid = selected_objects.oid\nWHERE -- Distance to nearest PS1 source less than 2 arcsec\n ps1.distpsnr1 < 2\n  AND -- Difference between PS1 star/galaxy score and SExtractor score less than 0.5\n ABS(ps1.sgscore1 - r.sgscore1) < 0.5\nORDER BY p.probability DESC"
                },
                "in_toks": 3341,
                "out_toks": 379,
                "id": "chatcmpl-BgYizEX3tF4Wp9QVEAJn50QEKnTSb",
                "created": 1749482957,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 105,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "ps1_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'ps1_ztf', 'reference']",
                    "1": "['object', 'probability', 'ps1_ztf']"
                },
                "in_toks": 886,
                "out_toks": 31,
                "id": "chatcmpl-BgYiyUKiOWeVDqrjy2BmoDlf8KDjT",
                "created": 1749482956,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query based on provided schema and user conditions\n-- Focus on using only existing columns and tables, and ensuring conditions are properly applied\n\nSELECT o.oid AS ztf_identifier,\n       p.probability AS agn_probability, -- Aggregate epoch data: candidate, filter, chi2, sgscore\n\n  (SELECT jsonb_agg(jsonb_build_object('candidate', d.candid, 'filter', d.filterid, 'chi2', d.chi2, 'sgscore', d.sgscore))\n   FROM detection d\n   WHERE d.oid = o.oid ) AS epoch_data, -- Nearest PS1 source info\n\n  (SELECT jsonb_build_object('ps1_id', ps1.objectidps1, 'sgscore', ps1.sgscore1, 'distance_arcsec', ps1.distpsnr1)\n   FROM ps1_ztf ps1\n   WHERE ps1.oid = o.oid\n   ORDER BY ps1.distpsnr1\n   LIMIT 1) AS nearest_ps1_source\nFROM OBJECT o\nJOIN probability p ON o.oid = p.oid\nWHERE p.class_name = 'AGN'\n  AND p.classifier_name = 'lc_classifier'\n  AND p.classifier_version = 'hierarchical_rf_1.1.0'\n  AND p.probability > 0.7 -- Distance to nearest PS1 source less than 2 arcsec\n\n  AND\n    (SELECT MIN(distpsnr1)\n     FROM ps1_ztf ps1\n     WHERE ps1.oid = o.oid ) < 2 -- Difference between PS1 sgscore and star/galaxy score from object\n\n  AND (ABS(\n             (SELECT sgscore1\n              FROM ps1_ztf ps1\n              WHERE ps1.oid = o.oid\n              ORDER BY distpsnr1\n              LIMIT 1) - CASE\n                             WHEN o.stellar THEN 1\n                             ELSE 0\n                         END) < 0.5 )-- Limit to 50 objects\nLIMIT 50;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query based on provided schema and user conditions\n-- Focus on using only existing columns and tables, and ensuring conditions are properly applied\n\nSELECT o.oid AS ztf_identifier,\n       p.probability AS agn_probability, -- Aggregate epoch data: candidate, filter, chi2, sgscore\n\n  (SELECT jsonb_agg(jsonb_build_object('candidate', d.candid, 'filter', d.filterid, 'chi2', d.chi2, 'sgscore', d.sgscore))\n   FROM detection d\n   WHERE d.oid = o.oid ) AS epoch_data, -- Nearest PS1 source info\n\n  (SELECT jsonb_build_object('ps1_id', ps1.objectidps1, 'sgscore', ps1.sgscore1, 'distance_arcsec', ps1.distpsnr1)\n   FROM ps1_ztf ps1\n   WHERE ps1.oid = o.oid\n   ORDER BY ps1.distpsnr1\n   LIMIT 1) AS nearest_ps1_source\nFROM OBJECT o\nJOIN probability p ON o.oid = p.oid\nWHERE p.class_name = 'AGN'\n  AND p.classifier_name = 'lc_classifier'\n  AND p.classifier_version = 'hierarchical_rf_1.1.0'\n  AND p.probability > 0.7 -- Distance to nearest PS1 source less than 2 arcsec\n\n  AND\n    (SELECT MIN(distpsnr1)\n     FROM ps1_ztf ps1\n     WHERE ps1.oid = o.oid ) < 2 -- Difference between PS1 sgscore and star/galaxy score from object\n\n  AND (ABS(\n             (SELECT sgscore1\n              FROM ps1_ztf ps1\n              WHERE ps1.oid = o.oid\n              ORDER BY distpsnr1\n              LIMIT 1) - CASE\n                             WHEN o.stellar THEN 1\n                             ELSE 0\n                         END) < 0.5 )-- Limit to 50 objects\nLIMIT 50;"
                },
                "in_toks": 2982,
                "out_toks": 464,
                "id": "chatcmpl-BgZYOXp2itruoQqprdPlbfYMSjxPe",
                "created": 1749486144,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select at most 50 objects with specified conditions\n\nSELECT o.oid AS ztf_identifier,\n       p.probability AS agn_probability, -- Subquery to get epoch data: candidate, filter, chi2, sgscore\n\n  (SELECT jsonb_agg(jsonb_build_object('candidate', ps1.candid, 'filter', ps1.objectidps1, 'chi2', ps1.sigmara, -- assuming reduced chi-square is stored in sigmara or similar; adjust if needed\n 'sgscore', ps1.sgscore1))\n   FROM ps1_ztf ps1\n   WHERE ps1.oid = o.oid ) AS epoch_data, -- Nearest PS1 source info\n\n  (SELECT jsonb_build_object('ps1_id', ps1.objectidps1, 'sgscore', ps1.sgscore1, 'distance_arcsec', ps1.distpsnr1)\n   FROM ps1_ztf ps1\n   WHERE ps1.oid = o.oid\n   ORDER BY ps1.distpsnr1\n   LIMIT 1) AS nearest_ps1_source\nFROM OBJECT o\nJOIN probability p ON o.oid = p.oid\nWHERE p.class_name = 'AGN'\n  AND p.classifier_name = 'lc_classifier'\n  AND p.classifier_version = 'hierarchical_rf_1.1.0'\n  AND p.probability > 0.7\n  AND (-- Distance to nearest PS1 source less than 2 arcsec\n\n         (SELECT MIN(distpsnr1)\n          FROM ps1_ztf ps1\n          WHERE ps1.oid = o.oid) < 2)\n  AND (-- Difference in star/galaxy score from PS1 and SExtractor less than 0.5\n ABS(\n       (SELECT sgscore1\n        FROM ps1_ztf ps1\n        WHERE ps1.oid = o.oid\n        ORDER BY distpsnr1\n        LIMIT 1) - (CASE\n                        WHEN o.stellar THEN 1\n                        ELSE 0\n                    END) -- assuming stellar boolean indicates star/galaxy; adjust if needed\n ) < 0.5)\nLIMIT 50;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select at most 50 objects with specified conditions\n\nSELECT o.oid AS ztf_identifier,\n       p.probability AS agn_probability, -- Subquery to get epoch data: candidate, filter, chi2, sgscore\n\n  (SELECT jsonb_agg(jsonb_build_object('candidate', ps1.candid, 'filter', ps1.objectidps1, 'chi2', ps1.sigmara, -- assuming reduced chi-square is stored in sigmara or similar; adjust if needed\n 'sgscore', ps1.sgscore1))\n   FROM ps1_ztf ps1\n   WHERE ps1.oid = o.oid ) AS epoch_data, -- Nearest PS1 source info\n\n  (SELECT jsonb_build_object('ps1_id', ps1.objectidps1, 'sgscore', ps1.sgscore1, 'distance_arcsec', ps1.distpsnr1)\n   FROM ps1_ztf ps1\n   WHERE ps1.oid = o.oid\n   ORDER BY ps1.distpsnr1\n   LIMIT 1) AS nearest_ps1_source\nFROM OBJECT o\nJOIN probability p ON o.oid = p.oid\nWHERE p.class_name = 'AGN'\n  AND p.classifier_name = 'lc_classifier'\n  AND p.classifier_version = 'hierarchical_rf_1.1.0'\n  AND p.probability > 0.7\n  AND (-- Distance to nearest PS1 source less than 2 arcsec\n\n         (SELECT MIN(distpsnr1)\n          FROM ps1_ztf ps1\n          WHERE ps1.oid = o.oid) < 2)\n  AND (-- Difference in star/galaxy score from PS1 and SExtractor less than 0.5\n ABS(\n       (SELECT sgscore1\n        FROM ps1_ztf ps1\n        WHERE ps1.oid = o.oid\n        ORDER BY distpsnr1\n        LIMIT 1) - (CASE\n                        WHEN o.stellar THEN 1\n                        ELSE 0\n                    END) -- assuming stellar boolean indicates star/galaxy; adjust if needed\n ) < 0.5)\nLIMIT 50;"
                },
                "in_toks": 2975,
                "out_toks": 479,
                "id": "chatcmpl-BgYj4YlZcExsRwEM5PK5IuKNdTmN1",
                "created": 1749482962,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "86": {
        "0": {
            "req_id": 86,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability",
                "ps1_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'ps1_ztf']",
                    "1": "['object', 'probability', 'ps1_ztf']"
                },
                "in_toks": 835,
                "out_toks": 28,
                "id": "chatcmpl-BgYjCaInI2Jxyy8sH0nqxJBeDWs6v",
                "created": 1749482970,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select objects with probability > 0.6 for Cepheid, DSCT, or RRL in the specified classifier\nWITH selected_objects AS\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name IN ('CEP',\n                          'DSCT',\n                          'RRL')\n     AND p.classifier_name = 'lc_classifier'\n     AND p.classifier_version = 'hierarchical_rf_1.1.0'\n     AND p.probability > 0.6 ), -- Retrieve objects with closest PS1 star/galaxy score > 0.8\nps1_filtered AS\n  (SELECT *\n   FROM ps1_ztf\n   WHERE sgscore1 > 0.8\n     OR sgscore2 > 0.8\n     OR sgscore3 > 0.8 ) -- Final selection joining both conditions\n\nSELECT p.*,\n       ps1.*\nFROM probability p\nJOIN selected_objects so ON p.oid = so.oid\nJOIN ps1_filtered ps1 ON p.oid = ps1.oid\nLIMIT 100;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select objects with probability > 0.6 for Cepheid, DSCT, or RRL in the specified classifier\nWITH selected_objects AS\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name IN ('CEP',\n                          'DSCT',\n                          'RRL')\n     AND p.classifier_name = 'lc_classifier'\n     AND p.classifier_version = 'hierarchical_rf_1.1.0'\n     AND p.probability > 0.6 ), -- Retrieve objects with closest PS1 star/galaxy score > 0.8\nps1_filtered AS\n  (SELECT *\n   FROM ps1_ztf\n   WHERE sgscore1 > 0.8\n     OR sgscore2 > 0.8\n     OR sgscore3 > 0.8 ) -- Final selection joining both conditions\n\nSELECT p.*,\n       ps1.*\nFROM probability p\nJOIN selected_objects so ON p.oid = so.oid\nJOIN ps1_filtered ps1 ON p.oid = ps1.oid\nLIMIT 100;"
                },
                "in_toks": 2924,
                "out_toks": 217,
                "id": "chatcmpl-BgYjDRpXZgGvClBX786nGcYWvzfKF",
                "created": 1749482971,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 86,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability",
                "ps1_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability', 'ps1_ztf']",
                    "1": "['object', 'probability', 'ps1_ztf']"
                },
                "in_toks": 835,
                "out_toks": 28,
                "id": "chatcmpl-BgYjCaInI2Jxyy8sH0nqxJBeDWs6v",
                "created": 1749482970,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Optimized query with nested subqueries to reduce the dataset early and avoid timeout\nWITH selected_objects AS\n  (-- Select objects with probability > 0.6 for Cepheid, DSCT, or RRL, classifier version specified\n SELECT p.oid\n   FROM probability p\n   WHERE p.class_name IN ('CEP',\n                          'DSCT',\n                          'RRL')\n     AND p.classifier_name = 'lc_classifier'\n     AND p.classifier_version = 'hierarchical_rf_1.1.0'\n     AND p.probability > 0.6\n     AND p.ranking = 1 -- Ensure selecting the top-ranked class per object\n\n   GROUP BY p.oid),\n     ps1_filtered AS\n  (-- Select closest PS1 objects with star/galaxy score > 0.8\n SELECT p.oid,\n        p.candid,\n        p.sgscore1,\n        p.distpsnr1\n   FROM ps1_ztf p\n   WHERE p.sgscore1 > 0.8 ) -- Final join of objects with their probabilities and closest PS1 info, limited to 100 results\n\nSELECT p.*,\n       ps.*\nFROM probability p\nJOIN selected_objects so ON p.oid = so.oid\nJOIN ps1_filtered ps ON p.oid = ps.oid\nWHERE p.ranking = 1 -- To ensure we are considering the highest probability class per object\nLIMIT 100;",
            "sql_response": {
                "responses": {
                    "0": "-- Optimized query with nested subqueries to reduce the dataset early and avoid timeout\nWITH selected_objects AS\n  (-- Select objects with probability > 0.6 for Cepheid, DSCT, or RRL, classifier version specified\n SELECT p.oid\n   FROM probability p\n   WHERE p.class_name IN ('CEP',\n                          'DSCT',\n                          'RRL')\n     AND p.classifier_name = 'lc_classifier'\n     AND p.classifier_version = 'hierarchical_rf_1.1.0'\n     AND p.probability > 0.6\n     AND p.ranking = 1 -- Ensure selecting the top-ranked class per object\n\n   GROUP BY p.oid),\n     ps1_filtered AS\n  (-- Select closest PS1 objects with star/galaxy score > 0.8\n SELECT p.oid,\n        p.candid,\n        p.sgscore1,\n        p.distpsnr1\n   FROM ps1_ztf p\n   WHERE p.sgscore1 > 0.8 ) -- Final join of objects with their probabilities and closest PS1 info, limited to 100 results\n\nSELECT p.*,\n       ps.*\nFROM probability p\nJOIN selected_objects so ON p.oid = so.oid\nJOIN ps1_filtered ps ON p.oid = ps.oid\nWHERE p.ranking = 1 -- To ensure we are considering the highest probability class per object\nLIMIT 100;"
                },
                "in_toks": 2391,
                "out_toks": 290,
                "id": "chatcmpl-BgZYV45TUrOz4uh5FigqgOsNq9HRo",
                "created": 1749486151,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Select objects with probability > 0.6 for Cepheid, DSCT, or RRL in the specified classifier\nWITH selected_objects AS\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name IN ('CEP',\n                          'DSCT',\n                          'RRL')\n     AND p.classifier_name = 'lc_classifier'\n     AND p.classifier_version = 'hierarchical_rf_1.1.0'\n     AND p.probability > 0.6\n   GROUP BY p.oid), -- Retrieve the closest PS1 objects with star/galaxy score > 0.8\nps1_filtered AS\n  (SELECT p.oid,\n          p.candid,\n          p.sgscore1,\n          p.distpsnr1\n   FROM ps1_ztf p\n   WHERE p.sgscore1 > 0.8 ) -- Final selection joining the object OID with probability and PS1 info\n\nSELECT p.*,\n       ps.*\nFROM probability p\nJOIN selected_objects so ON p.oid = so.oid\nJOIN ps1_filtered ps ON p.oid = ps.oid\nLIMIT 100;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Select objects with probability > 0.6 for Cepheid, DSCT, or RRL in the specified classifier\nWITH selected_objects AS\n  (SELECT p.oid\n   FROM probability p\n   WHERE p.class_name IN ('CEP',\n                          'DSCT',\n                          'RRL')\n     AND p.classifier_name = 'lc_classifier'\n     AND p.classifier_version = 'hierarchical_rf_1.1.0'\n     AND p.probability > 0.6\n   GROUP BY p.oid), -- Retrieve the closest PS1 objects with star/galaxy score > 0.8\nps1_filtered AS\n  (SELECT p.oid,\n          p.candid,\n          p.sgscore1,\n          p.distpsnr1\n   FROM ps1_ztf p\n   WHERE p.sgscore1 > 0.8 ) -- Final selection joining the object OID with probability and PS1 info\n\nSELECT p.*,\n       ps.*\nFROM probability p\nJOIN selected_objects so ON p.oid = so.oid\nJOIN ps1_filtered ps ON p.oid = ps.oid\nLIMIT 100;"
                },
                "in_toks": 2924,
                "out_toks": 233,
                "id": "chatcmpl-BgYjGMaJrvly44BPP0p2ufWpBriqV",
                "created": 1749482974,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "41": {
        "0": {
            "req_id": 41,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "xmatch",
                "allwise"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'xmatch', 'allwise']",
                    "1": "['object', 'xmatch', 'allwise']"
                },
                "in_toks": 888,
                "out_toks": 22,
                "id": "chatcmpl-BgYjJmVDv8vn3EYzswBKE9UzFTM1b",
                "created": 1749482977,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve ALLWISE objects within 5 arcsec of object id_1\nWITH nearby_allwise_id1 AS\n  (SELECT 'id_1' AS id,\n          132.961 AS ra,\n          41.397 AS dec,\n          5.0 / 3600.0 AS r_deg -- convert arcsec to degrees\n\n   UNION ALL SELECT 'id_2' AS id,\n                    139.01 AS ra,\n                    41.5653 AS dec,\n                    10.0 / 3600.0 AS r_deg -- convert arcsec to degrees\n),\n     matched_allwise AS\n  (SELECT a.oid_catalog,\n          a.ra,\n          a.dec,\n          a.w1mpro,\n          a.w1sigmpro\n   FROM allwise a\n   JOIN nearby_allwise_id1 n ON q3c_radial_query(a.ra, a.dec, n.ra, n.dec, n.r_deg))\nSELECT n.id AS identifier,\n       n.ra AS obj_ra,\n       n.dec AS obj_dec,\n       n.r_deg AS radius_deg,\n       ma.oid_catalog AS allwise_catalog,\n       ma.ra AS allwise_ra,\n       ma.dec AS allwise_dec,\n       ma.w1mpro AS w1_magnitude,\n       ma.w1sigmpro AS w1_magnitude_uncertainty\nFROM nearby_allwise_id1 n\nLEFT JOIN matched_allwise ma ON q3c_radial_query(ma.ra, ma.dec, n.ra, n.dec, n.r_deg);",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve ALLWISE objects within 5 arcsec of object id_1\nWITH nearby_allwise_id1 AS\n  (SELECT 'id_1' AS id,\n          132.961 AS ra,\n          41.397 AS dec,\n          5.0 / 3600.0 AS r_deg -- convert arcsec to degrees\n\n   UNION ALL SELECT 'id_2' AS id,\n                    139.01 AS ra,\n                    41.5653 AS dec,\n                    10.0 / 3600.0 AS r_deg -- convert arcsec to degrees\n),\n     matched_allwise AS\n  (SELECT a.oid_catalog,\n          a.ra,\n          a.dec,\n          a.w1mpro,\n          a.w1sigmpro\n   FROM allwise a\n   JOIN nearby_allwise_id1 n ON q3c_radial_query(a.ra, a.dec, n.ra, n.dec, n.r_deg))\nSELECT n.id AS identifier,\n       n.ra AS obj_ra,\n       n.dec AS obj_dec,\n       n.r_deg AS radius_deg,\n       ma.oid_catalog AS allwise_catalog,\n       ma.ra AS allwise_ra,\n       ma.dec AS allwise_dec,\n       ma.w1mpro AS w1_magnitude,\n       ma.w1sigmpro AS w1_magnitude_uncertainty\nFROM nearby_allwise_id1 n\nLEFT JOIN matched_allwise ma ON q3c_radial_query(ma.ra, ma.dec, n.ra, n.dec, n.r_deg);"
                },
                "in_toks": 2851,
                "out_toks": 343,
                "id": "chatcmpl-BgYjK0Xie006DS199oZbFimPTlFA6",
                "created": 1749482978,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 41,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "xmatch",
                "allwise"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'xmatch', 'allwise']",
                    "1": "['object', 'xmatch', 'allwise']"
                },
                "in_toks": 888,
                "out_toks": 22,
                "id": "chatcmpl-BgYjJmVDv8vn3EYzswBKE9UzFTM1b",
                "created": 1749482977,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve ALLWISE objects within 5 arcsec of object id_1\nWITH nearby_allwise_id_1 AS\n  (SELECT 'id_1' AS id,\n          ra AS obj_ra,\n          dec AS obj_dec,\n          q3c_join(ra, dec, 132.961, 41.397, 5.0/3600.0) AS within_radius,\n          5.0/3600.0 AS r_deg\n   FROM allwise\n   WHERE q3c_join(ra, dec, 132.961, 41.397, 5.0/3600.0) ), -- Retrieve ALLWISE objects within 10 arcsec of object id_2\nnearby_allwise_id_2 AS\n  (SELECT 'id_2' AS id,\n          ra AS obj_ra,\n          dec AS obj_dec,\n          q3c_join(ra, dec, 139.01, 41.5653, 10.0/3600.0) AS within_radius,\n          10.0/3600.0 AS r_deg\n   FROM allwise\n   WHERE q3c_join(ra, dec, 139.01, 41.5653, 10.0/3600.0) ), -- Combine the two sets of nearby objects\ncombined AS\n  (SELECT *\n   FROM nearby_allwise_id_1\n   WHERE within_radius\n   UNION SELECT *\n   FROM nearby_allwise_id_2\n   WHERE within_radius ) -- Select desired columns from combined results\n\nSELECT combined.id,\n       combined.obj_ra,\n       combined.obj_dec,\n       a.oid_catalog,\n       a.ra AS allwise_ra,\n       a.dec AS allwise_dec,\n       a.w1mpro AS w1_magnitude,\n       a.w1sigmpro AS w1_uncertainty\nFROM combined\nJOIN allwise a ON a.oid_catalog IS NOT NULL\nWHERE (combined.id = 'id_1'\n       AND q3c_join(a.ra, a.dec, 132.961, 41.397, combined.r_deg))\n  OR (combined.id = 'id_2'\n      AND q3c_join(a.ra, a.dec, 139.01, 41.5653, combined.r_deg));",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve ALLWISE objects within 5 arcsec of object id_1\nWITH nearby_allwise_id_1 AS\n  (SELECT 'id_1' AS id,\n          ra AS obj_ra,\n          dec AS obj_dec,\n          q3c_join(ra, dec, 132.961, 41.397, 5.0/3600.0) AS within_radius,\n          5.0/3600.0 AS r_deg\n   FROM allwise\n   WHERE q3c_join(ra, dec, 132.961, 41.397, 5.0/3600.0) ), -- Retrieve ALLWISE objects within 10 arcsec of object id_2\nnearby_allwise_id_2 AS\n  (SELECT 'id_2' AS id,\n          ra AS obj_ra,\n          dec AS obj_dec,\n          q3c_join(ra, dec, 139.01, 41.5653, 10.0/3600.0) AS within_radius,\n          10.0/3600.0 AS r_deg\n   FROM allwise\n   WHERE q3c_join(ra, dec, 139.01, 41.5653, 10.0/3600.0) ), -- Combine the two sets of nearby objects\ncombined AS\n  (SELECT *\n   FROM nearby_allwise_id_1\n   WHERE within_radius\n   UNION SELECT *\n   FROM nearby_allwise_id_2\n   WHERE within_radius ) -- Select desired columns from combined results\n\nSELECT combined.id,\n       combined.obj_ra,\n       combined.obj_dec,\n       a.oid_catalog,\n       a.ra AS allwise_ra,\n       a.dec AS allwise_dec,\n       a.w1mpro AS w1_magnitude,\n       a.w1sigmpro AS w1_uncertainty\nFROM combined\nJOIN allwise a ON a.oid_catalog IS NOT NULL\nWHERE (combined.id = 'id_1'\n       AND q3c_join(a.ra, a.dec, 132.961, 41.397, combined.r_deg))\n  OR (combined.id = 'id_2'\n      AND q3c_join(a.ra, a.dec, 139.01, 41.5653, combined.r_deg));"
                },
                "in_toks": 2851,
                "out_toks": 482,
                "id": "chatcmpl-BgYjPPOLZO7nO58dDN6TwiCcfWy82",
                "created": 1749482983,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "74": {
        "0": {
            "req_id": 74,
            "experiment_id": "run_0",
            "pred_tables": [
                "ss_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['ss_ztf']",
                    "1": "['ss_ztf']"
                },
                "in_toks": 817,
                "out_toks": 12,
                "id": "chatcmpl-BgYjV1v9SFXfMIYd2VvZTEa4ZOVWT",
                "created": 1749482989,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query based on provided schema and user request\n-- Objective: Find all MPC objects brighter than 19.2 mag in the MPC archive\n-- for specific ZTF objects, retrieving relevant columns and sorting by magnitude descending\n\nSELECT sztf.oid AS ztf_oid, -- ZTF object identifier\n ss.oid AS mpc_oid, -- MPC object identifier\n ss.ssmagnr AS mpc_magnitude -- MPC magnitude\nFROM ss_ztf AS sztf\nJOIN OBJECT AS ss ON ss.oid = sztf.oid -- Join with object table to get MPC data\n\nWHERE -- Filter for entries where the ssnamenr matches the specified ZTF objects\n -- and the candid corresponds to these objects\n sztf.candid IN\n    (SELECT candid\n     FROM ss_ztf\n     WHERE ssnamenr IN ('ZTF20abmaqeh',\n                        'ZTF18abwxduj',\n                        'ZTF19aactlln') ) -- Ensure the MPC object is brighter than magnitude 19.2\n\n  AND ss.ssmagnr < 19.2\nORDER BY ss.ssmagnr DESC; -- Sort by magnitude in descending order",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query based on provided schema and user request\n-- Objective: Find all MPC objects brighter than 19.2 mag in the MPC archive\n-- for specific ZTF objects, retrieving relevant columns and sorting by magnitude descending\n\nSELECT sztf.oid AS ztf_oid, -- ZTF object identifier\n ss.oid AS mpc_oid, -- MPC object identifier\n ss.ssmagnr AS mpc_magnitude -- MPC magnitude\nFROM ss_ztf AS sztf\nJOIN OBJECT AS ss ON ss.oid = sztf.oid -- Join with object table to get MPC data\n\nWHERE -- Filter for entries where the ssnamenr matches the specified ZTF objects\n -- and the candid corresponds to these objects\n sztf.candid IN\n    (SELECT candid\n     FROM ss_ztf\n     WHERE ssnamenr IN ('ZTF20abmaqeh',\n                        'ZTF18abwxduj',\n                        'ZTF19aactlln') ) -- Ensure the MPC object is brighter than magnitude 19.2\n\n  AND ss.ssmagnr < 19.2\nORDER BY ss.ssmagnr DESC; -- Sort by magnitude in descending order"
                },
                "in_toks": 1173,
                "out_toks": 263,
                "id": "chatcmpl-BgZYYfyDGb6UOVZnXL4uT7bpBmWtP",
                "created": 1749486154,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Find MPC objects brighter than 19.2 mag in the MPC archive for specific ZTF objects\n\nSELECT sztf.oid AS ztf_oid,\n       ss.oid AS mpc_oid,\n       ss.ssmagnr AS mpc_magnitude\nFROM ss_ztf AS sztf\nJOIN OBJECT AS ss ON ss.oid = sztf.oid\nWHERE sztf.candid IN\n    (SELECT candid\n     FROM ss_ztf\n     WHERE ssnamenr IN ('ZTF20abmaqeh',\n                        'ZTF18abwxduj',\n                        'ZTF19aactlln') )\n  AND ss.ssmagnr < 19.2\nORDER BY ss.ssmagnr DESC;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Find MPC objects brighter than 19.2 mag in the MPC archive for specific ZTF objects\n\nSELECT sztf.oid AS ztf_oid,\n       ss.oid AS mpc_oid,\n       ss.ssmagnr AS mpc_magnitude\nFROM ss_ztf AS sztf\nJOIN OBJECT AS ss ON ss.oid = sztf.oid\nWHERE sztf.candid IN\n    (SELECT candid\n     FROM ss_ztf\n     WHERE ssnamenr IN ('ZTF20abmaqeh',\n                        'ZTF18abwxduj',\n                        'ZTF19aactlln') )\n  AND ss.ssmagnr < 19.2\nORDER BY ss.ssmagnr DESC;"
                },
                "in_toks": 1660,
                "out_toks": 160,
                "id": "chatcmpl-BgYjVUBDMXDxrjtoc1ocN5kZgDO8N",
                "created": 1749482989,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 74,
            "experiment_id": "run_1",
            "pred_tables": [
                "ss_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['ss_ztf']",
                    "1": "['ss_ztf']"
                },
                "in_toks": 817,
                "out_toks": 12,
                "id": "chatcmpl-BgYjV1v9SFXfMIYd2VvZTEa4ZOVWT",
                "created": 1749482989,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query based on provided schema and user request\n-- The main issue was referencing non-existent columns; using only the provided schema\n\nSELECT sstf.oid AS ztf_oid, -- ZTF object identifier\n sstf.candid, -- Candidate ID\n ss.ssnamenr AS mpc_identifier, -- MPC object identifier (name)\n ss.ssmagnr AS mpc_magnitude -- MPC magnitude\nFROM ss_ztf sstf\nJOIN OBJECT o ON sstf.oid = o.oid -- Join with object table to relate to MPC objects\nJOIN ss_ztf ss ON ss.oid = o.oid -- Join again to get MPC info for the same object\n\nWHERE sstf.oid IN ('ZTF20abmaqeh',\n                   'ZTF18abwxduj',\n                   'ZTF19aactlln') -- Filter for specific ZTF objects\n\n  AND ss.ssmagnr < 19.2 -- Brightness condition\nORDER BY ss.ssmagnr DESC; -- Sort by MPC magnitude descending",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query based on provided schema and user request\n-- The main issue was referencing non-existent columns; using only the provided schema\n\nSELECT sstf.oid AS ztf_oid, -- ZTF object identifier\n sstf.candid, -- Candidate ID\n ss.ssnamenr AS mpc_identifier, -- MPC object identifier (name)\n ss.ssmagnr AS mpc_magnitude -- MPC magnitude\nFROM ss_ztf sstf\nJOIN OBJECT o ON sstf.oid = o.oid -- Join with object table to relate to MPC objects\nJOIN ss_ztf ss ON ss.oid = o.oid -- Join again to get MPC info for the same object\n\nWHERE sstf.oid IN ('ZTF20abmaqeh',\n                   'ZTF18abwxduj',\n                   'ZTF19aactlln') -- Filter for specific ZTF objects\n\n  AND ss.ssmagnr < 19.2 -- Brightness condition\nORDER BY ss.ssmagnr DESC; -- Sort by MPC magnitude descending"
                },
                "in_toks": 1181,
                "out_toks": 242,
                "id": "chatcmpl-BgZYhlPwfD2niYYs4PUWm2ujFEneq",
                "created": 1749486163,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve MPC objects brighter than 19.2 mag associated with specific ZTF objects, sorted by MPC magnitude descending\n\nSELECT sstf.oid AS ztf_oid,\n       sstf.candid,\n       ss.namenr AS mpc_identifier,\n       ss.ssmagnr AS mpc_magnitude\nFROM ss_ztf sstf\nJOIN OBJECT o ON sstf.oid = o.oid\nJOIN ss_ztf ss ON ss.oid = o.oid\nWHERE sstf.namenr IN ('ZTF20abmaqeh',\n                      'ZTF18abwxduj',\n                      'ZTF19aactlln')\n  AND ss.ssmagnr < 19.2\nORDER BY ss.ssmagnr DESC;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve MPC objects brighter than 19.2 mag associated with specific ZTF objects, sorted by MPC magnitude descending\n\nSELECT sstf.oid AS ztf_oid,\n       sstf.candid,\n       ss.namenr AS mpc_identifier,\n       ss.ssmagnr AS mpc_magnitude\nFROM ss_ztf sstf\nJOIN OBJECT o ON sstf.oid = o.oid\nJOIN ss_ztf ss ON ss.oid = o.oid\nWHERE sstf.namenr IN ('ZTF20abmaqeh',\n                      'ZTF18abwxduj',\n                      'ZTF19aactlln')\n  AND ss.ssmagnr < 19.2\nORDER BY ss.ssmagnr DESC;"
                },
                "in_toks": 1660,
                "out_toks": 170,
                "id": "chatcmpl-BgYjXCnTStZx3IJ8Oq4BZF8dCx7po",
                "created": 1749482991,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "97": {
        "0": {
            "req_id": 97,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 842,
                "out_toks": 14,
                "id": "chatcmpl-BgYjav5T0eJ4dBrT1Og5BT7HlSxk7",
                "created": 1749482994,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve up to 50 ZTF objects with specified classification probabilities\n\nSELECT o.oid AS \"ZTF identifier\",\n       p_stamp.probability AS \"prob_stamp_agn\",\n       p_lc.probability AS \"prob_lc_lpv\"\nFROM OBJECT o -- Subquery for stamp classifier probabilities\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE classifier_name = 'stamp_classifier_1.0.4'\n     AND class_name = 'AGN'\n     AND probability > 0.6 ) p_stamp ON o.oid = p_stamp.oid -- Subquery for light curve classifier probabilities\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE classifier_name = 'lc_classifier'\n     AND class_name = 'LPV'\n     AND probability > 0.7 ) p_lc ON o.oid = p_lc.oid\nLIMIT 50;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve up to 50 ZTF objects with specified classification probabilities\n\nSELECT o.oid AS \"ZTF identifier\",\n       p_stamp.probability AS \"prob_stamp_agn\",\n       p_lc.probability AS \"prob_lc_lpv\"\nFROM OBJECT o -- Subquery for stamp classifier probabilities\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE classifier_name = 'stamp_classifier_1.0.4'\n     AND class_name = 'AGN'\n     AND probability > 0.6 ) p_stamp ON o.oid = p_stamp.oid -- Subquery for light curve classifier probabilities\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE classifier_name = 'lc_classifier'\n     AND class_name = 'LPV'\n     AND probability > 0.7 ) p_lc ON o.oid = p_lc.oid\nLIMIT 50;"
                },
                "in_toks": 2177,
                "out_toks": 196,
                "id": "chatcmpl-BgYja7XXz2jurvPwJv7L2tptE4qHv",
                "created": 1749482994,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 97,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'probability']",
                    "1": "['object', 'probability']"
                },
                "in_toks": 842,
                "out_toks": 14,
                "id": "chatcmpl-BgYjav5T0eJ4dBrT1Og5BT7HlSxk7",
                "created": 1749482994,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve up to 50 ZTF objects with specified classification probabilities\n\nSELECT o.oid AS \"ZTF identifier\",\n       p_stamp.probability AS \"prob_stamp_agn\",\n       p_lc.probability AS \"prob_lc_lpv\"\nFROM OBJECT o -- Subquery for stamp classifier probabilities\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE classifier_name = 'stamp_classifier_1.0.4'\n     AND class_name = 'AGN'\n     AND probability > 0.6 ) p_stamp ON o.oid = p_stamp.oid -- Subquery for light curve classifier probabilities\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE classifier_name = 'lc_classifier'\n     AND class_name = 'LPV'\n     AND probability > 0.7 ) p_lc ON o.oid = p_lc.oid\nLIMIT 50;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve up to 50 ZTF objects with specified classification probabilities\n\nSELECT o.oid AS \"ZTF identifier\",\n       p_stamp.probability AS \"prob_stamp_agn\",\n       p_lc.probability AS \"prob_lc_lpv\"\nFROM OBJECT o -- Subquery for stamp classifier probabilities\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE classifier_name = 'stamp_classifier_1.0.4'\n     AND class_name = 'AGN'\n     AND probability > 0.6 ) p_stamp ON o.oid = p_stamp.oid -- Subquery for light curve classifier probabilities\nJOIN\n  (SELECT oid,\n          probability\n   FROM probability\n   WHERE classifier_name = 'lc_classifier'\n     AND class_name = 'LPV'\n     AND probability > 0.7 ) p_lc ON o.oid = p_lc.oid\nLIMIT 50;"
                },
                "in_toks": 2177,
                "out_toks": 196,
                "id": "chatcmpl-BgYjdaEBQmkKPkpWhe8PnqrguZw79",
                "created": 1749482997,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "66": {
        "0": {
            "req_id": 66,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "gaia_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'gaia_ztf']",
                    "1": "['object', 'gaia_ztf']"
                },
                "in_toks": 770,
                "out_toks": 20,
                "id": "chatcmpl-BgYjg1Ds4Hr3dpCpNeuJPDyYWPRwS",
                "created": 1749483000,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve the distance and Gaia magnitude of the nearest Gaia object to the specified ZTF object\n\nSELECT o.oid AS ztf_object_id,\n       g.neargaia AS distance_arcsec,\n       g.maggaia AS gaia_magnitude\nFROM OBJECT o\nJOIN gaia_ztf g ON o.oid = g.oid\nWHERE o.oid = 'ZTF22abftjko';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve the distance and Gaia magnitude of the nearest Gaia object to the specified ZTF object\n\nSELECT o.oid AS ztf_object_id,\n       g.neargaia AS distance_arcsec,\n       g.maggaia AS gaia_magnitude\nFROM OBJECT o\nJOIN gaia_ztf g ON o.oid = g.oid\nWHERE o.oid = 'ZTF22abftjko';"
                },
                "in_toks": 2137,
                "out_toks": 96,
                "id": "chatcmpl-BgYjgo8EIVDt5qKtuPc8HnuMsL7HH",
                "created": 1749483000,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 66,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "gaia_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'gaia_ztf']",
                    "1": "['object', 'gaia_ztf']"
                },
                "in_toks": 770,
                "out_toks": 20,
                "id": "chatcmpl-BgYjg1Ds4Hr3dpCpNeuJPDyYWPRwS",
                "created": 1749483000,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve the distance and Gaia magnitude of the nearest Gaia object to the specified ZTF object\n\nSELECT o.oid AS ztf_oid,\n       g.neargaia AS distance_arcsec,\n       g.maggaia AS gaia_magnitude\nFROM OBJECT o\nJOIN gaia_ztf g ON o.oid = g.oid\nWHERE o.oid = 'ZTF22abftjko';",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve the distance and Gaia magnitude of the nearest Gaia object to the specified ZTF object\n\nSELECT o.oid AS ztf_oid,\n       g.neargaia AS distance_arcsec,\n       g.maggaia AS gaia_magnitude\nFROM OBJECT o\nJOIN gaia_ztf g ON o.oid = g.oid\nWHERE o.oid = 'ZTF22abftjko';"
                },
                "in_toks": 2137,
                "out_toks": 95,
                "id": "chatcmpl-BgYjiOAYG3kiqIWeA3hJs29duRy6b",
                "created": 1749483002,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "50": {
        "0": {
            "req_id": 50,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "feature",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature', 'probability']",
                    "1": "['object', 'feature', 'probability']"
                },
                "in_toks": 809,
                "out_toks": 20,
                "id": "chatcmpl-BgYjkX2ieRjqSbFWywoMmqBBVTG6h",
                "created": 1749483004,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve features for specified objects with version 'lc_classifier_1.2.1-P'\n\nSELECT o.oid AS \"ZTF identifier\",\n       f.name AS \"feature name\",\n       f.value,\n       f.fid AS \"filter identifier\"\nFROM OBJECT o\nJOIN feature f ON o.oid = f.oid\nWHERE o.oid IN ('ZTF21aaqytjr',\n                'ZTF23abkhwgb')\n  AND f.version = 'lc_classifier_1.2.1-P'\nORDER BY o.oid,\n         f.name;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve features for specified objects with version 'lc_classifier_1.2.1-P'\n\nSELECT o.oid AS \"ZTF identifier\",\n       f.name AS \"feature name\",\n       f.value,\n       f.fid AS \"filter identifier\"\nFROM OBJECT o\nJOIN feature f ON o.oid = f.oid\nWHERE o.oid IN ('ZTF21aaqytjr',\n                'ZTF23abkhwgb')\n  AND f.version = 'lc_classifier_1.2.1-P'\nORDER BY o.oid,\n         f.name;"
                },
                "in_toks": 4576,
                "out_toks": 127,
                "id": "chatcmpl-BgYjkzT8V8oy2duDFAbIsmlpT5yrz",
                "created": 1749483004,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 50,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "feature",
                "probability"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature', 'probability']",
                    "1": "['object', 'feature', 'probability']"
                },
                "in_toks": 809,
                "out_toks": 20,
                "id": "chatcmpl-BgYjkX2ieRjqSbFWywoMmqBBVTG6h",
                "created": 1749483004,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve features for specified objects with version 'lc_classifier_1.2.1-P'\n\nSELECT o.oid AS \"ZTF identifier\",\n       f.name AS \"feature name\",\n       f.value,\n       f.fid AS \"filter identifier\"\nFROM OBJECT o\nJOIN feature f ON o.oid = f.oid\nWHERE o.oid IN ('ZTF21aaqytjr',\n                'ZTF23abkhwgb')\n  AND f.version = 'lc_classifier_1.2.1-P'\nORDER BY o.oid,\n         f.name;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve features for specified objects with version 'lc_classifier_1.2.1-P'\n\nSELECT o.oid AS \"ZTF identifier\",\n       f.name AS \"feature name\",\n       f.value,\n       f.fid AS \"filter identifier\"\nFROM OBJECT o\nJOIN feature f ON o.oid = f.oid\nWHERE o.oid IN ('ZTF21aaqytjr',\n                'ZTF23abkhwgb')\n  AND f.version = 'lc_classifier_1.2.1-P'\nORDER BY o.oid,\n         f.name;"
                },
                "in_toks": 4576,
                "out_toks": 127,
                "id": "chatcmpl-BgYjml7cjy0Gzg3i5m8RxWi2lBmbE",
                "created": 1749483006,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "91": {
        "0": {
            "req_id": 91,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature']",
                    "1": "['object', 'feature']"
                },
                "in_toks": 813,
                "out_toks": 12,
                "id": "chatcmpl-BgYjoV23GvpY5JJV8rsasxMap8sso",
                "created": 1749483008,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Retrieve ZTF objects with 'W1-W2' color lower than 1, including specified columns\n-- Optimized with nested subqueries to improve performance and avoid timeouts\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       (f_g.value - f_r.value) AS g_minus_r_diff,\n       f_w1_w2.value AS w1_w2,\n       f_w1_w2.version AS feature_version\nFROM OBJECT o -- Subquery to get 'g-r_max' feature for g-band (fid=13)\nJOIN\n  (SELECT oid,\n          value,\n          VERSION\n   FROM feature\n   WHERE name = 'g-r_max'\n     AND fid = 13 ) f_g ON o.oid = f_g.oid -- Subquery to get 'g-r_max' feature for r-band (fid=23)\nJOIN\n  (SELECT oid,\n          value,\n          VERSION\n   FROM feature\n   WHERE name = 'g-r_max'\n     AND fid = 23 ) f_r ON o.oid = f_r.oid -- Subquery to get 'W1-W2' feature\nJOIN\n  (SELECT oid,\n          value,\n          VERSION\n   FROM feature\n   WHERE name = 'W1-W2' ) f_w1_w2 ON o.oid = f_w1_w2.oid\nWHERE f_w1_w2.value < 1 -- Optional: limit to 100 results\nLIMIT 100;",
            "sql_response": {
                "responses": {
                    "0": "-- Retrieve ZTF objects with 'W1-W2' color lower than 1, including specified columns\n-- Optimized with nested subqueries to improve performance and avoid timeouts\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       (f_g.value - f_r.value) AS g_minus_r_diff,\n       f_w1_w2.value AS w1_w2,\n       f_w1_w2.version AS feature_version\nFROM OBJECT o -- Subquery to get 'g-r_max' feature for g-band (fid=13)\nJOIN\n  (SELECT oid,\n          value,\n          VERSION\n   FROM feature\n   WHERE name = 'g-r_max'\n     AND fid = 13 ) f_g ON o.oid = f_g.oid -- Subquery to get 'g-r_max' feature for r-band (fid=23)\nJOIN\n  (SELECT oid,\n          value,\n          VERSION\n   FROM feature\n   WHERE name = 'g-r_max'\n     AND fid = 23 ) f_r ON o.oid = f_r.oid -- Subquery to get 'W1-W2' feature\nJOIN\n  (SELECT oid,\n          value,\n          VERSION\n   FROM feature\n   WHERE name = 'W1-W2' ) f_w1_w2 ON o.oid = f_w1_w2.oid\nWHERE f_w1_w2.value < 1 -- Optional: limit to 100 results\nLIMIT 100;"
                },
                "in_toks": 3844,
                "out_toks": 313,
                "id": "chatcmpl-BgZYln1r5xsQpplEoZVYjp1kb0XaK",
                "created": 1749486167,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve ZTF objects with 'W1-W2' color lower than 1, including specified columns\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       (f_g.value - f_r.value) AS g_minus_r_diff,\n       f_w1_w2.value AS w1_w2,\n       f_w1_w2.version AS feature_version\nFROM OBJECT o\nJOIN feature f_g ON o.oid = f_g.oid\nAND f_g.name = 'g-r_max'\nAND f_g.fid = 13\nJOIN feature f_r ON o.oid = f_r.oid\nAND f_r.name = 'g-r_max'\nAND f_r.fid = 23\nJOIN feature f_w1_w2 ON o.oid = f_w1_w2.oid\nAND f_w1_w2.name = 'W1-W2'\nWHERE f_w1_w2.value < 1\nLIMIT 100;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve ZTF objects with 'W1-W2' color lower than 1, including specified columns\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       (f_g.value - f_r.value) AS g_minus_r_diff,\n       f_w1_w2.value AS w1_w2,\n       f_w1_w2.version AS feature_version\nFROM OBJECT o\nJOIN feature f_g ON o.oid = f_g.oid\nAND f_g.name = 'g-r_max'\nAND f_g.fid = 13\nJOIN feature f_r ON o.oid = f_r.oid\nAND f_r.name = 'g-r_max'\nAND f_r.fid = 23\nJOIN feature f_w1_w2 ON o.oid = f_w1_w2.oid\nAND f_w1_w2.name = 'W1-W2'\nWHERE f_w1_w2.value < 1\nLIMIT 100;"
                },
                "in_toks": 4396,
                "out_toks": 214,
                "id": "chatcmpl-BgYjpDdpXLLh6avzZKpQipVCovbF4",
                "created": 1749483009,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 91,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "feature"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'feature']",
                    "1": "['object', 'feature']"
                },
                "in_toks": 813,
                "out_toks": 12,
                "id": "chatcmpl-BgYjoV23GvpY5JJV8rsasxMap8sso",
                "created": 1749483008,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- This query retrieves ZTF objects with 'W1-W2' color less than 1, including the object ID, number of detections, g-r_max difference, W1-W2 feature value, and its version.\n-- To optimize and avoid timeout, we use nested subqueries to filter features first, then join with object table.\n-- Additionally, ensure that only the latest or relevant feature versions are considered if needed (not specified here, so we take all versions).\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       (f_g.value - f_r.value) AS g_minus_r_diff,\n       f_w1_w2.value AS w1_w2,\n       f_w1_w2.version AS feature_version\nFROM OBJECT o -- Subquery to select latest 'g-r_max' features for g and r bands\nJOIN\n  (SELECT DISTINCT ON (oid) oid,\n                      name,\n                      value,\n                      fid,\n                      VERSION\n   FROM feature\n   WHERE name IN ('g-r_max')\n     AND fid IN (13,\n                 23)\n   ORDER BY oid,\n            fid,\n            VERSION DESC -- assuming latest version per object\n) f_g ON o.oid = f_g.oid\nAND f_g.fid = 13\nJOIN\n  (SELECT DISTINCT ON (oid) oid,\n                      name,\n                      value,\n                      fid,\n                      VERSION\n   FROM feature\n   WHERE name IN ('g-r_max')\n     AND fid IN (13,\n                 23)\n   ORDER BY oid,\n            fid,\n            VERSION DESC) f_r ON o.oid = f_r.oid\nAND f_r.fid = 23 -- Join to get the 'W1-W2' feature, latest version\nJOIN\n  (SELECT DISTINCT ON (oid) oid,\n                      name,\n                      value,\n                      fid,\n                      VERSION\n   FROM feature\n   WHERE name = 'W1-W2'\n   ORDER BY oid,\n            VERSION DESC) f_w1_w2 ON o.oid = f_w1_w2.oid -- Filter objects where W1-W2 color is less than 1\n\nWHERE f_w1_w2.value < 1 -- Limit to 100 results for performance\nLIMIT 100;",
            "sql_response": {
                "responses": {
                    "0": "-- This query retrieves ZTF objects with 'W1-W2' color less than 1, including the object ID, number of detections, g-r_max difference, W1-W2 feature value, and its version.\n-- To optimize and avoid timeout, we use nested subqueries to filter features first, then join with object table.\n-- Additionally, ensure that only the latest or relevant feature versions are considered if needed (not specified here, so we take all versions).\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       (f_g.value - f_r.value) AS g_minus_r_diff,\n       f_w1_w2.value AS w1_w2,\n       f_w1_w2.version AS feature_version\nFROM OBJECT o -- Subquery to select latest 'g-r_max' features for g and r bands\nJOIN\n  (SELECT DISTINCT ON (oid) oid,\n                      name,\n                      value,\n                      fid,\n                      VERSION\n   FROM feature\n   WHERE name IN ('g-r_max')\n     AND fid IN (13,\n                 23)\n   ORDER BY oid,\n            fid,\n            VERSION DESC -- assuming latest version per object\n) f_g ON o.oid = f_g.oid\nAND f_g.fid = 13\nJOIN\n  (SELECT DISTINCT ON (oid) oid,\n                      name,\n                      value,\n                      fid,\n                      VERSION\n   FROM feature\n   WHERE name IN ('g-r_max')\n     AND fid IN (13,\n                 23)\n   ORDER BY oid,\n            fid,\n            VERSION DESC) f_r ON o.oid = f_r.oid\nAND f_r.fid = 23 -- Join to get the 'W1-W2' feature, latest version\nJOIN\n  (SELECT DISTINCT ON (oid) oid,\n                      name,\n                      value,\n                      fid,\n                      VERSION\n   FROM feature\n   WHERE name = 'W1-W2'\n   ORDER BY oid,\n            VERSION DESC) f_w1_w2 ON o.oid = f_w1_w2.oid -- Filter objects where W1-W2 color is less than 1\n\nWHERE f_w1_w2.value < 1 -- Limit to 100 results for performance\nLIMIT 100;"
                },
                "in_toks": 3844,
                "out_toks": 447,
                "id": "chatcmpl-BgZYpLn8kPOzpiBy4Znspt3jlZ57c",
                "created": 1749486171,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve ZTF objects with 'W1-W2' color lower than 1, including specified columns\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       (f_g.value - f_r.value) AS g_minus_r_diff,\n       f_w1_w2.value AS w1_w2,\n       f_w1_w2.version AS feature_version\nFROM OBJECT o\nJOIN feature f_g ON o.oid = f_g.oid\nAND f_g.name = 'g-r_max'\nAND f_g.fid = 13\nJOIN feature f_r ON o.oid = f_r.oid\nAND f_r.name = 'g-r_max'\nAND f_r.fid = 23\nJOIN feature f_w1_w2 ON o.oid = f_w1_w2.oid\nAND f_w1_w2.name = 'W1-W2'\nWHERE f_w1_w2.value < 1\nLIMIT 100;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve ZTF objects with 'W1-W2' color lower than 1, including specified columns\n\nSELECT o.oid AS ztf_identifier,\n       o.ndet AS number_of_detections,\n       (f_g.value - f_r.value) AS g_minus_r_diff,\n       f_w1_w2.value AS w1_w2,\n       f_w1_w2.version AS feature_version\nFROM OBJECT o\nJOIN feature f_g ON o.oid = f_g.oid\nAND f_g.name = 'g-r_max'\nAND f_g.fid = 13\nJOIN feature f_r ON o.oid = f_r.oid\nAND f_r.name = 'g-r_max'\nAND f_r.fid = 23\nJOIN feature f_w1_w2 ON o.oid = f_w1_w2.oid\nAND f_w1_w2.name = 'W1-W2'\nWHERE f_w1_w2.value < 1\nLIMIT 100;"
                },
                "in_toks": 4396,
                "out_toks": 214,
                "id": "chatcmpl-BgYjsWuPXVCZGeH0RlYEoYSNcwFpv",
                "created": 1749483012,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "68": {
        "0": {
            "req_id": 68,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "ps1_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'ps1_ztf']",
                    "1": "['object', 'ps1_ztf']"
                },
                "in_toks": 784,
                "out_toks": 20,
                "id": "chatcmpl-BgYjv1quvTcitPyuPGQdaT5p3pyUn",
                "created": 1749483015,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve the PS1 source information for the nearest source to the specified ZTF object\n\nSELECT objectidps1,\n       sgmag1,\n       sgscore1,\n       distpsnr1\nFROM ps1_ztf\nWHERE oid = 'ZTF21abfrbnm'\nORDER BY distpsnr1\nLIMIT 1;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve the PS1 source information for the nearest source to the specified ZTF object\n\nSELECT objectidps1,\n       sgmag1,\n       sgscore1,\n       distpsnr1\nFROM ps1_ztf\nWHERE oid = 'ZTF21abfrbnm'\nORDER BY distpsnr1\nLIMIT 1;"
                },
                "in_toks": 2689,
                "out_toks": 85,
                "id": "chatcmpl-BgYjv4y01GX4GLk03CQW9aHif35sB",
                "created": 1749483015,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 68,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "ps1_ztf"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'ps1_ztf']",
                    "1": "['object', 'ps1_ztf']"
                },
                "in_toks": 784,
                "out_toks": 20,
                "id": "chatcmpl-BgYjv1quvTcitPyuPGQdaT5p3pyUn",
                "created": 1749483015,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve the PS1 source information for the nearest PS1 source to the specified ZTF object\n\nSELECT p.objectidps1,\n       p.sgmag1,\n       p.sgscore1,\n       p.distpsnr1\nFROM ps1_ztf p\nWHERE p.oid = 'ZTF21abfrbnm'\nORDER BY p.distpsnr1\nLIMIT 1;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve the PS1 source information for the nearest PS1 source to the specified ZTF object\n\nSELECT p.objectidps1,\n       p.sgmag1,\n       p.sgscore1,\n       p.distpsnr1\nFROM ps1_ztf p\nWHERE p.oid = 'ZTF21abfrbnm'\nORDER BY p.distpsnr1\nLIMIT 1;"
                },
                "in_toks": 2689,
                "out_toks": 95,
                "id": "chatcmpl-BgYjxZBdqenhROZSXrwsEtzgSac5n",
                "created": 1749483017,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "60": {
        "0": {
            "req_id": 60,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'magstat']",
                    "1": "['object', 'magstat']"
                },
                "in_toks": 812,
                "out_toks": 14,
                "id": "chatcmpl-BgYjyomJyWEOoWhumMjHo4Gw4paAA",
                "created": 1749483018,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve specified columns for objects with given ZTF identifiers and zero dubious corrections in the g band\n\nSELECT o.oid AS \"ZTF identifier\",\n       m.ndet AS \"number of detections\",\n       m.dmdt_first AS \"initial rise estimate\",\n       m.magfirst AS \"first difference magnitude\"\nFROM OBJECT o\nJOIN magstat m ON o.oid = m.oid\nWHERE o.oid IN ('ZTF20adadshh',\n                'ZTF21aaabvit',\n                'ZTF21aaabvjk')\n  AND m.fid = 1 -- g band\n\n  AND m.ndubious = 0;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve specified columns for objects with given ZTF identifiers and zero dubious corrections in the g band\n\nSELECT o.oid AS \"ZTF identifier\",\n       m.ndet AS \"number of detections\",\n       m.dmdt_first AS \"initial rise estimate\",\n       m.magfirst AS \"first difference magnitude\"\nFROM OBJECT o\nJOIN magstat m ON o.oid = m.oid\nWHERE o.oid IN ('ZTF20adadshh',\n                'ZTF21aaabvit',\n                'ZTF21aaabvjk')\n  AND m.fid = 1 -- g band\n\n  AND m.ndubious = 0;"
                },
                "in_toks": 2680,
                "out_toks": 145,
                "id": "chatcmpl-BgYjzntWrl9uDO1yFW01ZH4IN9Dog",
                "created": 1749483019,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 60,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "magstat"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'magstat']",
                    "1": "['object', 'magstat']"
                },
                "in_toks": 812,
                "out_toks": 14,
                "id": "chatcmpl-BgYjyomJyWEOoWhumMjHo4Gw4paAA",
                "created": 1749483018,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "SELECT m.oid AS \"ZTF identifier\",\n       m.ndet AS \"number of detections\",\n       m.dmdt_first AS \"initial rise estimate\",\n       m.magfirst AS \"first difference magnitude\"\nFROM magstat m\nWHERE m.oid IN ('ZTF20adadshh',\n                'ZTF21aaabvit',\n                'ZTF21aaabvjk')\n  AND m.fid = 1 -- g band\n\n  AND m.ndubious = 0; -- zero dubious corrections",
            "original_sql_response": {
                "responses": {
                    "0": "SELECT m.oid AS \"ZTF identifier\",\n       m.ndet AS \"number of detections\",\n       m.dmdt_first AS \"initial rise estimate\",\n       m.magfirst AS \"first difference magnitude\"\nFROM magstat m\nWHERE m.oid IN ('ZTF20adadshh',\n                'ZTF21aaabvit',\n                'ZTF21aaabvjk')\n  AND m.fid = 1 -- g band\n\n  AND m.ndubious = 0; -- zero dubious corrections"
                },
                "in_toks": 2680,
                "out_toks": 107,
                "id": "chatcmpl-BgYk0oFlqGgE6Sfb6sponSg8ubMpK",
                "created": 1749483020,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    },
    "76": {
        "0": {
            "req_id": 76,
            "experiment_id": "run_0",
            "pred_tables": [
                "gaia_ztf",
                "ss_ztf",
                "object"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['gaia_ztf', 'ss_ztf', 'object']",
                    "1": "['gaia_ztf', 'ss_ztf', 'object']"
                },
                "in_toks": 796,
                "out_toks": 32,
                "id": "chatcmpl-BgYk2M9c1Zi7hz8ZeWtyKBwKCfvso",
                "created": 1749483022,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query with proper table and column references, and proper usage of the q3c functions\n\nSELECT o.oid AS ztf_object_id,\n       ss.ssmagnr AS mpc_magnitude,\n       q3c_dist(o.meanra, o.meandec, ss.oid, ss.oid) AS distance_deg\nFROM OBJECT o\nJOIN ss_ztf ss ON o.oid = ss.oid\nWHERE ss.ssnamenr = '115185'\n  AND q3c_join(o.meanra, o.meandec, ss.oid, ss.oid, 1.5/3600.0) -- 1.5 arcsec converted to degrees\nORDER BY distance_deg;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query with proper table and column references, and proper usage of the q3c functions\n\nSELECT o.oid AS ztf_object_id,\n       ss.ssmagnr AS mpc_magnitude,\n       q3c_dist(o.meanra, o.meandec, ss.oid, ss.oid) AS distance_deg\nFROM OBJECT o\nJOIN ss_ztf ss ON o.oid = ss.oid\nWHERE ss.ssnamenr = '115185'\n  AND q3c_join(o.meanra, o.meandec, ss.oid, ss.oid, 1.5/3600.0) -- 1.5 arcsec converted to degrees\nORDER BY distance_deg;"
                },
                "in_toks": 1564,
                "out_toks": 159,
                "id": "chatcmpl-BgZYwHcLi0Hn5c96RkPGm0HQOZEPq",
                "created": 1749486178,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "SELECT o.oid AS ztf_object_id,\n       s.ssmagnr AS mpc_magnitude,\n       q3c_dist(o.ra, o.dec, ss.oid, ss.oid) AS distance_deg\nFROM OBJECT o\nJOIN ss_ztf ss ON o.oid = ss.oid\nWHERE ss.ssnamenr = '115185'\n  AND q3c_join(o.ra, o.dec, ss.oid, ss.oid, 1.5/3600.0) -- 1.5 arcsec converted to degrees\nORDER BY distance_deg;",
            "original_sql_response": {
                "responses": {
                    "0": "SELECT o.oid AS ztf_object_id,\n       s.ssmagnr AS mpc_magnitude,\n       q3c_dist(o.ra, o.dec, ss.oid, ss.oid) AS distance_deg\nFROM OBJECT o\nJOIN ss_ztf ss ON o.oid = ss.oid\nWHERE ss.ssnamenr = '115185'\n  AND q3c_join(o.ra, o.dec, ss.oid, ss.oid, 1.5/3600.0) -- 1.5 arcsec converted to degrees\nORDER BY distance_deg;"
                },
                "in_toks": 2326,
                "out_toks": 131,
                "id": "chatcmpl-BgYk3Wk81puBKt3MGpDVVL8YymiZT",
                "created": 1749483023,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        },
        "1": {
            "req_id": 76,
            "experiment_id": "run_1",
            "pred_tables": [
                "gaia_ztf",
                "ss_ztf",
                "object"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['gaia_ztf', 'ss_ztf', 'object']",
                    "1": "['gaia_ztf', 'ss_ztf', 'object']"
                },
                "in_toks": 796,
                "out_toks": 32,
                "id": "chatcmpl-BgYk2M9c1Zi7hz8ZeWtyKBwKCfvso",
                "created": 1749483022,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": "-- Corrected SQL query to find all ZTF objects within 1.5 arcsec of the Solar System object '115185'\n-- Using the provided schema, the approach is:\n-- 1. Retrieve the object's mean RA and Dec from the 'object' table for the given MPC identifier.\n-- 2. Join with 'ss_ztf' to get the closest ZTF objects.\n-- 3. Calculate the angular distance using the 'q3c_dist' function with the object's RA/Dec and the ZTF object's position.\n-- 4. Filter for objects within 1.5 arcsec (converted to degrees).\n-- 5. Return the ZTF object ID, MPC magnitude, and distance, sorted by distance.\n \nSELECT o.oid AS ztf_object_id, \n       gaia.maggaiabright AS mpc_magnitude, \n       q3c_dist(o.meanra, o.meandec, ss.ra, ss.dec) AS distance_deg\nFROM OBJECT o\nJOIN ss_ztf ss ON o.oid = ss.oid\nLEFT JOIN gaia_ztf gaia ON o.oid = gaia.oid \nWHERE -- Retrieve the object with MPC identifier '115185'\n o.oid = \n    (SELECT oid\n     FROM OBJECT \n     WHERE oid = '115185' ) -- Calculate distance between the object and ZTF object positions\n\n  AND q3c_dist(o.meanra, o.meandec, ss.ra, ss.dec) <= 1.5 / 3600.0 -- 1.5 arcsec converted to degrees\nORDER BY distance_deg;",
            "sql_response": {
                "responses": {
                    "0": "-- Corrected SQL query to find all ZTF objects within 1.5 arcsec of the Solar System object '115185'\n-- Using the provided schema, the approach is:\n-- 1. Retrieve the object's mean RA and Dec from the 'object' table for the given MPC identifier.\n-- 2. Join with 'ss_ztf' to get the closest ZTF objects.\n-- 3. Calculate the angular distance using the 'q3c_dist' function with the object's RA/Dec and the ZTF object's position.\n-- 4. Filter for objects within 1.5 arcsec (converted to degrees).\n-- 5. Return the ZTF object ID, MPC magnitude, and distance, sorted by distance.\n \nSELECT o.oid AS ztf_object_id, \n       gaia.maggaiabright AS mpc_magnitude, \n       q3c_dist(o.meanra, o.meandec, ss.ra, ss.dec) AS distance_deg\nFROM OBJECT o\nJOIN ss_ztf ss ON o.oid = ss.oid\nLEFT JOIN gaia_ztf gaia ON o.oid = gaia.oid \nWHERE -- Retrieve the object with MPC identifier '115185'\n o.oid = \n    (SELECT oid\n     FROM OBJECT \n     WHERE oid = '115185' ) -- Calculate distance between the object and ZTF object positions\n\n  AND q3c_dist(o.meanra, o.meandec, ss.ra, ss.dec) <= 1.5 / 3600.0 -- 1.5 arcsec converted to degrees\nORDER BY distance_deg;"
                },
                "in_toks": 1757,
                "out_toks": 341,
                "id": "chatcmpl-BgZYy6a9xnyQEQYq7dVKXvPmPkaJl",
                "created": 1749486180,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "SELECT o.oid AS ztf_object_id,\n       gaia.maggaia AS mpc_magnitude,\n       q3c_dist(o.meanra, o.meandec, ss.ssnamnr, ss.ssnamenr) AS distance_deg\nFROM OBJECT o\nJOIN ss_ztf ss ON o.oid = ss.oid\nLEFT JOIN gaia_ztf gaia ON o.oid = gaia.oid\nWHERE ss.ssnamenr = '115185'\n  AND q3c_dist(o.meanra, o.meandec, ss.ssnamenr, ss.ssnamenr) <= 1.5 / 3600.0\nORDER BY distance_deg;",
            "original_sql_response": {
                "responses": {
                    "0": "SELECT o.oid AS ztf_object_id,\n       gaia.maggaia AS mpc_magnitude,\n       q3c_dist(o.meanra, o.meandec, ss.ssnamnr, ss.ssnamenr) AS distance_deg\nFROM OBJECT o\nJOIN ss_ztf ss ON o.oid = ss.oid\nLEFT JOIN gaia_ztf gaia ON o.oid = gaia.oid\nWHERE ss.ssnamenr = '115185'\n  AND q3c_dist(o.meanra, o.meandec, ss.ssnamenr, ss.ssnamenr) <= 1.5 / 3600.0\nORDER BY distance_deg;"
                },
                "in_toks": 2326,
                "out_toks": 156,
                "id": "chatcmpl-BgYk6tMN00q3uZoctBJ3SDsAhesV2",
                "created": 1749483026,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": true
        }
    },
    "44": {
        "0": {
            "req_id": 44,
            "experiment_id": "run_0",
            "pred_tables": [
                "object",
                "dataquality"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'dataquality']",
                    "1": "['object', 'dataquality']"
                },
                "in_toks": 806,
                "out_toks": 14,
                "id": "chatcmpl-BgYk8ATblkCTFRLyjfvgyzw7eTxkf",
                "created": 1749483028,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all epochs for specified ZTF objects with reduced chi-square < 3\n\nSELECT *\nFROM dataquality\nWHERE oid IN ('ZTF20abfcszi',\n              'ZTF21aaqwjlz')\n  AND chipsf < 3\nORDER BY oid ASC,\n         scorr DESC;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all epochs for specified ZTF objects with reduced chi-square < 3\n\nSELECT *\nFROM dataquality\nWHERE oid IN ('ZTF20abfcszi',\n              'ZTF21aaqwjlz')\n  AND chipsf < 3\nORDER BY oid ASC,\n         scorr DESC;"
                },
                "in_toks": 2754,
                "out_toks": 67,
                "id": "chatcmpl-BgYk909alOvA1piT8ohmYMiiWFtes",
                "created": 1749483029,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        },
        "1": {
            "req_id": 44,
            "experiment_id": "run_1",
            "pred_tables": [
                "object",
                "dataquality"
            ],
            "schema_linking_response": {
                "responses": {
                    "0": "['object', 'dataquality']",
                    "1": "['object', 'dataquality']"
                },
                "in_toks": 806,
                "out_toks": 14,
                "id": "chatcmpl-BgYk8ATblkCTFRLyjfvgyzw7eTxkf",
                "created": 1749483028,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "sql_query": null,
            "sql_response": null,
            "pred_diff": null,
            "diff_response": null,
            "original_sql_query": "-- Retrieve all epochs for specified ZTF objects with reduced chi-square < 3\n\nSELECT *\nFROM dataquality\nWHERE oid IN ('ZTF20abfcszi',\n              'ZTF21aaqwjlz')\n  AND scorr < 3\nORDER BY oid ASC,\n         scorr DESC;",
            "original_sql_response": {
                "responses": {
                    "0": "-- Retrieve all epochs for specified ZTF objects with reduced chi-square < 3\n\nSELECT *\nFROM dataquality\nWHERE oid IN ('ZTF20abfcszi',\n              'ZTF21aaqwjlz')\n  AND scorr < 3\nORDER BY oid ASC,\n         scorr DESC;"
                },
                "in_toks": 2754,
                "out_toks": 67,
                "id": "chatcmpl-BgYkBey07WQYv2JZJoHlahPyEDrQw",
                "created": 1749483031,
                "model": "gpt-4.1-nano-2025-04-14"
            },
            "correction_applied": false
        }
    }
}